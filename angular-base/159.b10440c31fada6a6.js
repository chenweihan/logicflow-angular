(self.webpackChunkangular_base=self.webpackChunkangular_base||[]).push([[159],{2188:($a,Rr)=>{window,$a.exports=function(D){var N={};function a(b){if(N[b])return N[b].exports;var y=N[b]={i:b,l:!1,exports:{}};return D[b].call(y.exports,y,y.exports,a),y.l=!0,y.exports}return a.m=D,a.c=N,a.d=function(b,y,P){a.o(b,y)||Object.defineProperty(b,y,{enumerable:!0,get:P})},a.r=function(b){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},a.t=function(b,y){if(1&y&&(b=a(b)),8&y||4&y&&"object"==typeof b&&b&&b.__esModule)return b;var P=Object.create(null);if(a.r(P),Object.defineProperty(P,"default",{enumerable:!0,value:b}),2&y&&"string"!=typeof b)for(var T in b)a.d(P,T,function(C){return b[C]}.bind(null,T));return P},a.n=function(b){var y=b&&b.__esModule?function(){return b.default}:function(){return b};return a.d(y,"a",y),y},a.o=function(b,y){return Object.prototype.hasOwnProperty.call(b,y)},a.p="",a(a.s=215)}([function(D,N,a){"use strict";(function(b,y){a.d(N,"a",function(){return Se}),a.d(N,"b",function(){return so}),a.d(N,"c",function(){return rn}),a.d(N,"d",function(){return Ee}),a.d(N,"e",function(){return Pt}),a.d(N,"f",function(){return jt}),a.d(N,"g",function(){return Ka}),a.d(N,"h",function(){return z}),a.d(N,"i",function(){return Y}),a.d(N,"j",function(){return di}),a.d(N,"k",function(){return an}),a.d(N,"l",function(){return Ar}),a.d(N,"m",function(){return ot}),a.d(N,"n",function(){return fa}),a.d(N,"o",function(){return He}),a.d(N,"p",function(){return ln}),a.d(N,"q",function(){return Pi}),a.d(N,"r",function(){return bn}),a.d(N,"s",function(){return M}),a.d(N,"t",function(){return un}),a.d(N,"u",function(){return xo}),a.d(N,"v",function(){return $o}),a.d(N,"w",function(){return ro}),a.d(N,"x",function(){return no}),a.d(N,"y",function(){return Qt}),a.d(N,"z",function(){return dr}),a.d(N,"A",function(){return S}),a.d(N,"B",function(){return In}),a.d(N,"C",function(){return kt}),a.d(N,"D",function(){return Vo}),a.d(N,"E",function(){return mn}),a.d(N,"F",function(){return Oi}),a.d(N,"G",function(){return bi}),a.d(N,"H",function(){return on}),a.d(N,"I",function(){return ha}),a.d(N,"J",function(){return Wr}),a.d(N,"K",function(){return Ze}),a.d(N,"L",function(){return oo}),a.d(N,"M",function(){return io});var T=[];Object.freeze(T);var C={};function L(){return++et.mobxGuid}function B(l){throw X(!1,l),"X"}function X(l,p){if(!l)throw new Error("[mobx] "+(p||"An invariant failed, however the error is obfuscated because this is a production build."))}function W(l){var p=!1;return function(){if(!p)return p=!0,l.apply(this,arguments)}}Object.freeze(C);var J=function(){};function ae(l){return null!==l&&"object"==typeof l}function re(l){if(null===l||"object"!=typeof l)return!1;var p=Object.getPrototypeOf(l);return p===Object.prototype||null===p}function ge(l,p,O){Object.defineProperty(l,p,{enumerable:!1,writable:!0,configurable:!0,value:O})}function le(l,p){var O="isMobX"+l;return p.prototype[O]=!0,function(j){return ae(j)&&!0===j[O]}}function oe(l){return l instanceof Map}function H(l){return l instanceof Set}function te(l){var p=new Set;for(var O in l)p.add(O);return Object.getOwnPropertySymbols(l).forEach(function(j){Object.getOwnPropertyDescriptor(l,j).enumerable&&p.add(j)}),Array.from(p)}function fe(l){return l&&l.toString?l.toString():new String(l).toString()}function ve(l){return null===l?null:"object"==typeof l?""+l:l}var ke=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(l){return Object.getOwnPropertyNames(l).concat(Object.getOwnPropertySymbols(l))}:Object.getOwnPropertyNames,Se=Symbol("mobx administration"),ze=function(){function l(p){void 0===p&&(p="Atom@"+L()),this.name=p,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Qe.NOT_TRACKING}return l.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(p){return p()})},l.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(p){return p()})},l.prototype.reportObserved=function(){return Jt(this)},l.prototype.reportChanged=function(){Zr(),function Go(l){l.lowestObserverState!==Qe.STALE&&(l.lowestObserverState=Qe.STALE,l.observers.forEach(function(p){p.dependenciesState===Qe.UP_TO_DATE&&(p.isTracing!==dt.NONE&&Ho(p,l),p.onBecomeStale()),p.dependenciesState=Qe.STALE}))}(this),br()},l.prototype.toString=function(){return this.name},l}(),We=le("Atom",ze);function He(l,p,O){void 0===p&&(p=J),void 0===O&&(O=J);var j=new ze(l);return p!==J&&function xi(l,p,O){return Si("onBecomeObserved",l,p,O)}(j,p),O!==J&&mn(j,O),j}var Ot={identity:function Ue(l,p){return l===p},structural:function tt(l,p){return me(l,p)},default:function wt(l,p){return Object.is(l,p)},shallow:function ft(l,p){return me(l,p,1)}},Fe=function(l,p){return(Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,j){O.__proto__=j}||function(O,j){for(var G in j)j.hasOwnProperty(G)&&(O[G]=j[G])})(l,p)};var it=function(){return it=Object.assign||function(p){for(var O,j=1,G=arguments.length;j<G;j++)for(var q in O=arguments[j])Object.prototype.hasOwnProperty.call(O,q)&&(p[q]=O[q]);return p},it.apply(this,arguments)};function Ke(l){var p="function"==typeof Symbol&&l[Symbol.iterator],O=0;return p?p.call(l):{next:function(){return l&&O>=l.length&&(l=void 0),{value:l&&l[O++],done:!l}}}}function _(l,p){var O="function"==typeof Symbol&&l[Symbol.iterator];if(!O)return l;var G,se,j=O.call(l),q=[];try{for(;(void 0===p||p-- >0)&&!(G=j.next()).done;)q.push(G.value)}catch(Ce){se={error:Ce}}finally{try{G&&!G.done&&(O=j.return)&&O.call(j)}finally{if(se)throw se.error}}return q}function ee(){for(var l=[],p=0;p<arguments.length;p++)l=l.concat(_(arguments[p]));return l}var ie=Symbol("mobx did run lazy initializers"),Ae=Symbol("mobx pending decorators"),Ye={},we={};function gt(l,p){var O=p?Ye:we;return O[l]||(O[l]={configurable:!0,enumerable:p,get:function(){return ht(this),this[l]},set:function(j){ht(this),this[l]=j}})}function ht(l){var p,O;if(!0!==l[ie]){var j=l[Ae];if(j){ge(l,ie,!0);var G=ee(Object.getOwnPropertySymbols(j),Object.keys(j));try{for(var q=Ke(G),se=q.next();!se.done;se=q.next()){var Xe=j[se.value];Xe.propertyCreator(l,Xe.prop,Xe.descriptor,Xe.decoratorTarget,Xe.decoratorArguments)}}catch(mt){p={error:mt}}finally{try{se&&!se.done&&(O=q.return)&&O.call(q)}finally{if(p)throw p.error}}}}}function pt(l,p){return function(){var j,G=function(se,Ce,Xe,mt){return!0===mt?(p(se,Ce,Xe,se,j),null):(Object.prototype.hasOwnProperty.call(se,Ae)||ge(se,Ae,it({},se[Ae])),se[Ae][Ce]={prop:Ce,propertyCreator:p,descriptor:Xe,decoratorTarget:se,decoratorArguments:j},gt(Ce,l))};return xt(arguments)?(j=T,G.apply(null,arguments)):(j=Array.prototype.slice.call(arguments),G)}}function xt(l){return(2===l.length||3===l.length)&&("string"==typeof l[1]||"symbol"==typeof l[1])||4===l.length&&!0===l[3]}function De(l,p,O){return no(l)?l:Array.isArray(l)?kt.array(l,{name:O}):re(l)?kt.object(l,void 0,{name:O}):oe(l)?kt.map(l,{name:O}):H(l)?kt.set(l,{name:O}):l}function ut(l){return l}function vt(l){X(l);var O=pt(!0,function(j,G,q,se,Ce){var Xe=q?q.initializer?q.initializer.call(j):q.value:void 0;Ii(j).addObservableProp(G,Xe,l)});return O.enhancer=l,O}var zt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Dt(l){return null==l?zt:"string"==typeof l?{name:l,deep:!0,proxy:!0}:l}Object.freeze(zt);var Gt=vt(De),_t=vt(function Lt(l,p,O){return null==l||S(l)||Qt(l)||dr(l)||Er(l)?l:Array.isArray(l)?kt.array(l,{name:O,deep:!1}):re(l)?kt.object(l,void 0,{name:O,deep:!1}):oe(l)?kt.map(l,{name:O,deep:!1}):H(l)?kt.set(l,{name:O,deep:!1}):B(!1)}),Xt=vt(ut),nr=vt(function ct(l,p,O){return me(l,p)?p:l});function vr(l){return l.defaultDecorator?l.defaultDecorator.enhancer:!1===l.deep?ut:De}var ar={box:function(l,p){arguments.length>2&&Ut("box");var O=Dt(p);return new Yr(l,vr(O),O.name,!0,O.equals)},array:function(l,p){arguments.length>2&&Ut("array");var O=Dt(p);return ga(l,vr(O),O.name)},map:function(l,p){arguments.length>2&&Ut("map");var O=Dt(p);return new so(l,vr(O),O.name)},set:function(l,p){arguments.length>2&&Ut("set");var O=Dt(p);return new pn(l,vr(O),O.name)},object:function(l,p,O){"string"==typeof arguments[1]&&Ut("object");var j=Dt(O);if(!1===j.proxy)return Pi({},l,p,j);var G=Rn(j),se=wo(Pi({},void 0,void 0,j));return Po(se,l,p,G),se},ref:Xt,shallow:_t,deep:Gt,struct:nr},kt=function cr(l,p,O){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return Gt.apply(null,arguments);if(no(l))return l;var j=re(l)?kt.object(l,p,O):Array.isArray(l)?kt.array(l,p):oe(l)?kt.map(l,p):H(l)?kt.set(l,p):l;if(j!==l)return j;B(!1)};function Ut(l){B("Expected one or two arguments to observable."+l+". Did you accidentally try to use observable."+l+" as decorator?")}Object.keys(ar).forEach(function(l){return kt[l]=ar[l]});var tr=pt(!1,function(l,p,O,j,G){var q=O.get,se=O.set,Ce=G[0]||{};Ii(l).addComputedProp(l,p,it({get:q,set:se,context:l},Ce))}),Ve=tr({equals:Ot.structural}),ot=function(p,O,j){if("string"==typeof O||null!==p&&"object"==typeof p&&1===arguments.length)return tr.apply(null,arguments);var G="object"==typeof O?O:{};return G.get=p,G.set="function"==typeof O?O:G.set,G.name=G.name||p.name||"",new Qn(G)};ot.struct=Ve;var Qe=(()=>{return(l=Qe||(Qe={}))[l.NOT_TRACKING=-1]="NOT_TRACKING",l[l.UP_TO_DATE=0]="UP_TO_DATE",l[l.POSSIBLY_STALE=1]="POSSIBLY_STALE",l[l.STALE=2]="STALE",Qe;var l})(),dt=(()=>{return(l=dt||(dt={}))[l.NONE=0]="NONE",l[l.LOG=1]="LOG",l[l.BREAK=2]="BREAK",dt;var l})(),At=function l(p){this.cause=p};function Rt(l){return l instanceof At}function $(l){switch(l.dependenciesState){case Qe.UP_TO_DATE:return!1;case Qe.NOT_TRACKING:case Qe.STALE:return!0;case Qe.POSSIBLY_STALE:for(var p=jt(!0),O=Je(),j=l.observing,G=j.length,q=0;q<G;q++){var se=j[q];if(bo(se)){if(et.disableErrorBoundaries)se.get();else try{se.get()}catch{return at(O),Pt(p),!0}if(l.dependenciesState===Qe.STALE)return at(O),Pt(p),!0}}return ur(l),at(O),Pt(p),!1}}function Y(){return null!==et.trackingDerivation}function x(l){var p=l.observers.size>0;et.computationDepth>0&&p&&B(!1),!et.allowStateChanges&&(p||"strict"===et.enforceActions)&&B(!1)}function I(l,p,O){var j=jt(!0);ur(l),l.newObserving=new Array(l.observing.length+100),l.unboundDepsCount=0,l.runId=++et.runId;var q,G=et.trackingDerivation;if(et.trackingDerivation=l,!0===et.disableErrorBoundaries)q=p.call(O);else try{q=p.call(O)}catch(se){q=new At(se)}return et.trackingDerivation=G,function je(l){for(var p=l.observing,O=l.observing=l.newObserving,j=Qe.UP_TO_DATE,G=0,q=l.unboundDepsCount,se=0;se<q;se++)0===(Ce=O[se]).diffValue&&(Ce.diffValue=1,G!==se&&(O[G]=Ce),G++),Ce.dependenciesState>j&&(j=Ce.dependenciesState);for(O.length=G,l.newObserving=null,q=p.length;q--;)0===(Ce=p[q]).diffValue&&tn(Ce,l),Ce.diffValue=0;for(;G--;){var Ce;1===(Ce=O[G]).diffValue&&(Ce.diffValue=0,_n(Ce,l))}j!==Qe.UP_TO_DATE&&(l.dependenciesState=j,l.onBecomeStale())}(l),Pt(j),q}function Ne(l){var p=l.observing;l.observing=[];for(var O=p.length;O--;)tn(p[O],l);l.dependenciesState=Qe.NOT_TRACKING}function Ze(l){var p=Je();try{return l()}finally{at(p)}}function Je(){var l=et.trackingDerivation;return et.trackingDerivation=null,l}function at(l){et.trackingDerivation=l}function jt(l){var p=et.allowStateReads;return et.allowStateReads=l,p}function Pt(l){et.allowStateReads=l}function ur(l){if(l.dependenciesState!==Qe.UP_TO_DATE){l.dependenciesState=Qe.UP_TO_DATE;for(var p=l.observing,O=p.length;O--;)p[O].lowestObserverState=Qe.UP_TO_DATE}}var Ir=0,go=1;function Xr(l,p,O){var j=function(){return ci(l,p,O||this,arguments)};return j.isMobxAction=!0,j}function ci(l,p,O,j){var G=di(l);try{return p.apply(O,j)}catch(q){throw G.error=q,q}finally{Ka(G)}}function di(l,p,O){var Xe=Je();Zr();var Yt={prevDerivation:Xe,prevAllowStateChanges:mo(!0),prevAllowStateReads:jt(!0),notifySpy:false,startTime:0,actionId:go++,parentActionId:Ir};return Ir=Yt.actionId,Yt}function Ka(l){Ir!==l.actionId&&B("invalid action stack. did you forget to finish an action?"),Ir=l.parentActionId,void 0!==l.error&&(et.suppressReactionErrors=!0),en(l.prevAllowStateChanges),Pt(l.prevAllowStateReads),br(),at(l.prevDerivation),et.suppressReactionErrors=!1}function Ee(l,p){var j,O=mo(l);try{j=p()}finally{en(O)}return j}function mo(l){var p=et.allowStateChanges;return et.allowStateChanges=l,p}function en(l){et.allowStateChanges=l}Object.getOwnPropertyDescriptor(function(){},"name");var Yr=function(l){function p(O,j,G,q,se){void 0===G&&(G="ObservableValue@"+L()),void 0===q&&(q=!0),void 0===se&&(se=Ot.default);var Ce=l.call(this,G)||this;return Ce.enhancer=j,Ce.name=G,Ce.equals=se,Ce.hasUnreportedChange=!1,Ce.value=j(O,void 0,G),Ce}return function st(l,p){function O(){this.constructor=l}Fe(l,p),l.prototype=null===p?Object.create(p):(O.prototype=p.prototype,new O)}(p,l),p.prototype.dehanceValue=function(O){return void 0!==this.dehancer?this.dehancer(O):O},p.prototype.set=function(O){(O=this.prepareNewValue(O))!==et.UNCHANGED&&this.setNewValue(O)},p.prototype.prepareNewValue=function(O){if(x(this),$r(this)){var j=Lr(this,{object:this,type:"update",newValue:O});if(!j)return et.UNCHANGED;O=j.newValue}return O=this.enhancer(O,this.value,this.name),this.equals(this.value,O)?et.UNCHANGED:O},p.prototype.setNewValue=function(O){var j=this.value;this.value=O,this.reportChanged(),Tr(this)&&zr(this,{type:"update",object:this,newValue:O,oldValue:j})},p.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},p.prototype.intercept=function(O){return Ln(this,O)},p.prototype.observe=function(O,j){return j&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),ao(this,O)},p.prototype.toJSON=function(){return this.get()},p.prototype.toString=function(){return this.name+"["+this.value+"]"},p.prototype.valueOf=function(){return ve(this.get())},p.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},p}(ze),pi=le("ObservableValue",Yr),Qn=function(){function l(p){this.dependenciesState=Qe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Qe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+L(),this.value=new At(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=dt.NONE,X(p.get,"missing option for computed: get"),this.derivation=p.get,this.name=p.name||"ComputedValue@"+L(),p.set&&(this.setter=Xr(this.name+"-setter",p.set)),this.equals=p.equals||(p.compareStructural||p.struct?Ot.structural:Ot.default),this.scope=p.context,this.requiresReaction=!!p.requiresReaction,this.keepAlive=!!p.keepAlive}return l.prototype.onBecomeStale=function(){!function qn(l){l.lowestObserverState===Qe.UP_TO_DATE&&(l.lowestObserverState=Qe.POSSIBLY_STALE,l.observers.forEach(function(p){p.dependenciesState===Qe.UP_TO_DATE&&(p.dependenciesState=Qe.POSSIBLY_STALE,p.isTracing!==dt.NONE&&Ho(p,l),p.onBecomeStale())}))}(this)},l.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(p){return p()})},l.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(p){return p()})},l.prototype.get=function(){this.isComputing&&B("Cycle detected in computation "+this.name+": "+this.derivation),0!==et.inBatch||0!==this.observers.size||this.keepAlive?(Jt(this),$(this)&&this.trackAndCompute()&&function sa(l){l.lowestObserverState!==Qe.STALE&&(l.lowestObserverState=Qe.STALE,l.observers.forEach(function(p){p.dependenciesState===Qe.POSSIBLY_STALE?p.dependenciesState=Qe.STALE:p.dependenciesState===Qe.UP_TO_DATE&&(l.lowestObserverState=Qe.UP_TO_DATE)}))}(this)):$(this)&&(this.warnAboutUntrackedRead(),Zr(),this.value=this.computeValue(!1),br());var p=this.value;if(Rt(p))throw p.cause;return p},l.prototype.peek=function(){var p=this.computeValue(!1);if(Rt(p))throw p.cause;return p},l.prototype.set=function(p){if(this.setter){X(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,p)}finally{this.isRunningSetter=!1}}else X(!1,!1)},l.prototype.trackAndCompute=function(){var p=this.value,O=this.dependenciesState===Qe.NOT_TRACKING,j=this.computeValue(!0),G=O||Rt(p)||Rt(j)||!this.equals(p,j);return G&&(this.value=j),G},l.prototype.computeValue=function(p){var O;if(this.isComputing=!0,et.computationDepth++,p)O=I(this,this.derivation,this.scope);else if(!0===et.disableErrorBoundaries)O=this.derivation.call(this.scope);else try{O=this.derivation.call(this.scope)}catch(j){O=new At(j)}return et.computationDepth--,this.isComputing=!1,O},l.prototype.suspend=function(){this.keepAlive||(Ne(this),this.value=void 0)},l.prototype.observe=function(p,O){var j=this,G=!0,q=void 0;return Ar(function(){var se=j.get();if(!G||O){var Ce=Je();p({type:"update",object:j,newValue:se,oldValue:q}),at(Ce)}G=!1,q=se})},l.prototype.warnAboutUntrackedRead=function(){},l.prototype.toJSON=function(){return this.get()},l.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},l.prototype.valueOf=function(){return ve(this.get())},l.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},l}(),bo=le("ComputedValue",Qn),Cn=function l(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},aa={};function Fo(){return typeof window<"u"?window:typeof y<"u"?y:typeof self<"u"?self:aa}var l,hi=!0,Za=!1,et=((l=Fo()).__mobxInstanceCount>0&&!l.__mobxGlobals&&(hi=!1),l.__mobxGlobals&&l.__mobxGlobals.version!==(new Cn).version&&(hi=!1),hi?l.__mobxGlobals?(l.__mobxInstanceCount+=1,l.__mobxGlobals.UNCHANGED||(l.__mobxGlobals.UNCHANGED={}),l.__mobxGlobals):(l.__mobxInstanceCount=1,l.__mobxGlobals=new Cn):(setTimeout(function(){Za||B("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Cn));function _n(l,p){l.observers.add(p),l.lowestObserverState>p.dependenciesState&&(l.lowestObserverState=p.dependenciesState)}function tn(l,p){l.observers.delete(p),0===l.observers.size&&Qa(l)}function Qa(l){!1===l.isPendingUnobservation&&(l.isPendingUnobservation=!0,et.pendingUnobservations.push(l))}function Zr(){et.inBatch++}function br(){if(0==--et.inBatch){ko();for(var l=et.pendingUnobservations,p=0;p<l.length;p++){var O=l[p];O.isPendingUnobservation=!1,0===O.observers.size&&(O.isBeingObserved&&(O.isBeingObserved=!1,O.onBecomeUnobserved()),O instanceof Qn&&O.suspend())}et.pendingUnobservations=[]}}function Jt(l){var p=et.trackingDerivation;return null!==p?(p.runId!==l.lastAccessedBy&&(l.lastAccessedBy=p.runId,p.newObserving[p.unboundDepsCount++]=l,l.isBeingObserved||(l.isBeingObserved=!0,l.onBecomeObserved())),!0):(0===l.observers.size&&et.inBatch>0&&Qa(l),!1)}function Ho(l,p){if(console.log("[mobx.trace] '"+l.name+"' is invalidated due to a change in: '"+p.name+"'"),l.isTracing===dt.BREAK){var O=[];yn(un(l),O,1),new Function("debugger;\n/*\nTracing '"+l.name+"'\n\nYou are entering this break point because derivation '"+l.name+"' is being traced and '"+p.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(l instanceof Qn?l.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+O.join("\n")+"\n*/\n    ")()}}function yn(l,p,O){p.length>=1e3?p.push("(and many more)"):(p.push(""+new Array(O).join("\t")+l.name),l.dependencies&&l.dependencies.forEach(function(j){return yn(j,p,O+1)}))}var rn=function(){function l(p,O,j,G){void 0===p&&(p="Reaction@"+L()),void 0===G&&(G=!1),this.name=p,this.onInvalidate=O,this.errorHandler=j,this.requiresObservable=G,this.observing=[],this.newObserving=[],this.dependenciesState=Qe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+L(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=dt.NONE}return l.prototype.onBecomeStale=function(){this.schedule()},l.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,et.pendingReactions.push(this),ko())},l.prototype.isScheduled=function(){return this._isScheduled},l.prototype.runReaction=function(){if(!this.isDisposed){if(Zr(),this._isScheduled=!1,$(this)){this._isTrackPending=!0;try{this.onInvalidate()}catch(p){this.reportExceptionInDerivation(p)}}br()}},l.prototype.track=function(p){if(!this.isDisposed){Zr(),this._isRunning=!0;var G=I(this,p,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Ne(this),Rt(G)&&this.reportExceptionInDerivation(G.cause),br()}},l.prototype.reportExceptionInDerivation=function(p){var O=this;if(this.errorHandler)this.errorHandler(p,this);else{if(et.disableErrorBoundaries)throw p;var j="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";et.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(j,p),et.globalReactionErrorHandlers.forEach(function(G){return G(p,O)})}},l.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Zr(),Ne(this),br()))},l.prototype.getDisposer=function(){var p=this.dispose.bind(this);return p[Se]=this,p},l.prototype.toString=function(){return"Reaction["+this.name+"]"},l.prototype.trace=function(p){void 0===p&&(p=!1),function Jo(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var O=!1;"boolean"==typeof l[l.length-1]&&(O=l.pop());var j=cn(l);if(!j)return B(!1);j.isTracing===dt.NONE&&console.log("[mobx.trace] '"+j.name+"' tracing enabled"),j.isTracing=O?dt.BREAK:dt.LOG}(this,p)},l}(),Br=function(l){return l()};function ko(){et.inBatch>0||et.isRunningReactions||Br(jn)}function jn(){et.isRunningReactions=!0;for(var l=et.pendingReactions,p=0;l.length>0;){100==++p&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+l[0]),l.splice(0));for(var O=l.splice(0),j=0,G=O.length;j<G;j++)O[j].runReaction()}et.isRunningReactions=!1}var nn=le("Reaction",rn);function on(l){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function gi(){B(!1)}function Uo(l){return function(p,O,j){if(j){if(j.value)return{value:Xr(l,j.value),enumerable:!1,configurable:!0,writable:!0};var G=j.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Xr(l,G.call(this))}}}return la(l).apply(this,arguments)}}function la(l){return function(p,O,j){Object.defineProperty(p,O,{configurable:!0,enumerable:!1,get:function(){},set:function(G){ge(this,O,an(l,G))}})}}var an=function(p,O,j,G){return 1===arguments.length&&"function"==typeof p?Xr(p.name||"<unnamed action>",p):2===arguments.length&&"function"==typeof O?Xr(p,O):1===arguments.length&&"string"==typeof p?Uo(p):!0!==G?Uo(O).apply(null,arguments):void ge(p,O,Xr(p.name||O,j.value,this))};function bi(l,p){return ci("string"==typeof l?l:l.name||"<unnamed action>","function"==typeof l?l:p,this,void 0)}function xo(l){return"function"==typeof l&&!0===l.isMobxAction}function So(l,p,O){ge(l,p,Xr(p,O.bind(l)))}function Ar(l,p){void 0===p&&(p=C);var G,O=p&&p.name||l.name||"Autorun@"+L();if(p.scheduler||p.delay){var q=Or(p),se=!1;G=new rn(O,function(){se||(se=!0,q(function(){se=!1,G.isDisposed||G.track(Ce)}))},p.onError,p.requiresObservable)}else G=new rn(O,function(){this.track(Ce)},p.onError,p.requiresObservable);function Ce(){l(G)}return G.schedule(),G.getDisposer()}an.bound=function mi(l,p,O,j){return!0===j?(So(l,p,O.value),null):O?{configurable:!0,enumerable:!1,get:function(){return So(this,p,O.value||O.initializer.call(this)),this[p]},set:gi}:{enumerable:!1,configurable:!0,set:function(G){So(this,p,G)},get:function(){}}};var Xo=function(l){return l()};function Or(l){return l.scheduler?l.scheduler:l.delay?function(p){return setTimeout(p,l.delay)}:Xo}function Oi(l,p,O){void 0===O&&(O=C);var mt,j=O.name||"Reaction@"+L(),G=an(j,O.onError?function Ei(l,p){return function(){try{return p.apply(this,arguments)}catch(O){l.call(this,O)}}}(O.onError,p):p),q=!O.scheduler&&!O.delay,se=Or(O),Ce=!0,Xe=!1,bt=O.compareStructural?Ot.structural:O.equals||Ot.default,Yt=new rn(j,function(){Ce||q?Wt():Xe||(Xe=!0,se(Wt))},O.onError,O.requiresObservable);function Wt(){if(Xe=!1,!Yt.isDisposed){var Vt=!1;Yt.track(function(){var sr=l(Yt);Vt=Ce||!bt(mt,sr),mt=sr}),Ce&&O.fireImmediately&&G(mt,Yt),!Ce&&!0===Vt&&G(mt,Yt),Ce&&(Ce=!1)}}return Yt.schedule(),Yt.getDisposer()}function mn(l,p,O){return Si("onBecomeUnobserved",l,p,O)}function Si(l,p,O,j){var G="function"==typeof j?M(p,O):M(p),q="function"==typeof j?j:O,se=l+"Listeners";return G[se]?G[se].add(q):G[se]=new Set([q]),"function"!=typeof G[l]?B(!1):function(){var Xe=G[se];Xe&&(Xe.delete(q),0===Xe.size&&delete G[se])}}function fa(l){var p=l.enforceActions,O=l.computedRequiresReaction,j=l.computedConfigurable,G=l.disableErrorBoundaries,q=l.reactionScheduler,se=l.reactionRequiresObservable,Ce=l.observableRequiresReaction;if(!0===l.isolateGlobalState&&function Ja(){(et.pendingReactions.length||et.inBatch||et.isRunningReactions)&&B("isolateGlobalState should be called before MobX is running any reactions"),Za=!0,hi&&(0==--Fo().__mobxInstanceCount&&(Fo().__mobxGlobals=void 0),et=new Cn)}(),void 0!==p){var Xe=void 0;switch(p){case!0:case"observed":Xe=!0;break;case!1:case"never":Xe=!1;break;case"strict":case"always":Xe="strict";break;default:B("Invalid value for 'enforceActions': '"+p+"', expected 'never', 'always' or 'observed'")}et.enforceActions=Xe,et.allowStateChanges=!(!0===Xe||"strict"===Xe)}void 0!==O&&(et.computedRequiresReaction=!!O),void 0!==se&&(et.reactionRequiresObservable=!!se),void 0!==Ce&&(et.observableRequiresReaction=!!Ce,et.allowStateReads=!et.observableRequiresReaction),void 0!==j&&(et.computedConfigurable=!!j),void 0!==G&&(!0===G&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),et.disableErrorBoundaries=!!G),q&&function _a(l){var p=Br;Br=function(O){return l(function(){return p(O)})}}(q)}function Pi(l,p,O,j){var G=Rn(j=Dt(j));return ht(l),Ii(l,j.name,G.enhancer),p&&Po(l,p,O,G),l}function Rn(l){return l.defaultDecorator||(!1===l.deep?Xt:Gt)}function Po(l,p,O,j){var se,Ce;Zr();try{var Yt=ke(p);try{for(var Wt=Ke(Yt),Vt=Wt.next();!Vt.done;Vt=Wt.next()){var Xe=Vt.value,sr=Object.getOwnPropertyDescriptor(p,Xe),Nr=(O&&Xe in O?O[Xe]:sr.get?tr:j)(l,Xe,sr,!0);Nr&&Object.defineProperty(l,Xe,Nr)}}catch(Oa){se={error:Oa}}finally{try{Vt&&!Vt.done&&(Ce=Wt.return)&&Ce.call(Wt)}finally{if(se)throw se.error}}}finally{br()}}function un(l,p){return eo(M(l,p))}function eo(l){var p={name:l.name};return l.observing&&l.observing.length>0&&(p.dependencies=function ne(l){var p=[];return l.forEach(function(O){-1===p.indexOf(O)&&p.push(O)}),p}(l.observing).map(eo)),p}var sn=0;function Mo(){this.message="FLOW_CANCELLED"}function bn(l){1!==arguments.length&&B("Flow expects 1 argument and cannot be used as decorator");var p=l.name||"<unnamed flow>";return function(){var se,O=this,j=arguments,G=++sn,q=an(p+" - runid: "+G+" - init",l).apply(O,j),Ce=void 0,Xe=new Promise(function(mt,bt){var Yt=0;function Wt(yr){var Nr;Ce=void 0;try{Nr=an(p+" - runid: "+G+" - yield "+Yt++,q.next).call(q,yr)}catch(Ao){return bt(Ao)}sr(Nr)}function Vt(yr){var Nr;Ce=void 0;try{Nr=an(p+" - runid: "+G+" - yield "+Yt++,q.throw).call(q,yr)}catch(Ao){return bt(Ao)}sr(Nr)}function sr(yr){if(!yr||"function"!=typeof yr.then)return yr.done?mt(yr.value):(Ce=Promise.resolve(yr.value)).then(Wt,Vt);yr.then(sr,bt)}se=bt,Wt(void 0)});return Xe.cancel=an(p+" - runid: "+G+" - cancel",function(){try{Ce&&wi(Ce);var mt=q.return(void 0),bt=Promise.resolve(mt.value);bt.then(J,J),wi(bt),se(new Mo)}catch(Yt){se(Yt)}}),Xe}}function wi(l){"function"==typeof l.cancel&&l.cancel()}function to(l,p){if(null==l)return!1;if(void 0!==p){if(!1===S(l)||!l[Se].values.has(p))return!1;var O=M(l,p);return bo(O)}return bo(l)}function $o(l){return arguments.length>1?B(!1):to(l)}function ro(l,p){return"string"!=typeof p?B(!1):to(l,p)}function Ko(l,p){return null!=l&&(void 0!==p?!!S(l)&&l[Se].values.has(p):S(l)||!!l[Se]||We(l)||nn(l)||bo(l))}function no(l){return 1!==arguments.length&&B(!1),Ko(l)}function In(l){return S(l)?l[Se].getKeys():dr(l)||Er(l)?Array.from(l.keys()):Qt(l)?l.map(function(p,O){return O}):B(!1)}function oo(l){return S(l)?In(l).map(function(p){return l[p]}):dr(l)?In(l).map(function(p){return l.get(p)}):Er(l)?Array.from(l.values()):Qt(l)?l.slice():B(!1)}function ln(l){return S(l)?In(l).map(function(p){return[p,l[p]]}):dr(l)?In(l).map(function(p){return[p,l.get(p)]}):Er(l)?Array.from(l.entries()):Qt(l)?l.map(function(p,O){return[O,p]}):B(!1)}function Ai(l,p,O){if(2!==arguments.length||Er(l))if(S(l)){var q=l[Se];q.values.get(p)?q.write(p,O):q.addObservableProp(p,O,q.defaultEnhancer)}else if(dr(l))l.set(p,O);else if(Er(l))l.add(p);else{if(!Qt(l))return B(!1);"number"!=typeof p&&(p=parseInt(p,10)),X(p>=0,"Not a valid index: '"+p+"'"),Zr(),p>=l.length&&(l.length=p+1),l[p]=O,br()}else{Zr();var j=p;try{for(var G in j)Ai(l,G,j[G])}finally{br()}}}function Vo(l,p,O,j){return"function"==typeof O?function Ni(l,p,O,j){return z(l,p).observe(O,j)}(l,p,O,j):function pa(l,p,O){return z(l).observe(p,O)}(l,p,O)}Mo.prototype=Object.create(Error.prototype);var Zo={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Bn(l,p,O,j){return j.detectCycles&&l.set(p,O),O}function fn(l,p,O){if(!p.recurseEverything&&!no(l)||"object"!=typeof l)return l;if(null===l)return null;if(l instanceof Date)return l;if(pi(l))return fn(l.get(),p,O);if(no(l)&&In(l),!0===p.detectCycles&&null!==l&&O.has(l))return O.get(l);if(Qt(l)||Array.isArray(l)){var G=Bn(O,l,[],p),q=l.map(function(Vt){return fn(Vt,p,O)});G.length=q.length;for(var se=0,Ce=q.length;se<Ce;se++)G[se]=q[se];return G}if(Er(l)||Object.getPrototypeOf(l)===Set.prototype){if(!1===p.exportMapsAsObjects){var Xe=Bn(O,l,new Set,p);return l.forEach(function(Vt){Xe.add(fn(Vt,p,O))}),Xe}var mt=Bn(O,l,[],p);return l.forEach(function(Vt){mt.push(fn(Vt,p,O))}),mt}if(dr(l)||Object.getPrototypeOf(l)===Map.prototype){if(!1===p.exportMapsAsObjects){var bt=Bn(O,l,new Map,p);return l.forEach(function(Vt,sr){bt.set(sr,fn(Vt,p,O))}),bt}var Yt=Bn(O,l,{},p);return l.forEach(function(Vt,sr){Yt[sr]=fn(Vt,p,O)}),Yt}var Wt=Bn(O,l,{},p);return te(l).forEach(function(Vt){Wt[Vt]=fn(l[Vt],p,O)}),Wt}function ha(l,p){var O;return"boolean"==typeof p&&(p={detectCycles:p}),p||(p=Zo),p.detectCycles=void 0===p.detectCycles?!0===p.recurseEverything:!0===p.detectCycles,p.detectCycles&&(O=new Map),fn(l,p,O)}function cn(l){switch(l.length){case 0:return et.trackingDerivation;case 1:return M(l[0]);case 2:return M(l[0],l[1])}}function Wr(l,p){void 0===p&&(p=void 0),Zr();try{return l.apply(p)}finally{br()}}function io(l,p,O){return 1===arguments.length||p&&"object"==typeof p?On(l,p):Di(l,p,O||{})}function Di(l,p,O){var j;"number"==typeof O.timeout&&(j=setTimeout(function(){if(!q[Se].isDisposed){q();var se=new Error("WHEN_TIMEOUT");if(!O.onError)throw se;O.onError(se)}},O.timeout)),O.name=O.name||"When@"+L();var G=Xr(O.name+"-effect",p),q=Ar(function(se){l()&&(se.dispose(),j&&clearTimeout(j),G())},O);return q}function On(l,p){var O,j=new Promise(function(G,q){var se=Di(l,G,it(it({},p),{onError:q}));O=function(){se(),q("WHEN_CANCELLED")}});return j.cancel=O,j}function Qo(l){return l[Se]}function _o(l){return"string"==typeof l||"number"==typeof l||"symbol"==typeof l}var Ci={has:function(l,p){if(p===Se||"constructor"===p||p===ie)return!0;var O=Qo(l);return _o(p)?O.has(p):p in l},get:function(l,p){if(p===Se||"constructor"===p||p===ie)return l[p];var O=Qo(l),j=O.values.get(p);if(j instanceof ze){var G=j.get();return void 0===G&&O.has(p),G}return _o(p)&&O.has(p),l[p]},set:function(l,p,O){return!!_o(p)&&(Ai(l,p,O),!0)},deleteProperty:function(l,p){return!!_o(p)&&(Qo(l).remove(p),!0)},ownKeys:function(l){return Qo(l).keysAtom.reportObserved(),Reflect.ownKeys(l)},preventExtensions:function(l){return B("Dynamic observable objects cannot be frozen"),!1}};function wo(l){var p=new Proxy(l,Ci);return l[Se].proxy=p,p}function $r(l){return void 0!==l.interceptors&&l.interceptors.length>0}function Ln(l,p){var O=l.interceptors||(l.interceptors=[]);return O.push(p),W(function(){var j=O.indexOf(p);-1!==j&&O.splice(j,1)})}function Lr(l,p){var O=Je();try{for(var j=ee(l.interceptors||[]),G=0,q=j.length;G<q&&(X(!(p=j[G](p))||p.type,"Intercept handlers should return nothing or a change object"),p);G++);return p}finally{at(O)}}function Tr(l){return void 0!==l.changeListeners&&l.changeListeners.length>0}function ao(l,p){var O=l.changeListeners||(l.changeListeners=[]);return O.push(p),W(function(){var j=O.indexOf(p);-1!==j&&O.splice(j,1)})}function zr(l,p){var O=Je(),j=l.changeListeners;if(j){for(var G=0,q=(j=j.slice()).length;G<q;G++)j[G](p);at(O)}}var ya={get:function(l,p){return p===Se?l[Se]:"length"===p?l[Se].getArrayLength():"number"==typeof p?dn.get.call(l,p):"string"!=typeof p||isNaN(p)?dn.hasOwnProperty(p)?dn[p]:l[p]:dn.get.call(l,parseInt(p))},set:function(l,p,O){return"length"===p&&l[Se].setArrayLength(O),"number"==typeof p&&dn.set.call(l,p,O),"symbol"==typeof p||isNaN(p)?l[p]=O:dn.set.call(l,parseInt(p),O),!0},preventExtensions:function(l){return B("Observable arrays cannot be frozen"),!1}};function ga(l,p,O,j){void 0===O&&(O="ObservableArray@"+L()),void 0===j&&(j=!1);var G=new qo(O,p,j);!function be(l,p,O){Object.defineProperty(l,p,{enumerable:!1,writable:!1,configurable:!0,value:O})}(G.values,Se,G);var q=new Proxy(G.values,ya);if(G.proxy=q,l&&l.length){var se=mo(!0);G.spliceWithArray(0,0,l),en(se)}return q}var qo=function(){function l(p,O,j){this.owned=j,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new ze(p||"ObservableArray@"+L()),this.enhancer=function(G,q){return O(G,q,p+"[..]")}}return l.prototype.dehanceValue=function(p){return void 0!==this.dehancer?this.dehancer(p):p},l.prototype.dehanceValues=function(p){return void 0!==this.dehancer&&p.length>0?p.map(this.dehancer):p},l.prototype.intercept=function(p){return Ln(this,p)},l.prototype.observe=function(p,O){return void 0===O&&(O=!1),O&&p({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),ao(this,p)},l.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},l.prototype.setArrayLength=function(p){if("number"!=typeof p||p<0)throw new Error("[mobx.array] Out of range: "+p);var O=this.values.length;if(p!==O)if(p>O){for(var j=new Array(p-O),G=0;G<p-O;G++)j[G]=void 0;this.spliceWithArray(O,0,j)}else this.spliceWithArray(p,O-p)},l.prototype.updateArrayLength=function(p,O){if(p!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=O},l.prototype.spliceWithArray=function(p,O,j){var G=this;x(this.atom);var q=this.values.length;if(void 0===p?p=0:p>q?p=q:p<0&&(p=Math.max(0,q+p)),O=1===arguments.length?q-p:null==O?0:Math.max(0,Math.min(O,q-p)),void 0===j&&(j=T),$r(this)){var se=Lr(this,{object:this.proxy,type:"splice",index:p,removedCount:O,added:j});if(!se)return T;O=se.removedCount,j=se.added}j=0===j.length?j:j.map(function(mt){return G.enhancer(mt,void 0)});var Xe=this.spliceItemsIntoValues(p,O,j);return(0!==O||0!==j.length)&&this.notifyArraySplice(p,j,Xe),this.dehanceValues(Xe)},l.prototype.spliceItemsIntoValues=function(p,O,j){var G;if(j.length<1e4)return(G=this.values).splice.apply(G,ee([p,O],j));var q=this.values.slice(p,p+O);return this.values=this.values.slice(0,p).concat(j,this.values.slice(p+O)),q},l.prototype.notifyArrayChildUpdate=function(p,O,j){var G=!this.owned&&!1,q=Tr(this),se=q||G?{object:this.proxy,type:"update",index:p,newValue:O,oldValue:j}:null;this.atom.reportChanged(),q&&zr(this,se)},l.prototype.notifyArraySplice=function(p,O,j){var G=!this.owned&&!1,q=Tr(this),se=q||G?{object:this.proxy,type:"splice",index:p,removed:j,added:O,removedCount:j.length,addedCount:O.length}:null;this.atom.reportChanged(),q&&zr(this,se)},l}(),dn={intercept:function(l){return this[Se].intercept(l)},observe:function(l,p){return void 0===p&&(p=!1),this[Se].observe(l,p)},clear:function(){return this.splice(0)},replace:function(l){var p=this[Se];return p.spliceWithArray(0,p.values.length,l)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(l,p){for(var O=[],j=2;j<arguments.length;j++)O[j-2]=arguments[j];var G=this[Se];switch(arguments.length){case 0:return[];case 1:return G.spliceWithArray(l);case 2:return G.spliceWithArray(l,p)}return G.spliceWithArray(l,p,O)},spliceWithArray:function(l,p,O){return this[Se].spliceWithArray(l,p,O)},push:function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var O=this[Se];return O.spliceWithArray(O.values.length,0,l),O.values.length},pop:function(){return this.splice(Math.max(this[Se].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var O=this[Se];return O.spliceWithArray(0,0,l),O.values.length},reverse:function(){var l=this.slice();return l.reverse.apply(l,arguments)},sort:function(l){var p=this.slice();return p.sort.apply(p,arguments)},remove:function(l){var p=this[Se],O=p.dehanceValues(p.values).indexOf(l);return O>-1&&(this.splice(O,1),!0)},get:function(l){var p=this[Se];if(p){if(l<p.values.length)return p.atom.reportObserved(),p.dehanceValue(p.values[l]);console.warn("[mobx.array] Attempt to read an array index ("+l+") that is out of bounds ("+p.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(l,p){var O=this[Se],j=O.values;if(l<j.length){x(O.atom);var G=j[l];if($r(O)){var q=Lr(O,{type:"update",object:O.proxy,index:l,newValue:p});if(!q)return;p=q.newValue}(p=O.enhancer(p,G))!==G&&(j[l]=p,O.notifyArrayChildUpdate(l,p,G))}else{if(l!==j.length)throw new Error("[mobx.array] Index out of bounds, "+l+" is larger than "+j.length);O.spliceWithArray(l,0,[p])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(l){"function"==typeof Array.prototype[l]&&(dn[l]=function(){var p=this[Se];p.atom.reportObserved();var O=p.dehanceValues(p.values);return O[l].apply(O,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(l){"function"==typeof Array.prototype[l]&&(dn[l]=function(p,O){var j=this,G=this[Se];return G.atom.reportObserved(),G.dehanceValues(G.values)[l](function(se,Ce){return p.call(O,se,Ce,j)},O)})}),["reduce","reduceRight"].forEach(function(l){dn[l]=function(){var p=this,O=this[Se];O.atom.reportObserved();var j=arguments[0];return arguments[0]=function(G,q,se){return q=O.dehanceValue(q),j(G,q,se,p)},O.values[l].apply(O.values,arguments)}});var ma=le("ObservableArrayAdministration",qo);function Qt(l){return ae(l)&&ma(l[Se])}var ji,lo,uo={},so=function(){function l(p,O,j){if(void 0===O&&(O=De),void 0===j&&(j="ObservableMap@"+L()),this.enhancer=O,this.name=j,this[ji]=uo,this._keysAtom=He(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(p)}return l.prototype._has=function(p){return this._data.has(p)},l.prototype.has=function(p){var O=this;if(!et.trackingDerivation)return this._has(p);var j=this._hasMap.get(p);if(!j){var G=j=new Yr(this._has(p),ut,this.name+"."+fe(p)+"?",!1);this._hasMap.set(p,G),mn(G,function(){return O._hasMap.delete(p)})}return j.get()},l.prototype.set=function(p,O){var j=this._has(p);if($r(this)){var G=Lr(this,{type:j?"update":"add",object:this,newValue:O,name:p});if(!G)return this;O=G.newValue}return j?this._updateValue(p,O):this._addValue(p,O),this},l.prototype.delete=function(p){var O=this;if(x(this._keysAtom),$r(this)&&!(j=Lr(this,{type:"delete",object:this,name:p})))return!1;if(this._has(p)){var q=Tr(this),j=q?{type:"delete",object:this,oldValue:this._data.get(p).value,name:p}:null;return Wr(function(){O._keysAtom.reportChanged(),O._updateHasMapEntry(p,!1),O._data.get(p).setNewValue(void 0),O._data.delete(p)}),q&&zr(this,j),!0}return!1},l.prototype._updateHasMapEntry=function(p,O){var j=this._hasMap.get(p);j&&j.setNewValue(O)},l.prototype._updateValue=function(p,O){var j=this._data.get(p);if((O=j.prepareNewValue(O))!==et.UNCHANGED){var q=Tr(this),se=q?{type:"update",object:this,oldValue:j.value,name:p,newValue:O}:null;j.setNewValue(O),q&&zr(this,se)}},l.prototype._addValue=function(p,O){var j=this;x(this._keysAtom),Wr(function(){var Ce=new Yr(O,j.enhancer,j.name+"."+fe(p),!1);j._data.set(p,Ce),O=Ce.value,j._updateHasMapEntry(p,!0),j._keysAtom.reportChanged()});var q=Tr(this);q&&zr(this,q?{type:"add",object:this,name:p,newValue:O}:null)},l.prototype.get=function(p){return this.has(p)?this.dehanceValue(this._data.get(p).get()):this.dehanceValue(void 0)},l.prototype.dehanceValue=function(p){return void 0!==this.dehancer?this.dehancer(p):p},l.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},l.prototype.values=function(){var p=this,O=this.keys();return nt({next:function(){var j=O.next(),G=j.done;return{done:G,value:G?void 0:p.get(j.value)}}})},l.prototype.entries=function(){var p=this,O=this.keys();return nt({next:function(){var j=O.next(),G=j.done,q=j.value;return{done:G,value:G?void 0:[q,p.get(q)]}}})},l.prototype[(ji=Se,Symbol.iterator)]=function(){return this.entries()},l.prototype.forEach=function(p,O){var j,G;try{for(var q=Ke(this),se=q.next();!se.done;se=q.next()){var Ce=_(se.value,2);p.call(O,Ce[1],Ce[0],this)}}catch(bt){j={error:bt}}finally{try{se&&!se.done&&(G=q.return)&&G.call(q)}finally{if(j)throw j.error}}},l.prototype.merge=function(p){var O=this;return dr(p)&&(p=p.toJS()),Wr(function(){var j=mo(!0);try{re(p)?te(p).forEach(function(G){return O.set(G,p[G])}):Array.isArray(p)?p.forEach(function(G){var q=_(G,2);return O.set(q[0],q[1])}):oe(p)?(p.constructor!==Map&&B("Cannot initialize from classes that inherit from Map: "+p.constructor.name),p.forEach(function(G,q){return O.set(q,G)})):null!=p&&B("Cannot initialize map from "+p)}finally{en(j)}}),this},l.prototype.clear=function(){var p=this;Wr(function(){Ze(function(){var O,j;try{for(var G=Ke(p.keys()),q=G.next();!q.done;q=G.next())p.delete(q.value)}catch(Ce){O={error:Ce}}finally{try{q&&!q.done&&(j=G.return)&&j.call(G)}finally{if(O)throw O.error}}})})},l.prototype.replace=function(p){var O=this;return Wr(function(){var j,G,q,se,Ce=function Me(l){if(oe(l)||dr(l))return l;if(Array.isArray(l))return new Map(l);if(re(l)){var p=new Map;for(var O in l)p.set(O,l[O]);return p}return B("Cannot convert to map from '"+l+"'")}(p),Xe=new Map,mt=!1;try{for(var bt=Ke(O._data.keys()),Yt=bt.next();!Yt.done;Yt=bt.next())if(!Ce.has(Wt=Yt.value))if(O.delete(Wt))mt=!0;else{var sr=O._data.get(Wt);Xe.set(Wt,sr)}}catch(xa){j={error:xa}}finally{try{Yt&&!Yt.done&&(G=bt.return)&&G.call(bt)}finally{if(j)throw j.error}}try{for(var yr=Ke(Ce.entries()),Nr=yr.next();!Nr.done;Nr=yr.next()){var Wt,Ao=_(Nr.value,2),Oa=(sr=Ao[1],O._data.has(Wt=Ao[0]));if(O.set(Wt,sr),O._data.has(Wt)){var Ul=O._data.get(Wt);Xe.set(Wt,Ul),Oa||(mt=!0)}}}catch(xa){q={error:xa}}finally{try{Nr&&!Nr.done&&(se=yr.return)&&se.call(yr)}finally{if(q)throw q.error}}if(!mt)if(O._data.size!==Xe.size)O._keysAtom.reportChanged();else for(var nu=O._data.keys(),ou=Xe.keys(),Ea=nu.next(),iu=ou.next();!Ea.done;){if(Ea.value!==iu.value){O._keysAtom.reportChanged();break}Ea=nu.next(),iu=ou.next()}O._data=Xe}),this},Object.defineProperty(l.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),l.prototype.toPOJO=function(){var p,O,j={};try{for(var G=Ke(this),q=G.next();!q.done;q=G.next()){var se=_(q.value,2),Ce=se[0],Xe=se[1];j["symbol"==typeof Ce?Ce:fe(Ce)]=Xe}}catch(mt){p={error:mt}}finally{try{q&&!q.done&&(O=G.return)&&O.call(G)}finally{if(p)throw p.error}}return j},l.prototype.toJS=function(){return new Map(this)},l.prototype.toJSON=function(){return this.toPOJO()},l.prototype.toString=function(){var p=this;return this.name+"[{ "+Array.from(this.keys()).map(function(O){return fe(O)+": "+p.get(O)}).join(", ")+" }]"},l.prototype.observe=function(p,O){return ao(this,p)},l.prototype.intercept=function(p){return Ln(this,p)},l}(),dr=le("ObservableMap",so),ba={},pn=function(){function l(p,O,j){if(void 0===O&&(O=De),void 0===j&&(j="ObservableSet@"+L()),this.name=j,this[lo]=ba,this._data=new Set,this._atom=He(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(G,q){return O(G,q,j)},p&&this.replace(p)}return l.prototype.dehanceValue=function(p){return void 0!==this.dehancer?this.dehancer(p):p},l.prototype.clear=function(){var p=this;Wr(function(){Ze(function(){var O,j;try{for(var G=Ke(p._data.values()),q=G.next();!q.done;q=G.next())p.delete(q.value)}catch(Ce){O={error:Ce}}finally{try{q&&!q.done&&(j=G.return)&&j.call(G)}finally{if(O)throw O.error}}})})},l.prototype.forEach=function(p,O){var j,G;try{for(var q=Ke(this),se=q.next();!se.done;se=q.next()){var Ce=se.value;p.call(O,Ce,Ce,this)}}catch(Xe){j={error:Xe}}finally{try{se&&!se.done&&(G=q.return)&&G.call(q)}finally{if(j)throw j.error}}},Object.defineProperty(l.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),l.prototype.add=function(p){var O=this;if(x(this._atom),$r(this)&&!(j=Lr(this,{type:"add",object:this,newValue:p})))return this;if(!this.has(p)){Wr(function(){O._data.add(O.enhancer(p,void 0)),O._atom.reportChanged()});var q=Tr(this),j=q?{type:"add",object:this,newValue:p}:null;q&&zr(this,j)}return this},l.prototype.delete=function(p){var O=this;if($r(this)&&!(j=Lr(this,{type:"delete",object:this,oldValue:p})))return!1;if(this.has(p)){var q=Tr(this),j=q?{type:"delete",object:this,oldValue:p}:null;return Wr(function(){O._atom.reportChanged(),O._data.delete(p)}),q&&zr(this,j),!0}return!1},l.prototype.has=function(p){return this._atom.reportObserved(),this._data.has(this.dehanceValue(p))},l.prototype.entries=function(){var p=0,O=Array.from(this.keys()),j=Array.from(this.values());return nt({next:function(){var G=p;return p+=1,G<j.length?{value:[O[G],j[G]],done:!1}:{done:!0}}})},l.prototype.keys=function(){return this.values()},l.prototype.values=function(){this._atom.reportObserved();var p=this,O=0,j=Array.from(this._data.values());return nt({next:function(){return O<j.length?{value:p.dehanceValue(j[O++]),done:!1}:{done:!0}}})},l.prototype.replace=function(p){var O=this;return Er(p)&&(p=p.toJS()),Wr(function(){var j=mo(!0);try{Array.isArray(p)||H(p)?(O.clear(),p.forEach(function(G){return O.add(G)})):null!=p&&B("Cannot initialize set from "+p)}finally{en(j)}}),this},l.prototype.observe=function(p,O){return ao(this,p)},l.prototype.intercept=function(p){return Ln(this,p)},l.prototype.toJS=function(){return new Set(this)},l.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},l.prototype[(lo=Se,Symbol.iterator)]=function(){return this.values()},l}(),Er=le("ObservableSet",pn),Ri=function(){function l(p,O,j,G){void 0===O&&(O=new Map),this.target=p,this.values=O,this.name=j,this.defaultEnhancer=G,this.keysAtom=new ze(j+".keys")}return l.prototype.read=function(p){return this.values.get(p).get()},l.prototype.write=function(p,O){var j=this.target,G=this.values.get(p);if(G instanceof Qn)G.set(O);else{if($r(this)){if(!(q=Lr(this,{type:"update",object:this.proxy||j,name:p,newValue:O})))return;O=q.newValue}if((O=G.prepareNewValue(O))!==et.UNCHANGED){var se=Tr(this),q=se?{type:"update",object:this.proxy||j,oldValue:G.value,name:p,newValue:O}:null;G.setNewValue(O),se&&zr(this,q)}}},l.prototype.has=function(p){var O=this.pendingKeys||(this.pendingKeys=new Map),j=O.get(p);if(j)return j.get();var G=!!this.values.get(p);return j=new Yr(G,ut,this.name+"."+fe(p)+"?",!1),O.set(p,j),j.get()},l.prototype.addObservableProp=function(p,O,j){void 0===j&&(j=this.defaultEnhancer);var G=this.target;if($r(this)){var q=Lr(this,{object:this.proxy||G,name:p,type:"add",newValue:O});if(!q)return;O=q.newValue}var se=new Yr(O,j,this.name+"."+fe(p),!1);this.values.set(p,se),O=se.value,Object.defineProperty(G,p,function u(l){return h[l]||(h[l]={configurable:!0,enumerable:!0,get:function(){return this[Se].read(l)},set:function(p){this[Se].write(l,p)}})}(p)),this.notifyPropertyAddition(p,O)},l.prototype.addComputedProp=function(p,O,j){var G=this.target;j.name=j.name||this.name+"."+fe(O),this.values.set(O,new Qn(j)),(p===G||function de(l,p){var O=Object.getOwnPropertyDescriptor(l,p);return!O||!1!==O.configurable&&!1!==O.writable}(p,O))&&Object.defineProperty(p,O,function v(l){return f[l]||(f[l]={configurable:et.computedConfigurable,enumerable:!1,get:function(){return d(this).read(l)},set:function(p){d(this).write(l,p)}})}(O))},l.prototype.remove=function(p){if(this.values.has(p)){var O=this.target;if($r(this)&&!(j=Lr(this,{object:this.proxy||O,name:p,type:"remove"})))return;try{Zr();var G=Tr(this),se=this.values.get(p),Ce=se&&se.get();if(se&&se.set(void 0),this.keysAtom.reportChanged(),this.values.delete(p),this.pendingKeys){var Xe=this.pendingKeys.get(p);Xe&&Xe.set(!1)}delete this.target[p];var j=G?{type:"remove",object:this.proxy||O,oldValue:Ce,name:p}:null;G&&zr(this,j)}finally{br()}}},l.prototype.illegalAccess=function(p,O){console.warn("Property '"+O+"' of '"+p+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},l.prototype.observe=function(p,O){return ao(this,p)},l.prototype.intercept=function(p){return Ln(this,p)},l.prototype.notifyPropertyAddition=function(p,O){var j=Tr(this);if(j&&zr(this,j?{type:"add",object:this.proxy||this.target,name:p,newValue:O}:null),this.pendingKeys){var se=this.pendingKeys.get(p);se&&se.set(!0)}this.keysAtom.reportChanged()},l.prototype.getKeys=function(){var p,O;this.keysAtom.reportObserved();var j=[];try{for(var G=Ke(this.values),q=G.next();!q.done;q=G.next()){var se=_(q.value,2);se[1]instanceof Yr&&j.push(se[0])}}catch(mt){p={error:mt}}finally{try{q&&!q.done&&(O=G.return)&&O.call(G)}finally{if(p)throw p.error}}return j},l}();function Ii(l,p,O){if(void 0===p&&(p=""),void 0===O&&(O=De),Object.prototype.hasOwnProperty.call(l,Se))return l[Se];re(l)||(p=(l.constructor.name||"ObservableObject")+"@"+L()),p||(p="ObservableObject@"+L());var j=new Ri(l,new Map,fe(p),O);return ge(l,Se,j),j}var h=Object.create(null),f=Object.create(null);function d(l){return l[Se]||(ht(l),l[Se])}var m=le("ObservableObjectAdministration",Ri);function S(l){return!!ae(l)&&(ht(l),m(l[Se]))}function M(l,p){if("object"==typeof l&&null!==l){if(Qt(l))return void 0!==p&&B(!1),l[Se].atom;if(Er(l))return l[Se];if(dr(l)){var O=l;return void 0===p?O._keysAtom:((j=O._data.get(p)||O._hasMap.get(p))||B(!1),j)}var j;if(ht(l),S(l))return p?((j=l[Se].values.get(p))||B(!1),j):B(!1);if(We(l)||bo(l)||nn(l))return l}else if("function"==typeof l&&nn(l[Se]))return l[Se];return B(!1)}function z(l,p){return l||B("Expecting some object"),void 0!==p?z(M(l,p)):We(l)||bo(l)||nn(l)||dr(l)||Er(l)?l:(ht(l),l[Se]?l[Se]:void B(!1))}var F=Object.prototype.toString;function me(l,p,O){return void 0===O&&(O=-1),he(l,p,O)}function he(l,p,O,j,G){if(l===p)return 0!==l||1/l==1/p;if(null==l||null==p)return!1;if(l!=l)return p!=p;var q=typeof l;if("function"!==q&&"object"!==q&&"object"!=typeof p)return!1;var se=F.call(l);if(se!==F.call(p))return!1;switch(se){case"[object RegExp]":case"[object String]":return""+l==""+p;case"[object Number]":return+l!=+l?+p!=+p:0==+l?1/+l==1/p:+l==+p;case"[object Date]":case"[object Boolean]":return+l==+p;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(l)===Symbol.valueOf.call(p);case"[object Map]":case"[object Set]":O>=0&&O++}l=Oe(l),p=Oe(p);var Ce="[object Array]"===se;if(!Ce){if("object"!=typeof l||"object"!=typeof p)return!1;var Xe=l.constructor,mt=p.constructor;if(Xe!==mt&&!("function"==typeof Xe&&Xe instanceof Xe&&"function"==typeof mt&&mt instanceof mt)&&"constructor"in l&&"constructor"in p)return!1}if(0===O)return!1;O<0&&(O=-1),G=G||[];for(var bt=(j=j||[]).length;bt--;)if(j[bt]===l)return G[bt]===p;if(j.push(l),G.push(p),Ce){if((bt=l.length)!==p.length)return!1;for(;bt--;)if(!he(l[bt],p[bt],O-1,j,G))return!1}else{var Yt=Object.keys(l),Wt=void 0;if(bt=Yt.length,Object.keys(p).length!==bt)return!1;for(;bt--;)if(!Ie(p,Wt=Yt[bt])||!he(l[Wt],p[Wt],O-1,j,G))return!1}return j.pop(),G.pop(),!0}function Oe(l){return Qt(l)?l.slice():oe(l)||dr(l)||H(l)||Er(l)?Array.from(l.entries()):l}function Ie(l,p){return Object.prototype.hasOwnProperty.call(l,p)}function nt(l){return l[Symbol.iterator]=rt,l}function rt(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:on,extras:{getDebugName:function Z(l,p){return(void 0!==p?M(l,p):S(l)||dr(l)||Er(l)?z(l):M(l)).name}},$mobx:Se})}).call(this,a(155),a(82))},function(D,N,a){"use strict";a.d(N,"a",function(){return be}),a.d(N,"b",function(){return ge}),a.d(N,"c",function(){return it}),a.d(N,"d",function(){return Ke}),a.d(N,"e",function(){return ae}),a.d(N,"f",function(){return Me}),a.d(N,"g",function(){return ae}),a.d(N,"h",function(){return st}),a.d(N,"i",function(){return y}),a.d(N,"j",function(){return Fe}),a.d(N,"k",function(){return te});var b,y,P,C,L,B,X,U={},Q=[],W=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function J(_,ee){for(var ie in ee)_[ie]=ee[ie];return _}function ne(_){var ee=_.parentNode;ee&&ee.removeChild(_)}function ae(_,ee,ie){var Ae,Ye,we,gt={};for(we in ee)"key"==we?Ae=ee[we]:"ref"==we?Ye=ee[we]:gt[we]=ee[we];if(arguments.length>2&&(gt.children=arguments.length>3?b.call(arguments,2):ie),"function"==typeof _&&null!=_.defaultProps)for(we in _.defaultProps)void 0===gt[we]&&(gt[we]=_.defaultProps[we]);return re(_,gt,Ae,Ye,null)}function re(_,ee,ie,Ae,Ye){var we={type:_,props:ee,key:ie,ref:Ae,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ye??++P};return null==Ye&&null!=y.vnode&&y.vnode(we),we}function Me(){return{current:null}}function ge(_){return _.children}function be(_,ee){this.props=_,this.context=ee}function de(_,ee){if(null==ee)return _.__?de(_.__,_.__.__k.indexOf(_)+1):null;for(var ie;ee<_.__k.length;ee++)if(null!=(ie=_.__k[ee])&&null!=ie.__e)return ie.__e;return"function"==typeof _.type?de(_):null}function Te(_){var ee,ie;if(null!=(_=_.__)&&null!=_.__c){for(_.__e=_.__c.base=null,ee=0;ee<_.__k.length;ee++)if(null!=(ie=_.__k[ee])&&null!=ie.__e){_.__e=_.__c.base=ie.__e;break}return Te(_)}}function le(_){(!_.__d&&(_.__d=!0)&&C.push(_)&&!Pe.__r++||B!==y.debounceRendering)&&((B=y.debounceRendering)||L)(Pe)}function Pe(){for(var _;Pe.__r=C.length;)_=C.sort(function(ee,ie){return ee.__v.__b-ie.__v.__b}),C=[],_.some(function(ee){var ie,Ae,Ye,we,gt,ht;ee.__d&&(gt=(we=(ie=ee).__v).__e,(ht=ie.__P)&&(Ae=[],(Ye=J({},we)).__v=we.__v+1,He(ht,we,Ye,ie.__n,void 0!==ht.ownerSVGElement,null!=we.__h?[gt]:null,Ae,gt??de(we),we.__h),Ue(Ae,we),we.__e!=gt&&Te(we)))})}function oe(_,ee,ie,Ae,Ye,we,gt,ht,pt,xt){var De,Lt,ut,ct,vt,zt,Ft,Dt=Ae&&Ae.__k||Q,Gt=Dt.length;for(ie.__k=[],De=0;De<ee.length;De++)if(null!=(ct=ie.__k[De]=null==(ct=ee[De])||"boolean"==typeof ct?null:"string"==typeof ct||"number"==typeof ct||"bigint"==typeof ct?re(null,ct,null,null,ct):Array.isArray(ct)?re(ge,{children:ct},null,null,null):ct.__b>0?re(ct.type,ct.props,ct.key,null,ct.__v):ct)){if(ct.__=ie,ct.__b=ie.__b+1,null===(ut=Dt[De])||ut&&ct.key==ut.key&&ct.type===ut.type)Dt[De]=void 0;else for(Lt=0;Lt<Gt;Lt++){if((ut=Dt[Lt])&&ct.key==ut.key&&ct.type===ut.type){Dt[Lt]=void 0;break}ut=null}He(_,ct,ut=ut||U,Ye,we,gt,ht,pt,xt),vt=ct.__e,(Lt=ct.ref)&&ut.ref!=Lt&&(Ft||(Ft=[]),ut.ref&&Ft.push(ut.ref,null,ct),Ft.push(Lt,ct.__c||vt,ct)),null!=vt?(null==zt&&(zt=vt),"function"==typeof ct.type&&ct.__k===ut.__k?ct.__d=pt=H(ct,pt,_):pt=fe(_,ct,ut,Dt,vt,pt),"function"==typeof ie.type&&(ie.__d=pt)):pt&&ut.__e==pt&&pt.parentNode!=_&&(pt=de(ut))}for(ie.__e=zt,De=Gt;De--;)null!=Dt[De]&&("function"==typeof ie.type&&null!=Dt[De].__e&&Dt[De].__e==ie.__d&&(ie.__d=de(Ae,De+1)),wt(Dt[De],Dt[De]));if(Ft)for(De=0;De<Ft.length;De++)ft(Ft[De],Ft[++De],Ft[++De])}function H(_,ee,ie){for(var Ae,Ye=_.__k,we=0;Ye&&we<Ye.length;we++)(Ae=Ye[we])&&(Ae.__=_,ee="function"==typeof Ae.type?H(Ae,ee,ie):fe(ie,Ae,Ae,Ye,Ae.__e,ee));return ee}function te(_,ee){return ee=ee||[],null==_||"boolean"==typeof _||(Array.isArray(_)?_.some(function(ie){te(ie,ee)}):ee.push(_)),ee}function fe(_,ee,ie,Ae,Ye,we){var gt,ht,pt;if(void 0!==ee.__d)gt=ee.__d,ee.__d=void 0;else if(null==ie||Ye!=we||null==Ye.parentNode)e:if(null==we||we.parentNode!==_)_.appendChild(Ye),gt=null;else{for(ht=we,pt=0;(ht=ht.nextSibling)&&pt<Ae.length;pt+=2)if(ht==Ye)break e;_.insertBefore(Ye,we),gt=we}return void 0!==gt?gt:Ye.nextSibling}function ke(_,ee,ie){"-"===ee[0]?_.setProperty(ee,ie):_[ee]=null==ie?"":"number"!=typeof ie||W.test(ee)?ie:ie+"px"}function Se(_,ee,ie,Ae,Ye){var we;e:if("style"===ee)if("string"==typeof ie)_.style.cssText=ie;else{if("string"==typeof Ae&&(_.style.cssText=Ae=""),Ae)for(ee in Ae)ie&&ee in ie||ke(_.style,ee,"");if(ie)for(ee in ie)Ae&&ie[ee]===Ae[ee]||ke(_.style,ee,ie[ee])}else if("o"===ee[0]&&"n"===ee[1])we=ee!==(ee=ee.replace(/Capture$/,"")),ee=ee.toLowerCase()in _?ee.toLowerCase().slice(2):ee.slice(2),_.l||(_.l={}),_.l[ee+we]=ie,ie?Ae||_.addEventListener(ee,we?We:ze,we):_.removeEventListener(ee,we?We:ze,we);else if("dangerouslySetInnerHTML"!==ee){if(Ye)ee=ee.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==ee&&"list"!==ee&&"form"!==ee&&"tabIndex"!==ee&&"download"!==ee&&ee in _)try{_[ee]=ie??"";break e}catch{}"function"==typeof ie||(null!=ie&&(!1!==ie||"a"===ee[0]&&"r"===ee[1])?_.setAttribute(ee,ie):_.removeAttribute(ee))}}function ze(_){this.l[_.type+!1](y.event?y.event(_):_)}function We(_){this.l[_.type+!0](y.event?y.event(_):_)}function He(_,ee,ie,Ae,Ye,we,gt,ht,pt){var xt,De,Lt,ut,ct,vt,zt,Ft,Dt,Gt,_t,Xt=ee.type;if(void 0!==ee.constructor)return null;null!=ie.__h&&(pt=ie.__h,ht=ee.__e=ie.__e,ee.__h=null,we=[ht]),(xt=y.__b)&&xt(ee);try{e:if("function"==typeof Xt){if(Ft=ee.props,Dt=(xt=Xt.contextType)&&Ae[xt.__c],Gt=xt?Dt?Dt.props.value:xt.__:Ae,ie.__c?zt=(De=ee.__c=ie.__c).__=De.__E:("prototype"in Xt&&Xt.prototype.render?ee.__c=De=new Xt(Ft,Gt):(ee.__c=De=new be(Ft,Gt),De.constructor=Xt,De.render=Ot),Dt&&Dt.sub(De),De.props=Ft,De.state||(De.state={}),De.context=Gt,De.__n=Ae,Lt=De.__d=!0,De.__h=[]),null==De.__s&&(De.__s=De.state),null!=Xt.getDerivedStateFromProps&&(De.__s==De.state&&(De.__s=J({},De.__s)),J(De.__s,Xt.getDerivedStateFromProps(Ft,De.__s))),ut=De.props,ct=De.state,Lt)null==Xt.getDerivedStateFromProps&&null!=De.componentWillMount&&De.componentWillMount(),null!=De.componentDidMount&&De.__h.push(De.componentDidMount);else{if(null==Xt.getDerivedStateFromProps&&Ft!==ut&&null!=De.componentWillReceiveProps&&De.componentWillReceiveProps(Ft,Gt),!De.__e&&null!=De.shouldComponentUpdate&&!1===De.shouldComponentUpdate(Ft,De.__s,Gt)||ee.__v===ie.__v){De.props=Ft,De.state=De.__s,ee.__v!==ie.__v&&(De.__d=!1),De.__v=ee,ee.__e=ie.__e,ee.__k=ie.__k,ee.__k.forEach(function(nr){nr&&(nr.__=ee)}),De.__h.length&&gt.push(De);break e}null!=De.componentWillUpdate&&De.componentWillUpdate(Ft,De.__s,Gt),null!=De.componentDidUpdate&&De.__h.push(function(){De.componentDidUpdate(ut,ct,vt)})}De.context=Gt,De.props=Ft,De.state=De.__s,(xt=y.__r)&&xt(ee),De.__d=!1,De.__v=ee,De.__P=_,xt=De.render(De.props,De.state,De.context),De.state=De.__s,null!=De.getChildContext&&(Ae=J(J({},Ae),De.getChildContext())),Lt||null==De.getSnapshotBeforeUpdate||(vt=De.getSnapshotBeforeUpdate(ut,ct)),_t=null!=xt&&xt.type===ge&&null==xt.key?xt.props.children:xt,oe(_,Array.isArray(_t)?_t:[_t],ee,ie,Ae,Ye,we,gt,ht,pt),De.base=ee.__e,ee.__h=null,De.__h.length&&gt.push(De),zt&&(De.__E=De.__=null),De.__e=!1}else null==we&&ee.__v===ie.__v?(ee.__k=ie.__k,ee.__e=ie.__e):ee.__e=function tt(_,ee,ie,Ae,Ye,we,gt,ht){var pt,xt,De,Lt=ie.props,ut=ee.props,ct=ee.type,vt=0;if("svg"===ct&&(Ye=!0),null!=we)for(;vt<we.length;vt++)if((pt=we[vt])&&"setAttribute"in pt==!!ct&&(ct?pt.localName===ct:3===pt.nodeType)){_=pt,we[vt]=null;break}if(null==_){if(null===ct)return document.createTextNode(ut);_=Ye?document.createElementNS("http://www.w3.org/2000/svg",ct):document.createElement(ct,ut.is&&ut),we=null,ht=!1}if(null===ct)Lt===ut||ht&&_.data===ut||(_.data=ut);else{if(we=we&&b.call(_.childNodes),xt=(Lt=ie.props||U).dangerouslySetInnerHTML,De=ut.dangerouslySetInnerHTML,!ht){if(null!=we)for(Lt={},vt=0;vt<_.attributes.length;vt++)Lt[_.attributes[vt].name]=_.attributes[vt].value;(De||xt)&&(De&&(xt&&De.__html==xt.__html||De.__html===_.innerHTML)||(_.innerHTML=De&&De.__html||""))}if(function ve(_,ee,ie,Ae,Ye){var we;for(we in ie)"children"===we||"key"===we||we in ee||Se(_,we,null,ie[we],Ae);for(we in ee)Ye&&"function"!=typeof ee[we]||"children"===we||"key"===we||"value"===we||"checked"===we||ie[we]===ee[we]||Se(_,we,ee[we],ie[we],Ae)}(_,ut,Lt,Ye,ht),De)ee.__k=[];else if(vt=ee.props.children,oe(_,Array.isArray(vt)?vt:[vt],ee,ie,Ae,Ye&&"foreignObject"!==ct,we,gt,we?we[0]:ie.__k&&de(ie,0),ht),null!=we)for(vt=we.length;vt--;)null!=we[vt]&&ne(we[vt]);ht||("value"in ut&&void 0!==(vt=ut.value)&&(vt!==Lt.value||vt!==_.value||"progress"===ct&&!vt)&&Se(_,"value",vt,Lt.value,!1),"checked"in ut&&void 0!==(vt=ut.checked)&&vt!==_.checked&&Se(_,"checked",vt,Lt.checked,!1))}return _}(ie.__e,ee,ie,Ae,Ye,we,gt,pt);(xt=y.diffed)&&xt(ee)}catch(nr){ee.__v=null,(pt||null!=we)&&(ee.__e=ht,ee.__h=!!pt,we[we.indexOf(ht)]=null),y.__e(nr,ee,ie)}}function Ue(_,ee){y.__c&&y.__c(ee,_),_.some(function(ie){try{_=ie.__h,ie.__h=[],_.some(function(Ae){Ae.call(ie)})}catch(Ae){y.__e(Ae,ie.__v)}})}function ft(_,ee,ie){try{"function"==typeof _?_(ee):_.current=ee}catch(Ae){y.__e(Ae,ie)}}function wt(_,ee,ie){var Ae,Ye;if(y.unmount&&y.unmount(_),(Ae=_.ref)&&(Ae.current&&Ae.current!==_.__e||ft(Ae,null,ee)),null!=(Ae=_.__c)){if(Ae.componentWillUnmount)try{Ae.componentWillUnmount()}catch(we){y.__e(we,ee)}Ae.base=Ae.__P=null}if(Ae=_.__k)for(Ye=0;Ye<Ae.length;Ye++)Ae[Ye]&&wt(Ae[Ye],ee,"function"!=typeof _.type);ie||null==_.__e||ne(_.__e),_.__e=_.__d=void 0}function Ot(_,ee,ie){return this.constructor(_,ie)}function Fe(_,ee,ie){var Ae,Ye,we;y.__&&y.__(_,ee),Ye=(Ae="function"==typeof ie)?null:ie&&ie.__k||ee.__k,we=[],He(ee,_=(!Ae&&ie||ee).__k=ae(ge,null,[_]),Ye||U,U,void 0!==ee.ownerSVGElement,!Ae&&ie?[ie]:Ye?null:ee.firstChild?b.call(ee.childNodes):null,we,!Ae&&ie?ie:Ye?Ye.__e:ee.firstChild,Ae),Ue(we,_)}function st(_,ee){Fe(_,ee,st)}function it(_,ee,ie){var Ae,Ye,we,gt=J({},_.props);for(we in ee)"key"==we?Ae=ee[we]:"ref"==we?Ye=ee[we]:gt[we]=ee[we];return arguments.length>2&&(gt.children=arguments.length>3?b.call(arguments,2):ie),re(_.type,gt,Ae||_.key,Ye||_.ref,null)}function Ke(_,ee){var ie={__c:ee="__cC"+X++,__:_,Consumer:function(Ae,Ye){return Ae.children(Ye)},Provider:function(Ae){var Ye,we;return this.getChildContext||(Ye=[],(we={})[ee]=this,this.getChildContext=function(){return we},this.shouldComponentUpdate=function(gt){this.props.value!==gt.value&&Ye.some(le)},this.sub=function(gt){Ye.push(gt);var ht=gt.componentWillUnmount;gt.componentWillUnmount=function(){Ye.splice(Ye.indexOf(gt),1),ht&&ht.call(gt)}}),Ae.children}};return ie.Provider.__=ie.Consumer.contextType=ie}b=Q.slice,y={__e:function(_,ee){for(var ie,Ae,Ye;ee=ee.__;)if((ie=ee.__c)&&!ie.__)try{if((Ae=ie.constructor)&&null!=Ae.getDerivedStateFromError&&(ie.setState(Ae.getDerivedStateFromError(_)),Ye=ie.__d),null!=ie.componentDidCatch&&(ie.componentDidCatch(_),Ye=ie.__d),Ye)return ie.__E=ie}catch(we){_=we}throw _}},P=0,be.prototype.setState=function(_,ee){var ie;ie=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=J({},this.state),"function"==typeof _&&(_=_(J({},ie),this.props)),_&&J(ie,_),null!=_&&this.__v&&(ee&&this.__h.push(ee),le(this))},be.prototype.forceUpdate=function(_){this.__v&&(this.__e=!0,_&&this.__h.push(_),le(this))},be.prototype.render=ge,C=[],L="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pe.__r=0,X=0},function(D,N,a){var b=a(116),y=a(44),P=a(178);b||y(Object.prototype,"toString",P,{unsafe:!0})},function(D,N,a){"use strict";var b=a(39),y=a(83),P=a(70),T=a(56),C=a(111),L="Array Iterator",B=T.set,X=T.getterFor(L);D.exports=C(Array,"Array",function(U,Q){B(this,{type:L,target:b(U),index:0,kind:Q})},function(){var U=X(this),Q=U.target,W=U.kind,J=U.index++;return!Q||J>=Q.length?(U.target=void 0,{value:void 0,done:!0}):"keys"==W?{value:J,done:!1}:"values"==W?{value:Q[J],done:!1}:{value:[J,Q[J]],done:!1}},"values"),P.Arguments=P.Array,y("keys"),y("values"),y("entries")},function(D,N,a){var b=a(7),y=a(147),P=a(148),T=a(3),C=a(57),L=a(27),B=L("iterator"),X=L("toStringTag"),U=T.values,Q=function(J,ne){if(J){if(J[B]!==U)try{C(J,B,U)}catch{J[B]=U}if(J[X]||C(J,X,ne),y[ne])for(var ae in T)if(J[ae]!==T[ae])try{C(J,ae,T[ae])}catch{J[ae]=T[ae]}}};for(var W in y)Q(b[W]&&b[W].prototype,W);Q(P,"DOMTokenList")},function(D,N,a){"use strict";var b=a(16),y=a(7),P=a(46),T=a(76),C=a(35),L=a(15),B=a(64),X=a(36),U=a(109),Q=a(18),W=a(34),J=a(99),ne=a(28),ae=a(33),re=a(58),Me=a(88),ge=a(32),be=a(38),de=a(39),Te=a(87),le=a(40),Pe=a(71),oe=a(54),H=a(66),te=a(72),fe=a(139),ve=a(112),ke=a(51),Se=a(37),ze=a(93),We=a(101),He=a(44),Ue=a(84),tt=a(91),ft=a(69),wt=a(85),Ot=a(27),Fe=a(149),st=a(150),it=a(73),Ke=a(56),_=a(74).forEach,ee=tt("hidden"),ie="Symbol",Ae="prototype",Ye=Ot("toPrimitive"),we=Ke.set,gt=Ke.getterFor(ie),ht=Object[Ae],pt=y.Symbol,xt=pt&&pt[Ae],De=y.TypeError,Lt=y.QObject,ut=P("JSON","stringify"),ct=ke.f,vt=Se.f,zt=fe.f,Ft=ze.f,Dt=L([].push),Gt=Ue("symbols"),_t=Ue("op-symbols"),Xt=Ue("string-to-symbol-registry"),nr=Ue("symbol-to-string-registry"),vr=Ue("wks"),cr=!Lt||!Lt[Ae]||!Lt[Ae].findChild,ar=X&&Q(function(){return 7!=oe(vt({},"a",{get:function(){return vt(this,"a",{value:7}).a}})).a})?function(Y,x,w){var I=ct(ht,x);I&&delete ht[x],vt(Y,x,w),I&&Y!==ht&&vt(ht,x,I)}:vt,kt=function(Y,x){var w=Gt[Y]=oe(xt);return we(w,{type:ie,tag:Y,description:x}),X||(w.description=x),w},Ut=function(x,w,I){x===ht&&Ut(_t,w,I),ge(x);var K=Te(w);return ge(I),W(Gt,K)?(I.enumerable?(W(x,ee)&&x[ee][K]&&(x[ee][K]=!1),I=oe(I,{enumerable:Pe(0,!1)})):(W(x,ee)||vt(x,ee,Pe(1,{})),x[ee][K]=!0),ar(x,K,I)):vt(x,K,I)},tr=function(x,w){ge(x);var I=de(w),K=H(I).concat(At(I));return _(K,function(je){(!X||C(ot,I,je))&&Ut(x,je,I[je])}),x},ot=function(x){var w=Te(x),I=C(Ft,this,w);return!(this===ht&&W(Gt,w)&&!W(_t,w))&&(!(I||!W(this,w)||!W(Gt,w)||W(this,ee)&&this[ee][w])||I)},Qe=function(x,w){var I=de(x),K=Te(w);if(I!==ht||!W(Gt,K)||W(_t,K)){var je=ct(I,K);return je&&W(Gt,K)&&!(W(I,ee)&&I[ee][K])&&(je.enumerable=!0),je}},dt=function(x){var w=zt(de(x)),I=[];return _(w,function(K){!W(Gt,K)&&!W(ft,K)&&Dt(I,K)}),I},At=function(x){var w=x===ht,I=zt(w?_t:de(x)),K=[];return _(I,function(je){W(Gt,je)&&(!w||W(ht,je))&&Dt(K,Gt[je])}),K};if(U||(pt=function(){if(re(xt,this))throw De("Symbol is not a constructor");var x=arguments.length&&void 0!==arguments[0]?le(arguments[0]):void 0,w=wt(x),I=function(K){this===ht&&C(I,_t,K),W(this,ee)&&W(this[ee],w)&&(this[ee][w]=!1),ar(this,w,Pe(1,K))};return X&&cr&&ar(ht,w,{configurable:!0,set:I}),kt(w,x)},He(xt=pt[Ae],"toString",function(){return gt(this).tag}),He(pt,"withoutSetter",function(Y){return kt(wt(Y),Y)}),ze.f=ot,Se.f=Ut,ke.f=Qe,te.f=fe.f=dt,ve.f=At,Fe.f=function(Y){return kt(Ot(Y),Y)},X&&(vt(xt,"description",{configurable:!0,get:function(){return gt(this).description}}),B||He(ht,"propertyIsEnumerable",ot,{unsafe:!0}))),b({global:!0,wrap:!0,forced:!U,sham:!U},{Symbol:pt}),_(H(vr),function(Y){st(Y)}),b({target:ie,stat:!0,forced:!U},{for:function(Y){var x=le(Y);if(W(Xt,x))return Xt[x];var w=pt(x);return Xt[x]=w,nr[w]=x,w},keyFor:function(x){if(!Me(x))throw De(x+" is not a symbol");if(W(nr,x))return nr[x]},useSetter:function(){cr=!0},useSimple:function(){cr=!1}}),b({target:"Object",stat:!0,forced:!U,sham:!X},{create:function(x,w){return void 0===w?oe(x):tr(oe(x),w)},defineProperty:Ut,defineProperties:tr,getOwnPropertyDescriptor:Qe}),b({target:"Object",stat:!0,forced:!U},{getOwnPropertyNames:dt,getOwnPropertySymbols:At}),b({target:"Object",stat:!0,forced:Q(function(){ve.f(1)})},{getOwnPropertySymbols:function(x){return ve.f(be(x))}}),ut&&b({target:"JSON",stat:!0,forced:!U||Q(function(){var Y=pt();return"[null]"!=ut([Y])||"{}"!=ut({a:Y})||"{}"!=ut(Object(Y))})},{stringify:function(x,w,I){var K=We(arguments),je=w;if((ae(w)||void 0!==x)&&!Me(x))return J(w)||(w=function(Ne,Ze){if(ne(je)&&(Ze=C(je,this,Ne,Ze)),!Me(Ze))return Ze}),K[1]=w,T(ut,null,K)}}),!xt[Ye]){var $=xt.valueOf;He(xt,Ye,function(Y){return C($,this)})}it(pt,ie),ft[ee]=!0},function(D,N,a){"use strict";var b=a(146).charAt,y=a(40),P=a(56),T=a(111),C="String Iterator",L=P.set,B=P.getterFor(C);T(String,"String",function(X){L(this,{type:C,string:y(X),index:0})},function(){var J,U=B(this),Q=U.string,W=U.index;return W>=Q.length?{value:void 0,done:!0}:(J=b(Q,W),U.index+=J.length,{value:J,done:!1})})},function(D,N,a){(function(b){var y=function(P){return P&&P.Math==Math&&P};D.exports=y("object"==typeof globalThis&&globalThis)||y("object"==typeof window&&window)||y("object"==typeof self&&self)||y("object"==typeof b&&b)||function(){return this}()||Function("return this")()}).call(this,a(82))},function(D,N,a){"use strict";var b=a(16),y=a(36),P=a(7),T=a(15),C=a(34),L=a(28),B=a(58),X=a(40),U=a(37).f,Q=a(134),W=P.Symbol,J=W&&W.prototype;if(y&&L(W)&&(!("description"in J)||void 0!==W().description)){var ne={},ae=function(){var Pe=arguments.length<1||void 0===arguments[0]?void 0:X(arguments[0]),oe=B(J,this)?new W(Pe):void 0===Pe?W():W(Pe);return""===Pe&&(ne[oe]=!0),oe};Q(ae,W),ae.prototype=J,J.constructor=ae;var re="Symbol(test)"==String(W("test")),Me=T(J.toString),ge=T(J.valueOf),be=/^Symbol\((.*)\)[^)]+$/,de=T("".replace),Te=T("".slice);U(J,"description",{configurable:!0,get:function(){var Pe=ge(this),oe=Me(Pe);if(C(ne,Pe))return"";var H=re?Te(oe,7,-1):de(oe,be,"$1");return""===H?void 0:H}}),b({global:!0,forced:!0},{Symbol:ae})}},function(D,N,a){a(150)("iterator")},function(D,N,a){"use strict";a.d(N,"a",function(){return b.a}),a.d(N,"c",function(){return b.e}),a.d(N,"h",function(){return Te}),a.d(N,"i",function(){return re}),a.d(N,"j",function(){return ne}),a.d(N,"b",function(){return Ue}),a.d(N,"e",function(){return Ot}),a.d(N,"f",function(){return tt}),a.d(N,"g",function(){return dt});var y,P,T,b=a(1),C=0,L=[],B=b.i.__b,X=b.i.__r,U=b.i.diffed,Q=b.i.__c,W=b.i.unmount;function J(x,w){b.i.__h&&b.i.__h(P,x,C||w),C=0;var I=P.__H||(P.__H={__:[],__h:[]});return x>=I.__.length&&I.__.push({}),I.__[x]}function ne(x){return C=1,ae(ze,x)}function ae(x,w,I){var K=J(y++,2);return K.t=x,K.__c||(K.__=[I?I(w):ze(void 0,w),function(je){var Ne=K.t(K.__[0],je);K.__[0]!==Ne&&(K.__=[Ne,K.__[1]],K.__c.setState({}))}],K.__c=P),K.__}function re(x,w){var I=J(y++,3);!b.i.__s&&Se(I.__H,w)&&(I.__=x,I.__H=w,P.__H.__h.push(I))}function Me(x,w){var I=J(y++,4);!b.i.__s&&Se(I.__H,w)&&(I.__=x,I.__H=w,P.__h.push(I))}function de(x,w){var I=J(y++,7);return Se(I.__H,w)&&(I.__=x(),I.__H=w,I.__h=x),I.__}function Te(x,w){return C=8,de(function(){return x},w)}function H(){var x;for(L.sort(function(w,I){return w.__v.__b-I.__v.__b});x=L.pop();)if(x.__P)try{x.__H.__h.forEach(ve),x.__H.__h.forEach(ke),x.__H.__h=[]}catch(w){x.__H.__h=[],b.i.__e(w,x.__v)}}b.i.__b=function(x){P=null,B&&B(x)},b.i.__r=function(x){X&&X(x),y=0;var w=(P=x.__c).__H;w&&(w.__h.forEach(ve),w.__h.forEach(ke),w.__h=[])},b.i.diffed=function(x){U&&U(x);var w=x.__c;w&&w.__H&&w.__H.__h.length&&(1!==L.push(w)&&T===b.i.requestAnimationFrame||((T=b.i.requestAnimationFrame)||fe)(H)),P=null},b.i.__c=function(x,w){w.some(function(I){try{I.__h.forEach(ve),I.__h=I.__h.filter(function(K){return!K.__||ke(K)})}catch(K){w.some(function(je){je.__h&&(je.__h=[])}),w=[],b.i.__e(K,I.__v)}}),Q&&Q(x,w)},b.i.unmount=function(x){W&&W(x);var w,I=x.__c;I&&I.__H&&(I.__H.__.forEach(function(K){try{ve(K)}catch(je){w=je}}),w&&b.i.__e(w,I.__v))};var te="function"==typeof requestAnimationFrame;function fe(x){var w,I=function(){clearTimeout(K),te&&cancelAnimationFrame(w),setTimeout(x)},K=setTimeout(I,100);te&&(w=requestAnimationFrame(I))}function ve(x){var w=P,I=x.__c;"function"==typeof I&&(x.__c=void 0,I()),P=w}function ke(x){var w=P;x.__c=x.__(),P=w}function Se(x,w){return!x||x.length!==w.length||w.some(function(I,K){return I!==x[K]})}function ze(x,w){return"function"==typeof w?w(x):w}function We(x,w){for(var I in w)x[I]=w[I];return x}function He(x,w){for(var I in x)if("__source"!==I&&!(I in w))return!0;for(var K in w)if("__source"!==K&&x[K]!==w[K])return!0;return!1}function Ue(x){this.props=x}function tt(x,w){function I(je){var Ne=this.props.ref,Ze=Ne==je.ref;return!Ze&&Ne&&(Ne.call?Ne(null):Ne.current=null),w?!w(this.props,je)||!Ze:He(this.props,je)}function K(je){return this.shouldComponentUpdate=I,Object(b.e)(x,je)}return K.displayName="Memo("+(x.displayName||x.name)+")",K.prototype.isReactComponent=!0,K.__f=!0,K}(Ue.prototype=new b.a).isPureReactComponent=!0,Ue.prototype.shouldComponentUpdate=function(x,w){return He(this.props,x)||He(this.state,w)};var ft=b.i.__b;b.i.__b=function(x){x.type&&x.type.__f&&x.ref&&(x.props.ref=x.ref,x.ref=null),ft&&ft(x)};var wt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ot(x){function w(I,K){var je=We({},I);return delete je.ref,x(je,!(K=I.ref||K)||"object"==typeof K&&!("current"in K)?null:K)}return w.$$typeof=wt,w.render=w,w.prototype.isReactComponent=w.__f=!0,w.displayName="ForwardRef("+(x.displayName||x.name)+")",w}var Fe=function(x,w){return null==x?null:Object(b.k)(Object(b.k)(x).map(w))},st={map:Fe,forEach:Fe,count:function(x){return x?Object(b.k)(x).length:0},only:function(x){var w=Object(b.k)(x);if(1!==w.length)throw"Children.only";return w[0]},toArray:b.k},it=b.i.__e;b.i.__e=function(x,w,I){if(x.then)for(var K,je=w;je=je.__;)if((K=je.__c)&&K.__c)return null==w.__e&&(w.__e=I.__e,w.__k=I.__k),K.__c(x,w);it(x,w,I)};var Ke=b.i.unmount;function _(x,w,I){return x&&(x.__c&&x.__c.__H&&(x.__c.__H.__.forEach(function(K){"function"==typeof K.__c&&K.__c()}),x.__c.__H=null),null!=(x=We({},x)).__c&&(x.__c.__P===I&&(x.__c.__P=w),x.__c=null),x.__k=x.__k&&x.__k.map(function(K){return _(K,w,I)})),x}function ee(x,w,I){return x&&(x.__v=null,x.__k=x.__k&&x.__k.map(function(K){return ee(K,w,I)}),x.__c&&x.__c.__P===w&&(x.__e&&I.insertBefore(x.__e,x.__d),x.__c.__e=!0,x.__c.__P=I)),x}function ie(){this.__u=0,this.t=null,this.__b=null}function Ae(x){var w=x.__.__c;return w&&w.__e&&w.__e(x)}function we(){this.u=null,this.o=null}b.i.unmount=function(x){var w=x.__c;w&&w.__R&&w.__R(),w&&!0===x.__h&&(x.type=null),Ke&&Ke(x)},(ie.prototype=new b.a).__c=function(x,w){var I=w.__c,K=this;null==K.t&&(K.t=[]),K.t.push(I);var je=Ae(K.__v),Ne=!1,Ze=function(){Ne||(Ne=!0,I.__R=null,je?je(Je):Je())};I.__R=Ze;var Je=function(){if(!--K.__u){if(K.state.__e){var jt=K.state.__e;K.__v.__k[0]=ee(jt,jt.__c.__P,jt.__c.__O)}var Pt;for(K.setState({__e:K.__b=null});Pt=K.t.pop();)Pt.forceUpdate()}},at=!0===w.__h;K.__u++||at||K.setState({__e:K.__b=K.__v.__k[0]}),x.then(Ze,Ze)},ie.prototype.componentWillUnmount=function(){this.t=[]},ie.prototype.render=function(x,w){if(this.__b){if(this.__v.__k){var I=document.createElement("div"),K=this.__v.__k[0].__c;this.__v.__k[0]=_(this.__b,I,K.__O=K.__P)}this.__b=null}var je=w.__e&&Object(b.e)(b.b,null,x.fallback);return je&&(je.__h=null),[Object(b.e)(b.b,null,w.__e?null:x.children),je]};var gt=function(x,w,I){if(++I[1]===I[0]&&x.o.delete(w),x.props.revealOrder&&("t"!==x.props.revealOrder[0]||!x.o.size))for(I=x.u;I;){for(;I.length>3;)I.pop()();if(I[1]<I[0])break;x.u=I=I[2]}};function ht(x){return this.getChildContext=function(){return x.context},x.children}function pt(x){var w=this,I=x.i;w.componentWillUnmount=function(){Object(b.j)(null,w.l),w.l=null,w.i=null},w.i&&w.i!==I&&w.componentWillUnmount(),x.__v?(w.l||(w.i=I,w.l={nodeType:1,parentNode:I,childNodes:[],appendChild:function(K){this.childNodes.push(K),w.i.appendChild(K)},insertBefore:function(K,je){this.childNodes.push(K),w.i.appendChild(K)},removeChild:function(K){this.childNodes.splice(this.childNodes.indexOf(K)>>>1,1),w.i.removeChild(K)}}),Object(b.j)(Object(b.e)(ht,{context:w.context},x.__v),w.l)):w.l&&w.componentWillUnmount()}(we.prototype=new b.a).__e=function(x){var w=this,I=Ae(w.__v),K=w.o.get(x);return K[0]++,function(je){var Ne=function(){w.props.revealOrder?(K.push(je),gt(w,x,K)):je()};I?I(Ne):Ne()}},we.prototype.render=function(x){this.u=null,this.o=new Map;var w=Object(b.k)(x.children);x.revealOrder&&"b"===x.revealOrder[0]&&w.reverse();for(var I=w.length;I--;)this.o.set(w[I],this.u=[1,0,this.u]);return x.children},we.prototype.componentDidUpdate=we.prototype.componentDidMount=function(){var x=this;this.o.forEach(function(w,I){gt(x,I,w)})};var De=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Lt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ut=typeof document<"u",ct=function(x){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(x)};b.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(x){Object.defineProperty(b.a.prototype,x,{configurable:!0,get:function(){return this["UNSAFE_"+x]},set:function(w){Object.defineProperty(this,x,{configurable:!0,writable:!0,value:w})}})});var Ft=b.i.event;function Dt(){}function Gt(){return this.cancelBubble}function _t(){return this.defaultPrevented}b.i.event=function(x){return Ft&&(x=Ft(x)),x.persist=Dt,x.isPropagationStopped=Gt,x.isDefaultPrevented=_t,x.nativeEvent=x};var Xt,nr={configurable:!0,get:function(){return this.class}},vr=b.i.vnode;b.i.vnode=function(x){var w=x.type,I=x.props,K=I;if("string"==typeof w){var je=-1===w.indexOf("-");for(var Ne in K={},I){var Ze=I[Ne];ut&&"children"===Ne&&"noscript"===w||"value"===Ne&&"defaultValue"in I&&null==Ze||("defaultValue"===Ne&&"value"in I&&null==I.value?Ne="value":"download"===Ne&&!0===Ze?Ze="":/ondoubleclick/i.test(Ne)?Ne="ondblclick":/^onchange(textarea|input)/i.test(Ne+w)&&!ct(I.type)?Ne="oninput":/^onfocus$/i.test(Ne)?Ne="onfocusin":/^onblur$/i.test(Ne)?Ne="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ne)?Ne=Ne.toLowerCase():je&&Lt.test(Ne)?Ne=Ne.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===Ze&&(Ze=void 0),K[Ne]=Ze)}"select"==w&&K.multiple&&Array.isArray(K.value)&&(K.value=Object(b.k)(I.children).forEach(function(Je){Je.props.selected=-1!=K.value.indexOf(Je.props.value)})),"select"==w&&null!=K.defaultValue&&(K.value=Object(b.k)(I.children).forEach(function(Je){Je.props.selected=K.multiple?-1!=K.defaultValue.indexOf(Je.props.value):K.defaultValue==Je.props.value})),x.props=K,I.class!=I.className&&(nr.enumerable="className"in I,null!=I.className&&(K.class=I.className),Object.defineProperty(K,"className",nr))}x.$$typeof=De,vr&&vr(x)};var cr=b.i.__r;function tr(x){return!!x&&x.$$typeof===De}b.i.__r=function(x){cr&&cr(x),Xt=x.__c};var dt=function(x,w){return x(w)};N.d={useState:ne,useReducer:ae,useEffect:re,useLayoutEffect:Me,useRef:function ge(x){return C=5,de(function(){return{current:x}},[])},useImperativeHandle:function be(x,w,I){C=6,Me(function(){"function"==typeof x?x(w()):x&&(x.current=w())},null==I?I:I.concat(x))},useMemo:de,useCallback:Te,useContext:function le(x){var w=P.context[x.__c],I=J(y++,9);return I.c=x,w?(null==I.__&&(I.__=!0,w.sub(P)),w.props.value):x.__},useDebugValue:function Pe(x,w){b.i.useDebugValue&&b.i.useDebugValue(w?w(x):x)},version:"17.0.2",Children:st,render:function vt(x,w,I){return null==w.__k&&(w.textContent=""),Object(b.j)(x,w),"function"==typeof I&&I(),x?x.__c:null},hydrate:function zt(x,w,I){return Object(b.h)(x,w),"function"==typeof I&&I(),x?x.__c:null},unmountComponentAtNode:function ot(x){return!!x.__k&&(Object(b.j)(null,x),!0)},createPortal:function xt(x,w){return Object(b.e)(pt,{__v:x,i:w})},createElement:b.e,createContext:b.d,createFactory:function Ut(x){return b.e.bind(null,x)},cloneElement:function Ve(x){return tr(x)?b.c.apply(null,arguments):x},createRef:b.f,Fragment:b.b,isValidElement:tr,findDOMNode:function Qe(x){return x&&(x.base||1===x.nodeType&&x)||null},Component:b.a,PureComponent:Ue,memo:tt,forwardRef:Ot,flushSync:function(x,w){return x(w)},unstable_batchedUpdates:dt,StrictMode:b.b,Suspense:ie,SuspenseList:we,lazy:function Ye(x){var w,I,K;function je(Ne){if(w||(w=x()).then(function(Ze){I=Ze.default||Ze},function(Ze){K=Ze}),K)throw K;if(!I)throw w;return Object(b.e)(I,Ne)}return je.displayName="Lazy",je.__f=!0,je},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(x){return Xt.__n[x.__c].props.value}}}}}},function(D,N,a){var b=a(7),y=a(147),P=a(148),T=a(179),C=a(57),L=function(X){if(X&&X.forEach!==T)try{C(X,"forEach",T)}catch{X.forEach=T}};for(var B in y)y[B]&&L(b[B]&&b[B].prototype);L(P)},function(D,N,a){a(16)({target:"Object",stat:!0},{setPrototypeOf:a(97)})},function(D,N,a){var b=a(16),y=a(18),P=a(38),T=a(96),C=a(137);b({target:"Object",stat:!0,forced:y(function(){T(1)}),sham:!C},{getPrototypeOf:function(X){return T(P(X))}})},function(D,N,a){var b=a(16),y=a(46),P=a(76),T=a(199),C=a(157),L=a(32),B=a(33),X=a(54),U=a(18),Q=y("Reflect","construct"),W=Object.prototype,J=[].push,ne=U(function(){function Me(){}return!(Q(function(){},[],Me)instanceof Me)}),ae=!U(function(){Q(function(){})}),re=ne||ae;b({target:"Reflect",stat:!0,forced:re,sham:re},{construct:function(ge,be){C(ge),L(be);var de=arguments.length<3?ge:C(arguments[2]);if(ae&&!ne)return Q(ge,be,de);if(ge==de){switch(be.length){case 0:return new ge;case 1:return new ge(be[0]);case 2:return new ge(be[0],be[1]);case 3:return new ge(be[0],be[1],be[2]);case 4:return new ge(be[0],be[1],be[2],be[3])}var Te=[null];return P(J,Te,be),new(P(T,ge,Te))}var le=de.prototype,Pe=X(B(le)?le:W),oe=P(ge,Pe,be);return B(oe)?oe:Pe}})},function(D,N){var a=Function.prototype,b=a.bind,y=a.call,P=b&&b.bind(y);D.exports=b?function(T){return T&&P(y,T)}:function(T){return T&&function(){return y.apply(T,arguments)}}},function(D,N,a){var b=a(7),y=a(51).f,P=a(57),T=a(44),C=a(108),L=a(134),B=a(95);D.exports=function(X,U){var ae,re,Me,ge,be,Q=X.target,W=X.global,J=X.stat;if(ae=W?b:J?b[Q]||C(Q,{}):(b[Q]||{}).prototype)for(re in U){if(ge=U[re],Me=X.noTargetGet?(be=y(ae,re))&&be.value:ae[re],!B(W?re:Q+(J?".":"#")+re,X.forced)&&void 0!==Me){if(typeof ge==typeof Me)continue;L(ge,Me)}(X.sham||Me&&Me.sham)&&P(ge,"sham",!0),T(ae,re,ge,X)}}},function(D,N,a){"use strict";var b=a(16),y=a(7),P=a(99),T=a(100),C=a(33),L=a(67),B=a(43),X=a(39),U=a(61),Q=a(27),W=a(75),J=a(101),ne=W("slice"),ae=Q("species"),re=y.Array,Me=Math.max;b({target:"Array",proto:!0,forced:!ne},{slice:function(be,de){var H,te,fe,Te=X(this),le=B(Te),Pe=L(be,le),oe=L(void 0===de?le:de,le);if(P(Te)&&((T(H=Te.constructor)&&(H===re||P(H.prototype))||C(H)&&null===(H=H[ae]))&&(H=void 0),H===re||void 0===H))return J(Te,Pe,oe);for(te=new(void 0===H?re:H)(Me(oe-Pe,0)),fe=0;Pe<oe;Pe++,fe++)Pe in Te&&U(te,fe,Te[Pe]);return te.length=fe,te}})},function(D,N){D.exports=function(a){try{return!!a()}catch{return!0}}},function(D,N,a){"use strict";var b=a(16),y=a(102);b({target:"RegExp",proto:!0,forced:/./.exec!==y},{exec:y})},function(D,N,a){var b=a(16),y=a(38),P=a(66);b({target:"Object",stat:!0,forced:a(18)(function(){P(1)})},{keys:function(B){return P(y(B))}})},function(D,N,a){var b=a(16),y=a(18),P=a(39),T=a(51).f,C=a(36),L=y(function(){T(1)});b({target:"Object",stat:!0,forced:!C||L,sham:!C},{getOwnPropertyDescriptor:function(U,Q){return T(P(U),Q)}})},function(D,N,a){"use strict";var b=a(16),y=a(74).filter;b({target:"Array",proto:!0,forced:!a(75)("filter")},{filter:function(L){return y(this,L,arguments.length>1?arguments[1]:void 0)}})},function(D,N,a){var b=a(16),y=a(36),P=a(135),T=a(39),C=a(51),L=a(61);b({target:"Object",stat:!0,sham:!y},{getOwnPropertyDescriptors:function(X){for(var ae,re,U=T(X),Q=C.f,W=P(U),J={},ne=0;W.length>ne;)void 0!==(re=Q(U,ae=W[ne++]))&&L(J,ae,re);return J}})},function(D,N,a){var b=a(36),y=a(94).EXISTS,P=a(15),T=a(37).f,C=Function.prototype,L=P(C.toString),B=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,X=P(B.exec);b&&!y&&T(C,"name",{configurable:!0,get:function(){try{return X(B,L(this))[1]}catch{return""}}})},function(D,N,a){var b=a(16),y=a(182);b({target:"Array",stat:!0,forced:!a(118)(function(C){Array.from(C)})},{from:y})},,function(D,N,a){var b=a(7),y=a(84),P=a(34),T=a(85),C=a(109),L=a(128),B=y("wks"),X=b.Symbol,U=X&&X.for,Q=L?X:X&&X.withoutSetter||T;D.exports=function(W){if(!P(B,W)||!C&&"string"!=typeof B[W]){var J="Symbol."+W;B[W]=C&&P(X,W)?X[W]:L&&U?U(J):Q(J)}return B[W]}},function(D,N){D.exports=function(a){return"function"==typeof a}},function(D,N,a){"use strict";var b=a(16),y=a(7),P=a(18),T=a(99),C=a(33),L=a(38),B=a(43),X=a(61),U=a(119),Q=a(75),W=a(27),J=a(65),ne=W("isConcatSpreadable"),ae=9007199254740991,re="Maximum allowed index exceeded",Me=y.TypeError,ge=J>=51||!P(function(){var le=[];return le[ne]=!1,le.concat()[0]!==le}),be=Q("concat"),de=function(le){if(!C(le))return!1;var Pe=le[ne];return void 0!==Pe?!!Pe:T(le)};b({target:"Array",proto:!0,forced:!ge||!be},{concat:function(Pe){var fe,ve,ke,Se,ze,oe=L(this),H=U(oe,0),te=0;for(fe=-1,ke=arguments.length;fe<ke;fe++)if(de(ze=-1===fe?oe:arguments[fe])){if(te+(Se=B(ze))>ae)throw Me(re);for(ve=0;ve<Se;ve++,te++)ve in ze&&X(H,te,ze[ve])}else{if(te>=ae)throw Me(re);X(H,te++,ze)}return H.length=te,H}})},function(D,N,a){var b=a(16),y=a(198);b({target:"Object",stat:!0,forced:Object.assign!==y},{assign:y})},function(D,N,a){"use strict";var b=a(105),y="object"==typeof self&&self&&self.Object===Object&&self,P=b.a||y||Function("return this")();N.a=P},function(D,N,a){var b=a(7),y=a(33),P=b.String,T=b.TypeError;D.exports=function(C){if(y(C))return C;throw T(P(C)+" is not an object")}},function(D,N,a){var b=a(28);D.exports=function(y){return"object"==typeof y?null!==y:b(y)}},function(D,N,a){var b=a(15),y=a(38),P=b({}.hasOwnProperty);D.exports=Object.hasOwn||function(C,L){return P(y(C),L)}},function(D,N){var a=Function.prototype.call;D.exports=a.bind?a.bind(a):function(){return a.apply(a,arguments)}},function(D,N,a){var b=a(18);D.exports=!b(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(D,N,a){var b=a(7),y=a(36),P=a(129),T=a(32),C=a(87),L=b.TypeError,B=Object.defineProperty;N.f=y?B:function(U,Q,W){if(T(U),Q=C(Q),T(W),P)try{return B(U,Q,W)}catch{}if("get"in W||"set"in W)throw L("Accessors not supported");return"value"in W&&(U[Q]=W.value),U}},function(D,N,a){var b=a(7),y=a(45),P=b.Object;D.exports=function(T){return P(y(T))}},function(D,N,a){var b=a(81),y=a(45);D.exports=function(P){return b(y(P))}},function(D,N,a){var b=a(7),y=a(98),P=b.String;D.exports=function(T){if("Symbol"===y(T))throw TypeError("Cannot convert a Symbol value to a string");return P(T)}},function(D,N,a){"use strict";var b=a(16),y=a(74).map;b({target:"Array",proto:!0,forced:!a(75)("map")},{map:function(L){return y(this,L,arguments.length>1?arguments[1]:void 0)}})},function(D,N,a){"use strict";(function(b){a.d(N,"d",function(){return L}),a.d(N,"c",function(){return B}),a.d(N,"b",function(){return X}),a.d(N,"a",function(){return Q});var y=a(10);function L(){var J=function(W,J){var ne="function"==typeof Symbol&&W[Symbol.iterator];if(!ne)return W;var re,ge,ae=ne.call(W),Me=[];try{for(;(void 0===J||J-- >0)&&!(re=ae.next()).done;)Me.push(re.value)}catch(be){ge={error:be}}finally{try{re&&!re.done&&(ne=ae.return)&&ne.call(ae)}finally{if(ge)throw ge.error}}return Me}(Object(y.j)(0),2)[1];return Object(y.h)(function(){J(function(ae){return ae+1})},[])}function B(W){if(!W||"object"!=typeof W)return!1;var J=Object.getPrototypeOf(W);return!J||J===Object.prototype}function X(W){return"function"==typeof Symbol?Symbol.for(W):"__$mobx-react "+W+"__"}var U={};function Q(){return typeof window<"u"?window:typeof b<"u"?b:typeof self<"u"?self:U}}).call(this,a(82))},function(D,N,a){var b=a(90);D.exports=function(y){return b(y.length)}},function(D,N,a){var b=a(7),y=a(28),P=a(34),T=a(57),C=a(108),L=a(92),B=a(56),X=a(94).CONFIGURABLE,U=B.get,Q=B.enforce,W=String(String).split("String");(D.exports=function(J,ne,ae,re){var Te,Me=!!re&&!!re.unsafe,ge=!!re&&!!re.enumerable,be=!!re&&!!re.noTargetGet,de=re&&void 0!==re.name?re.name:ne;y(ae)&&("Symbol("===String(de).slice(0,7)&&(de="["+String(de).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!P(ae,"name")||X&&ae.name!==de)&&T(ae,"name",de),(Te=Q(ae)).source||(Te.source=W.join("string"==typeof de?de:""))),J!==b?(Me?!be&&J[ne]&&(ge=!0):delete J[ne],ge?J[ne]=ae:T(J,ne,ae)):ge?J[ne]=ae:C(ne,ae)})(Function.prototype,"toString",function(){return y(this)&&U(this).source||L(this)})},function(D,N,a){var y=a(7).TypeError;D.exports=function(P){if(null==P)throw y("Can't call method on "+P);return P}},function(D,N,a){var b=a(7),y=a(28),P=function(T){return y(T)?T:void 0};D.exports=function(T,C){return arguments.length<2?P(b[T]):b[T]&&b[T][C]}},function(D,N,a){var b=a(16),y=a(35),P=a(33),T=a(32),C=a(200),L=a(51),B=a(96);b({target:"Reflect",stat:!0},{get:function X(U,Q){var J,ne,W=arguments.length<3?U:arguments[2];return T(U)===W?U[Q]:(J=L.f(U,Q))?C(J)?J.value:void 0===J.get?void 0:y(J.get,W):P(ne=B(U))?X(ne,Q,W):void 0}})},function(D,N,a){"use strict";(function(b){var y=a(31),P=a(165),T=Rr&&!Rr.nodeType&&Rr,C=T&&"object"==typeof b&&b&&!b.nodeType&&b,B=C&&C.exports===T?y.a.Buffer:void 0;N.a=(B?B.isBuffer:void 0)||P.a}).call(this,a(121)(D))},function(D,N,a){"use strict";(function(b){var y=a(105),P=Rr&&!Rr.nodeType&&Rr,T=P&&"object"==typeof b&&b&&!b.nodeType&&b,L=T&&T.exports===P&&y.a.process,B=function(){try{return T&&T.require&&T.require("util").types||L&&L.binding&&L.binding("util")}catch{}}();N.a=B}).call(this,a(121)(D))},function(D,N,a){var b=a(15),y=b({}.toString),P=b("".slice);D.exports=function(T){return P(y(T),8,-1)}},function(D,N,a){var b=a(36),y=a(35),P=a(93),T=a(71),C=a(39),L=a(87),B=a(34),X=a(129),U=Object.getOwnPropertyDescriptor;N.f=b?U:function(W,J){if(W=C(W),J=L(J),X)try{return U(W,J)}catch{}if(B(W,J))return T(!y(P.f,W,J),W[J])}},function(D,N,a){var b=a(16),y=a(213).entries;b({target:"Object",stat:!0},{entries:function(T){return y(T)}})},function(D,N,a){var b=a(46);D.exports=b("navigator","userAgent")||""},function(D,N,a){var ge,b=a(32),y=a(168),P=a(110),T=a(69),C=a(133),L=a(86),B=a(91),Q="prototype",W="script",J=B("IE_PROTO"),ne=function(){},ae=function(de){return"<"+W+">"+de+"</"+W+">"},re=function(de){de.write(ae("")),de.close();var Te=de.parentWindow.Object;return de=null,Te},be=function(){try{ge=new ActiveXObject("htmlfile")}catch{}be=typeof document<"u"?document.domain&&ge?re(ge):function(){var le,de=L("iframe");return de.style.display="none",C.appendChild(de),de.src=String("javascript:"),(le=de.contentWindow.document).open(),le.write(ae("document.F=Object")),le.close(),le.F}():re(ge);for(var de=P.length;de--;)delete be[Q][P[de]];return be()};T[J]=!0,D.exports=Object.create||function(Te,le){var Pe;return null!==Te?(ne[Q]=b(Te),Pe=new ne,ne[Q]=null,Pe[J]=Te):Pe=be(),void 0===le?Pe:y(Pe,le)}},function(D,N,a){var b=a(7),y=a(28),P=a(89),T=b.TypeError;D.exports=function(C){if(y(C))return C;throw T(P(C)+" is not a function")}},function(D,N,a){var ne,ae,re,b=a(170),y=a(7),P=a(15),T=a(33),C=a(57),L=a(34),B=a(107),X=a(91),U=a(69),Q="Object already initialized",W=y.TypeError;if(b||B.state){var be=B.state||(B.state=new(0,y.WeakMap)),de=P(be.get),Te=P(be.has),le=P(be.set);ne=function(oe,H){if(Te(be,oe))throw new W(Q);return H.facade=oe,le(be,oe,H),H},ae=function(oe){return de(be,oe)||{}},re=function(oe){return Te(be,oe)}}else{var Pe=X("state");U[Pe]=!0,ne=function(oe,H){if(L(oe,Pe))throw new W(Q);return H.facade=oe,C(oe,Pe,H),H},ae=function(oe){return L(oe,Pe)?oe[Pe]:{}},re=function(oe){return L(oe,Pe)}}D.exports={set:ne,get:ae,has:re,enforce:function(oe){return re(oe)?ae(oe):ne(oe,{})},getterFor:function(oe){return function(H){var te;if(!T(H)||(te=ae(H)).type!==oe)throw W("Incompatible receiver, "+oe+" required");return te}}}},function(D,N,a){var b=a(36),y=a(37),P=a(71);D.exports=b?function(T,C,L){return y.f(T,C,P(1,L))}:function(T,C,L){return T[C]=L,T}},function(D,N,a){var b=a(15);D.exports=b({}.isPrototypeOf)},function(D,N,a){var b=a(55);D.exports=function(y,P){var T=y[P];return null==T?void 0:b(T)}},function(D,N,a){"use strict";a(173)("Map",function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},a(177))},function(D,N,a){"use strict";var b=a(87),y=a(37),P=a(71);D.exports=function(T,C,L){var B=b(C);B in T?y.f(T,B,P(0,L)):T[B]=L}},function(D,N,a){var b=a(15),y=a(55),P=b(b.bind);D.exports=function(T,C){return y(T),void 0===C?T:P?P(T,C):function(){return T.apply(C,arguments)}}},function(D,N,a){var b=a(16),y=a(214),P=a(83);b({target:"Array",proto:!0},{fill:y}),P("fill")},function(D,N){D.exports=!1},function(D,N,a){var B,X,b=a(7),y=a(53),P=b.process,T=b.Deno,C=P&&P.versions||T&&T.version,L=C&&C.v8;L&&(X=(B=L.split("."))[0]>0&&B[0]<4?1:+(B[0]+B[1])),!X&&y&&(!(B=y.match(/Edge\/(\d+)/))||B[1]>=74)&&(B=y.match(/Chrome\/(\d+)/))&&(X=+B[1]),D.exports=X},function(D,N,a){var b=a(131),y=a(110);D.exports=Object.keys||function(T){return b(T,y)}},function(D,N,a){var b=a(68),y=Math.max,P=Math.min;D.exports=function(T,C){var L=b(T);return L<0?y(L+C,0):P(L,C)}},function(D,N){var a=Math.ceil,b=Math.floor;D.exports=function(y){var P=+y;return P!=P||0===P?0:(P>0?b:a)(P)}},function(D,N){D.exports={}},function(D,N){D.exports={}},function(D,N){D.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},function(D,N,a){var b=a(131),P=a(110).concat("length","prototype");N.f=Object.getOwnPropertyNames||function(C){return b(C,P)}},function(D,N,a){var b=a(37).f,y=a(34),T=a(27)("toStringTag");D.exports=function(C,L,B){C&&!y(C=B?C:C.prototype,T)&&b(C,T,{configurable:!0,value:L})}},function(D,N,a){var b=a(62),y=a(15),P=a(81),T=a(38),C=a(43),L=a(119),B=y([].push),X=function(U){var Q=1==U,W=2==U,J=3==U,ne=4==U,ae=6==U,re=7==U,Me=5==U||ae;return function(ge,be,de,Te){for(var ke,Se,le=T(ge),Pe=P(le),oe=b(be,de),H=C(Pe),te=0,fe=Te||L,ve=Q?fe(ge,H):W||re?fe(ge,0):void 0;H>te;te++)if((Me||te in Pe)&&(Se=oe(ke=Pe[te],te,le),U))if(Q)ve[te]=Se;else if(Se)switch(U){case 3:return!0;case 5:return ke;case 6:return te;case 2:B(ve,ke)}else switch(U){case 4:return!1;case 7:B(ve,ke)}return ae?-1:J||ne?ne:ve}};D.exports={forEach:X(0),map:X(1),filter:X(2),some:X(3),every:X(4),find:X(5),findIndex:X(6),filterReject:X(7)}},function(D,N,a){var b=a(18),y=a(27),P=a(65),T=y("species");D.exports=function(C){return P>=51||!b(function(){var L=[];return(L.constructor={})[T]=function(){return{foo:1}},1!==L[C](Boolean).foo})}},function(D,N){var a=Function.prototype,b=a.apply,P=a.call;D.exports="object"==typeof Reflect&&Reflect.apply||(a.bind?P.bind(b):function(){return P.apply(b,arguments)})},function(D,N,a){"use strict";var b=a(16),y=a(15),P=a(81),T=a(39),C=a(120),L=y([].join),B=P!=Object,X=C("join",",");b({target:"Array",proto:!0,forced:B||!X},{join:function(Q){return L(T(this),void 0===Q?",":Q)}})},function(D,N,a){"use strict";var b=a(76),y=a(35),P=a(15),T=a(122),C=a(154),L=a(32),B=a(45),X=a(156),U=a(123),Q=a(90),W=a(40),J=a(59),ne=a(113),ae=a(124),re=a(102),Me=a(151),ge=a(18),be=Me.UNSUPPORTED_Y,de=4294967295,Te=Math.min,le=[].push,Pe=P(/./.exec),oe=P(le),H=P("".slice),te=!ge(function(){var fe=/(?:)/,ve=fe.exec;fe.exec=function(){return ve.apply(this,arguments)};var ke="ab".split(fe);return 2!==ke.length||"a"!==ke[0]||"b"!==ke[1]});T("split",function(fe,ve,ke){var Se;return Se="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(ze,We){var He=W(B(this)),Ue=void 0===We?de:We>>>0;if(0===Ue)return[];if(void 0===ze)return[He];if(!C(ze))return y(ve,He,ze,Ue);for(var Fe,st,it,tt=[],wt=0,Ot=new RegExp(ze.source,(ze.ignoreCase?"i":"")+(ze.multiline?"m":"")+(ze.unicode?"u":"")+(ze.sticky?"y":"")+"g");(Fe=y(re,Ot,He))&&!((st=Ot.lastIndex)>wt&&(oe(tt,H(He,wt,Fe.index)),Fe.length>1&&Fe.index<He.length&&b(le,tt,ne(Fe,1)),it=Fe[0].length,wt=st,tt.length>=Ue));)Ot.lastIndex===Fe.index&&Ot.lastIndex++;return wt===He.length?(it||!Pe(Ot,""))&&oe(tt,""):oe(tt,H(He,wt)),tt.length>Ue?ne(tt,0,Ue):tt}:"0".split(void 0,0).length?function(ze,We){return void 0===ze&&0===We?[]:y(ve,this,ze,We)}:ve,[function(We,He){var Ue=B(this),tt=null==We?void 0:J(We,fe);return tt?y(tt,We,Ue,He):y(Se,W(Ue),We,He)},function(ze,We){var He=L(this),Ue=W(ze),tt=ke(Se,He,Ue,We,Se!==ve);if(tt.done)return tt.value;var ft=X(He,RegExp),wt=He.unicode,Fe=new ft(be?"^(?:"+He.source+")":He,(He.ignoreCase?"i":"")+(He.multiline?"m":"")+(He.unicode?"u":"")+(be?"g":"y")),st=void 0===We?de:We>>>0;if(0===st)return[];if(0===Ue.length)return null===ae(Fe,Ue)?[Ue]:[];for(var it=0,Ke=0,_=[];Ke<Ue.length;){Fe.lastIndex=be?0:Ke;var ie,ee=ae(Fe,be?H(Ue,Ke):Ue);if(null===ee||(ie=Te(Q(Fe.lastIndex+(be?Ke:0)),Ue.length))===it)Ke=U(Ue,Ke,wt);else{if(oe(_,H(Ue,it,Ke)),_.length===st)return _;for(var Ae=1;Ae<=ee.length-1;Ae++)if(oe(_,ee[Ae]),_.length===st)return _;Ke=it=ie}}return oe(_,H(Ue,it)),_}]},!te,be)},function(D,N,a){"use strict";var b=a(36),y=a(7),P=a(15),T=a(95),C=a(44),L=a(34),B=a(143),X=a(58),U=a(88),Q=a(130),W=a(18),J=a(72).f,ne=a(51).f,ae=a(37).f,re=a(196),Me=a(159).trim,ge="Number",be=y[ge],de=be.prototype,Te=y.TypeError,le=P("".slice),Pe=P("".charCodeAt),oe=function(Se){var ze=Q(Se,"number");return"bigint"==typeof ze?ze:H(ze)},H=function(Se){var We,He,Ue,tt,ft,wt,Ot,Fe,ze=Q(Se,"number");if(U(ze))throw Te("Cannot convert a Symbol value to a number");if("string"==typeof ze&&ze.length>2)if(ze=Me(ze),43===(We=Pe(ze,0))||45===We){if(88===(He=Pe(ze,2))||120===He)return NaN}else if(48===We){switch(Pe(ze,1)){case 66:case 98:Ue=2,tt=49;break;case 79:case 111:Ue=8,tt=55;break;default:return+ze}for(wt=(ft=le(ze,2)).length,Ot=0;Ot<wt;Ot++)if((Fe=Pe(ft,Ot))<48||Fe>tt)return NaN;return parseInt(ft,Ue)}return+ze};if(T(ge,!be(" 0o1")||!be("0b1")||be("+0x1"))){for(var ke,te=function(ze){var We=arguments.length<1?0:be(oe(ze)),He=this;return X(de,He)&&W(function(){re(He)})?B(Object(We),He,te):We},fe=b?J(be):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ve=0;fe.length>ve;ve++)L(be,ke=fe[ve])&&!L(te,ke)&&ae(te,ke,ne(be,ke));te.prototype=de,de.constructor=te,C(y,ge,te)}},function(D,N,a){a(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(D,N,a){var b=a(7),y=a(15),P=a(18),T=a(50),C=b.Object,L=y("".split);D.exports=P(function(){return!C("z").propertyIsEnumerable(0)})?function(B){return"String"==T(B)?L(B,""):C(B)}:C},function(D,N){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{"object"==typeof window&&(a=window)}D.exports=a},function(D,N,a){var b=a(27),y=a(54),P=a(37),T=b("unscopables"),C=Array.prototype;null==C[T]&&P.f(C,T,{configurable:!0,value:y(null)}),D.exports=function(L){C[T][L]=!0}},function(D,N,a){var b=a(64),y=a(107);(D.exports=function(P,T){return y[P]||(y[P]=void 0!==T?T:{})})("versions",[]).push({version:"3.19.3",mode:b?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},function(D,N,a){var b=a(15),y=0,P=Math.random(),T=b(1..toString);D.exports=function(C){return"Symbol("+(void 0===C?"":C)+")_"+T(++y+P,36)}},function(D,N,a){var b=a(7),y=a(33),P=b.document,T=y(P)&&y(P.createElement);D.exports=function(C){return T?P.createElement(C):{}}},function(D,N,a){var b=a(130),y=a(88);D.exports=function(P){var T=b(P,"string");return y(T)?T:T+""}},function(D,N,a){var b=a(7),y=a(46),P=a(28),T=a(58),C=a(128),L=b.Object;D.exports=C?function(B){return"symbol"==typeof B}:function(B){var X=y("Symbol");return P(X)&&T(X.prototype,L(B))}},function(D,N,a){var y=a(7).String;D.exports=function(P){try{return y(P)}catch{return"Object"}}},function(D,N,a){var b=a(68),y=Math.min;D.exports=function(P){return P>0?y(b(P),9007199254740991):0}},function(D,N,a){var b=a(84),y=a(85),P=b("keys");D.exports=function(T){return P[T]||(P[T]=y(T))}},function(D,N,a){var b=a(15),y=a(28),P=a(107),T=b(Function.toString);y(P.inspectSource)||(P.inspectSource=function(C){return T(C)}),D.exports=P.inspectSource},function(D,N,a){"use strict";var b={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,P=y&&!b.call({1:2},1);N.f=P?function(C){var L=y(this,C);return!!L&&L.enumerable}:b},function(D,N,a){var b=a(36),y=a(34),P=Function.prototype,T=b&&Object.getOwnPropertyDescriptor,C=y(P,"name"),L=C&&"something"===function(){}.name,B=C&&(!b||b&&T(P,"name").configurable);D.exports={EXISTS:C,PROPER:L,CONFIGURABLE:B}},function(D,N,a){var b=a(18),y=a(28),P=/#|\.prototype\./,T=function(U,Q){var W=L[C(U)];return W==X||W!=B&&(y(Q)?b(Q):!!Q)},C=T.normalize=function(U){return String(U).replace(P,".").toLowerCase()},L=T.data={},B=T.NATIVE="N",X=T.POLYFILL="P";D.exports=T},function(D,N,a){var b=a(7),y=a(34),P=a(28),T=a(38),C=a(91),L=a(137),B=C("IE_PROTO"),X=b.Object,U=X.prototype;D.exports=L?X.getPrototypeOf:function(Q){var W=T(Q);if(y(W,B))return W[B];var J=W.constructor;return P(J)&&W instanceof J?J.prototype:W instanceof X?U:null}},function(D,N,a){var b=a(15),y=a(32),P=a(172);D.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var L,T=!1,C={};try{(L=b(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(C,[]),T=C instanceof Array}catch{}return function(X,U){return y(X),P(U),T?L(X,U):X.__proto__=U,X}}():void 0)},function(D,N,a){var b=a(7),y=a(116),P=a(28),T=a(50),L=a(27)("toStringTag"),B=b.Object,X="Arguments"==T(function(){return arguments}());D.exports=y?T:function(Q){var W,J,ne;return void 0===Q?"Undefined":null===Q?"Null":"string"==typeof(J=function(Q,W){try{return Q[W]}catch{}}(W=B(Q),L))?J:X?T(W):"Object"==(ne=T(W))&&P(W.callee)?"Arguments":ne}},function(D,N,a){var b=a(50);D.exports=Array.isArray||function(P){return"Array"==b(P)}},function(D,N,a){var b=a(15),y=a(18),P=a(28),T=a(98),C=a(46),L=a(92),B=function(){},X=[],U=C("Reflect","construct"),Q=/^\s*(?:class|function)\b/,W=b(Q.exec),J=!Q.exec(B),ne=function(re){if(!P(re))return!1;try{return U(B,X,re),!0}catch{return!1}};D.exports=!U||y(function(){var re;return ne(ne.call)||!ne(Object)||!ne(function(){re=!0})||re})?function(re){if(!P(re))return!1;switch(T(re)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return J||!!W(Q,L(re))}:ne},function(D,N,a){var b=a(15);D.exports=b([].slice)},function(D,N,a){"use strict";var Pe,oe,b=a(35),y=a(15),P=a(40),T=a(184),C=a(151),L=a(84),B=a(54),X=a(56).get,U=a(185),Q=a(186),W=L("native-string-replace",String.prototype.replace),J=RegExp.prototype.exec,ne=J,ae=y("".charAt),re=y("".indexOf),Me=y("".replace),ge=y("".slice),be=(oe=/b*/g,b(J,Pe=/a/,"a"),b(J,oe,"a"),0!==Pe.lastIndex||0!==oe.lastIndex),de=C.BROKEN_CARET,Te=void 0!==/()??/.exec("")[1];(be||Te||de||U||Q)&&(ne=function(oe){var ke,Se,ze,We,He,Ue,tt,H=this,te=X(H),fe=P(oe),ve=te.raw;if(ve)return ve.lastIndex=H.lastIndex,ke=b(ne,ve,fe),H.lastIndex=ve.lastIndex,ke;var ft=te.groups,wt=de&&H.sticky,Ot=b(T,H),Fe=H.source,st=0,it=fe;if(wt&&(Ot=Me(Ot,"y",""),-1===re(Ot,"g")&&(Ot+="g"),it=ge(fe,H.lastIndex),H.lastIndex>0&&(!H.multiline||H.multiline&&"\n"!==ae(fe,H.lastIndex-1))&&(Fe="(?: "+Fe+")",it=" "+it,st++),Se=new RegExp("^(?:"+Fe+")",Ot)),Te&&(Se=new RegExp("^"+Fe+"$(?!\\s)",Ot)),be&&(ze=H.lastIndex),We=b(J,wt?Se:H,it),wt?We?(We.input=ge(We.input,st),We[0]=ge(We[0],st),We.index=H.lastIndex,H.lastIndex+=We[0].length):H.lastIndex=0:be&&We&&(H.lastIndex=H.global?We.index+We[0].length:ze),Te&&We&&We.length>1&&b(W,We[0],Se,function(){for(He=1;He<arguments.length-2;He++)void 0===arguments[He]&&(We[He]=void 0)}),We&&ft)for(We.groups=Ue=B(null),He=0;He<ft.length;He++)Ue[(tt=ft[He])[0]]=We[tt[1]];return We}),D.exports=ne},function(D,N,a){"use strict";var b=a(16),y=a(7),P=a(67),T=a(68),C=a(43),L=a(38),B=a(119),X=a(61),Q=a(75)("splice"),W=y.TypeError,J=Math.max,ne=Math.min,ae=9007199254740991,re="Maximum allowed length exceeded";b({target:"Array",proto:!0,forced:!Q},{splice:function(ge,be){var oe,H,te,fe,ve,ke,de=L(this),Te=C(de),le=P(ge,Te),Pe=arguments.length;if(0===Pe?oe=H=0:1===Pe?(oe=0,H=Te-le):(oe=Pe-2,H=ne(J(T(be),0),Te-le)),Te+oe-H>ae)throw W(re);for(te=B(de,H),fe=0;fe<H;fe++)(ve=le+fe)in de&&X(te,fe,de[ve]);if(te.length=H,oe<H){for(fe=le;fe<Te-H;fe++)ke=fe+oe,(ve=fe+H)in de?de[ke]=de[ve]:delete de[ke];for(fe=Te;fe>Te-H+oe;fe--)delete de[fe-1]}else if(oe>H)for(fe=Te-H;fe>le;fe--)ke=fe+oe-1,(ve=fe+H-1)in de?de[ke]=de[ve]:delete de[ke];for(fe=0;fe<oe;fe++)de[fe+le]=arguments[fe+2];return de.length=Te-H+oe,te}})},function(D,N,a){"use strict";var b=a(16),y=a(201);b({target:"String",proto:!0,forced:a(202)("anchor")},{anchor:function(C){return y(this,"a","name",C)}})},function(D,N,a){"use strict";(function(b){N.a="object"==typeof b&&b&&b.Object===Object&&b}).call(this,a(82))},function(D,N,a){"use strict";(function(b){var y=a(31),P=Rr&&!Rr.nodeType&&Rr,T=P&&"object"==typeof b&&b&&!b.nodeType&&b,L=T&&T.exports===P?y.a.Buffer:void 0,B=L?L.allocUnsafe:void 0;N.a=function X(U,Q){if(Q)return U.slice();var W=U.length,J=B?B(W):new U.constructor(W);return U.copy(J),J}}).call(this,a(121)(D))},function(D,N,a){var b=a(7),y=a(108),P="__core-js_shared__",T=b[P]||y(P,{});D.exports=T},function(D,N,a){var b=a(7),y=Object.defineProperty;D.exports=function(P,T){try{y(b,P,{value:T,configurable:!0,writable:!0})}catch{b[P]=T}return T}},function(D,N,a){var b=a(65),y=a(18);D.exports=!!Object.getOwnPropertySymbols&&!y(function(){var P=Symbol();return!String(P)||!(Object(P)instanceof Symbol)||!Symbol.sham&&b&&b<41})},function(D,N){D.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(D,N,a){"use strict";var b=a(16),y=a(35),P=a(64),T=a(94),C=a(28),L=a(171),B=a(96),X=a(97),U=a(73),Q=a(57),W=a(44),J=a(27),ne=a(70),ae=a(136),re=T.PROPER,Me=T.CONFIGURABLE,ge=ae.IteratorPrototype,be=ae.BUGGY_SAFARI_ITERATORS,de=J("iterator"),le="values",Pe="entries",oe=function(){return this};D.exports=function(H,te,fe,ve,ke,Se,ze){L(fe,te,ve);var Fe,st,it,We=function(Ke){if(Ke===ke&&wt)return wt;if(!be&&Ke in tt)return tt[Ke];switch(Ke){case"keys":case le:case Pe:return function(){return new fe(this,Ke)}}return function(){return new fe(this)}},He=te+" Iterator",Ue=!1,tt=H.prototype,ft=tt[de]||tt["@@iterator"]||ke&&tt[ke],wt=!be&&ft||We(ke),Ot="Array"==te&&tt.entries||ft;if(Ot&&(Fe=B(Ot.call(new H)))!==Object.prototype&&Fe.next&&(!P&&B(Fe)!==ge&&(X?X(Fe,ge):C(Fe[de])||W(Fe,de,oe)),U(Fe,He,!0,!0),P&&(ne[He]=oe)),re&&ke==le&&ft&&ft.name!==le&&(!P&&Me?Q(tt,"name",le):(Ue=!0,wt=function(){return y(ft,this)})),ke)if(st={values:We(le),keys:Se?wt:We("keys"),entries:We(Pe)},ze)for(it in st)(be||Ue||!(it in tt))&&W(tt,it,st[it]);else b({target:te,proto:!0,forced:be||Ue},st);return(!P||ze)&&tt[de]!==wt&&W(tt,de,wt,{name:ke}),ne[te]=wt,st}},function(D,N){N.f=Object.getOwnPropertySymbols},function(D,N,a){var b=a(7),y=a(67),P=a(43),T=a(61),C=b.Array,L=Math.max;D.exports=function(B,X,U){for(var Q=P(B),W=y(X,Q),J=y(void 0===U?Q:U,Q),ne=C(L(J-W,0)),ae=0;W<J;W++,ae++)T(ne,ae,B[W]);return ne.length=ae,ne}},function(D,N,a){var b=a(7),y=a(62),P=a(35),T=a(32),C=a(89),L=a(140),B=a(43),X=a(58),U=a(141),Q=a(115),W=a(142),J=b.TypeError,ne=function(re,Me){this.stopped=re,this.result=Me},ae=ne.prototype;D.exports=function(re,Me,ge){var oe,H,te,fe,ve,ke,Se,de=!(!ge||!ge.AS_ENTRIES),Te=!(!ge||!ge.IS_ITERATOR),le=!(!ge||!ge.INTERRUPTED),Pe=y(Me,ge&&ge.that),ze=function(He){return oe&&W(oe,"normal",He),new ne(!0,He)},We=function(He){return de?(T(He),le?Pe(He[0],He[1],ze):Pe(He[0],He[1])):le?Pe(He,ze):Pe(He)};if(Te)oe=re;else{if(!(H=Q(re)))throw J(C(re)+" is not iterable");if(L(H)){for(te=0,fe=B(re);fe>te;te++)if((ve=We(re[te]))&&X(ae,ve))return ve;return new ne(!1)}oe=U(re,H)}for(ke=oe.next;!(Se=P(ke,oe)).done;){try{ve=We(Se.value)}catch(He){W(oe,"throw",He)}if("object"==typeof ve&&ve&&X(ae,ve))return ve}return new ne(!1)}},function(D,N,a){var b=a(98),y=a(59),P=a(70),C=a(27)("iterator");D.exports=function(L){if(null!=L)return y(L,C)||y(L,"@@iterator")||P[b(L)]}},function(D,N,a){var P={};P[a(27)("toStringTag")]="z",D.exports="[object z]"===String(P)},function(D,N,a){var b=a(7),y=a(58),P=b.TypeError;D.exports=function(T,C){if(y(C,T))return T;throw P("Incorrect invocation")}},function(D,N,a){var y=a(27)("iterator"),P=!1;try{var T=0,C={next:function(){return{done:!!T++}},return:function(){P=!0}};C[y]=function(){return this},Array.from(C,function(){throw 2})}catch{}D.exports=function(L,B){if(!B&&!P)return!1;var X=!1;try{var U={};U[y]=function(){return{next:function(){return{done:X=!0}}}},L(U)}catch{}return X}},function(D,N,a){var b=a(180);D.exports=function(y,P){return new(b(y))(0===P?0:P)}},function(D,N,a){"use strict";var b=a(18);D.exports=function(y,P){var T=[][y];return!!T&&b(function(){T.call(null,P||function(){throw 1},1)})}},function(D,N){D.exports=function(a){if(!a.webpackPolyfill){var b=Object.create(a);b.children||(b.children=[]),Object.defineProperty(b,"loaded",{enumerable:!0,get:function(){return b.l}}),Object.defineProperty(b,"id",{enumerable:!0,get:function(){return b.i}}),Object.defineProperty(b,"exports",{enumerable:!0}),b.webpackPolyfill=1}return b}},function(D,N,a){"use strict";a(19);var b=a(15),y=a(44),P=a(102),T=a(18),C=a(27),L=a(57),B=C("species"),X=RegExp.prototype;D.exports=function(U,Q,W,J){var ne=C(U),ae=!T(function(){var be={};return be[ne]=function(){return 7},7!=""[U](be)}),re=ae&&!T(function(){var be=!1,de=/a/;return"split"===U&&((de={}).constructor={},de.constructor[B]=function(){return de},de.flags="",de[ne]=/./[ne]),de.exec=function(){return be=!0,null},de[ne](""),!be});if(!ae||!re||W){var Me=b(/./[ne]),ge=Q(ne,""[U],function(be,de,Te,le,Pe){var oe=b(be),H=de.exec;return H===P||H===X.exec?ae&&!Pe?{done:!0,value:Me(de,Te,le)}:{done:!0,value:oe(Te,de,le)}:{done:!1}});y(String.prototype,U,ge[0]),y(X,ne,ge[1])}J&&L(X[ne],"sham",!0)}},function(D,N,a){"use strict";var b=a(146).charAt;D.exports=function(y,P,T){return P+(T?b(y,P).length:1)}},function(D,N,a){var b=a(7),y=a(35),P=a(32),T=a(28),C=a(50),L=a(102),B=b.TypeError;D.exports=function(X,U){var Q=X.exec;if(T(Q)){var W=y(Q,X,U);return null!==W&&P(W),W}if("RegExp"===C(X))return y(L,X,U);throw B("RegExp#exec called on incompatible receiver")}},function(D,N,a){"use strict";var b=a(76),y=a(35),P=a(15),T=a(122),C=a(18),L=a(32),B=a(28),X=a(68),U=a(90),Q=a(40),W=a(45),J=a(123),ne=a(59),ae=a(197),re=a(124),ge=a(27)("replace"),be=Math.max,de=Math.min,Te=P([].concat),le=P([].push),Pe=P("".indexOf),oe=P("".slice),H=function(ke){return void 0===ke?ke:String(ke)},te="$0"==="a".replace(/./,"$0"),fe=!!/./[ge]&&""===/./[ge]("a","$0");T("replace",function(ke,Se,ze){var We=fe?"$":"$0";return[function(Ue,tt){var ft=W(this),wt=null==Ue?void 0:ne(Ue,ge);return wt?y(wt,Ue,ft,tt):y(Se,Q(ft),Ue,tt)},function(He,Ue){var tt=L(this),ft=Q(He);if("string"==typeof Ue&&-1===Pe(Ue,We)&&-1===Pe(Ue,"$<")){var wt=ze(Se,tt,ft,Ue);if(wt.done)return wt.value}var Ot=B(Ue);Ot||(Ue=Q(Ue));var Fe=tt.global;if(Fe){var st=tt.unicode;tt.lastIndex=0}for(var it=[];;){var Ke=re(tt,ft);if(null===Ke||(le(it,Ke),!Fe))break;""===Q(Ke[0])&&(tt.lastIndex=J(ft,U(tt.lastIndex),st))}for(var ee="",ie=0,Ae=0;Ae<it.length;Ae++){for(var Ye=Q((Ke=it[Ae])[0]),we=be(de(X(Ke.index),ft.length),0),gt=[],ht=1;ht<Ke.length;ht++)le(gt,H(Ke[ht]));var pt=Ke.groups;if(Ot){var xt=Te([Ye],gt,we,ft);void 0!==pt&&le(xt,pt);var De=Q(b(Ue,void 0,xt))}else De=ae(Ye,ft,we,gt,pt,Ue);we>=ie&&(ee+=oe(ft,ie,we)+De,ie=we+Ye.length)}return ee+oe(ft,ie)}]},!!C(function(){var ke=/./;return ke.exec=function(){var Se=[];return Se.groups={a:"7"},Se},"7"!=="".replace(ke,"$<a>")})||!te||fe)},function(D,N,a){var b=a(50),y=a(7);D.exports="process"==b(y.process)},function(D,N,a){a(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(D,N,a){var b=a(109);D.exports=b&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(D,N,a){var b=a(36),y=a(18),P=a(86);D.exports=!b&&!y(function(){return 7!=Object.defineProperty(P("div"),"a",{get:function(){return 7}}).a})},function(D,N,a){var b=a(7),y=a(35),P=a(33),T=a(88),C=a(59),L=a(169),B=a(27),X=b.TypeError,U=B("toPrimitive");D.exports=function(Q,W){if(!P(Q)||T(Q))return Q;var ne,J=C(Q,U);if(J){if(void 0===W&&(W="default"),ne=y(J,Q,W),!P(ne)||T(ne))return ne;throw X("Can't convert object to primitive value")}return void 0===W&&(W="number"),L(Q,W)}},function(D,N,a){var b=a(15),y=a(34),P=a(39),T=a(132).indexOf,C=a(69),L=b([].push);D.exports=function(B,X){var J,U=P(B),Q=0,W=[];for(J in U)!y(C,J)&&y(U,J)&&L(W,J);for(;X.length>Q;)y(U,J=X[Q++])&&(~T(W,J)||L(W,J));return W}},function(D,N,a){var b=a(39),y=a(67),P=a(43),T=function(C){return function(L,B,X){var J,U=b(L),Q=P(U),W=y(X,Q);if(C&&B!=B){for(;Q>W;)if((J=U[W++])!=J)return!0}else for(;Q>W;W++)if((C||W in U)&&U[W]===B)return C||W||0;return!C&&-1}};D.exports={includes:T(!0),indexOf:T(!1)}},function(D,N,a){var b=a(46);D.exports=b("document","documentElement")},function(D,N,a){var b=a(34),y=a(135),P=a(51),T=a(37);D.exports=function(C,L){for(var B=y(L),X=T.f,U=P.f,Q=0;Q<B.length;Q++){var W=B[Q];b(C,W)||X(C,W,U(L,W))}}},function(D,N,a){var b=a(46),y=a(15),P=a(72),T=a(112),C=a(32),L=y([].concat);D.exports=b("Reflect","ownKeys")||function(X){var U=P.f(C(X)),Q=T.f;return Q?L(U,Q(X)):U}},function(D,N,a){"use strict";var Q,W,J,b=a(18),y=a(28),P=a(54),T=a(96),C=a(44),L=a(27),B=a(64),X=L("iterator"),U=!1;[].keys&&("next"in(J=[].keys())?(W=T(T(J)))!==Object.prototype&&(Q=W):U=!0),null==Q||b(function(){var ae={};return Q[X].call(ae)!==ae})?Q={}:B&&(Q=P(Q)),y(Q[X])||C(Q,X,function(){return this}),D.exports={IteratorPrototype:Q,BUGGY_SAFARI_ITERATORS:U}},function(D,N,a){var b=a(18);D.exports=!b(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})},function(D,N,a){var b=a(16),y=a(15),P=a(69),T=a(33),C=a(34),L=a(37).f,B=a(72),X=a(139),U=a(174),Q=a(85),W=a(176),J=!1,ne=Q("meta"),ae=0,re=function(le){L(le,ne,{value:{objectID:"O"+ae++,weakData:{}}})},Te=D.exports={enable:function(){Te.enable=function(){},J=!0;var le=B.f,Pe=y([].splice),oe={};oe[ne]=1,le(oe).length&&(B.f=function(H){for(var te=le(H),fe=0,ve=te.length;fe<ve;fe++)if(te[fe]===ne){Pe(te,fe,1);break}return te},b({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:X.f}))},fastKey:function(le,Pe){if(!T(le))return"symbol"==typeof le?le:("string"==typeof le?"S":"P")+le;if(!C(le,ne)){if(!U(le))return"F";if(!Pe)return"E";re(le)}return le[ne].objectID},getWeakData:function(le,Pe){if(!C(le,ne)){if(!U(le))return!0;if(!Pe)return!1;re(le)}return le[ne].weakData},onFreeze:function(le){return W&&J&&U(le)&&!C(le,ne)&&re(le),le}};P[ne]=!0},function(D,N,a){var b=a(50),y=a(39),P=a(72).f,T=a(113),C="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];D.exports.f=function(X){return C&&"Window"==b(X)?function(B){try{return P(B)}catch{return T(C)}}(X):P(y(X))}},function(D,N,a){var b=a(27),y=a(70),P=b("iterator"),T=Array.prototype;D.exports=function(C){return void 0!==C&&(y.Array===C||T[P]===C)}},function(D,N,a){var b=a(7),y=a(35),P=a(55),T=a(32),C=a(89),L=a(115),B=b.TypeError;D.exports=function(X,U){var Q=arguments.length<2?L(X):U;if(P(Q))return T(y(Q,X));throw B(C(X)+" is not iterable")}},function(D,N,a){var b=a(35),y=a(32),P=a(59);D.exports=function(T,C,L){var B,X;y(T);try{if(!(B=P(T,"return"))){if("throw"===C)throw L;return L}B=b(B,T)}catch(U){X=!0,B=U}if("throw"===C)throw L;if(X)throw B;return y(B),L}},function(D,N,a){var b=a(28),y=a(33),P=a(97);D.exports=function(T,C,L){var B,X;return P&&b(B=C.constructor)&&B!==L&&y(X=B.prototype)&&X!==L.prototype&&P(T,X),T}},function(D,N,a){var b=a(44);D.exports=function(y,P,T){for(var C in P)b(y,C,P[C],T);return y}},function(D,N,a){"use strict";var b=a(46),y=a(37),P=a(27),T=a(36),C=P("species");D.exports=function(L){var B=b(L);T&&B&&!B[C]&&(0,y.f)(B,C,{configurable:!0,get:function(){return this}})}},function(D,N,a){var b=a(15),y=a(68),P=a(40),T=a(45),C=b("".charAt),L=b("".charCodeAt),B=b("".slice),X=function(U){return function(Q,W){var re,Me,J=P(T(Q)),ne=y(W),ae=J.length;return ne<0||ne>=ae?U?"":void 0:(re=L(J,ne))<55296||re>56319||ne+1===ae||(Me=L(J,ne+1))<56320||Me>57343?U?C(J,ne):re:U?B(J,ne,ne+2):Me-56320+(re-55296<<10)+65536}};D.exports={codeAt:X(!1),charAt:X(!0)}},function(D,N){D.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(D,N,a){var y=a(86)("span").classList,P=y&&y.constructor&&y.constructor.prototype;D.exports=P===Object.prototype?void 0:P},function(D,N,a){var b=a(27);N.f=b},function(D,N,a){var b=a(181),y=a(34),P=a(149),T=a(37).f;D.exports=function(C){var L=b.Symbol||(b.Symbol={});y(L,C)||T(L,C,{value:P.f(C)})}},function(D,N,a){var b=a(18),P=a(7).RegExp,T=b(function(){var B=P("a","y");return B.lastIndex=2,null!=B.exec("abcd")}),C=T||b(function(){return!P("a","y").sticky}),L=T||b(function(){var B=P("^r","gy");return B.lastIndex=2,null!=B.exec("str")});D.exports={BROKEN_CARET:L,MISSED_STICKY:C,UNSUPPORTED_Y:T}},function(D,N,a){"use strict";var b=a(16),y=a(132).includes,P=a(83);b({target:"Array",proto:!0},{includes:function(C){return y(this,C,arguments.length>1?arguments[1]:void 0)}}),P("includes")},function(D,N,a){"use strict";var b=a(16),y=a(15),P=a(193),T=a(45),C=a(40),L=a(194),B=y("".indexOf);b({target:"String",proto:!0,forced:!L("includes")},{includes:function(U){return!!~B(C(T(this)),C(P(U)),arguments.length>1?arguments[1]:void 0)}})},function(D,N,a){var b=a(33),y=a(50),T=a(27)("match");D.exports=function(C){var L;return b(C)&&(void 0!==(L=C[T])?!!L:"RegExp"==y(C))}},function(D,N){var b,y,a=D.exports={};function P(){throw new Error("setTimeout has not been defined")}function T(){throw new Error("clearTimeout has not been defined")}function C(re){if(b===setTimeout)return setTimeout(re,0);if((b===P||!b)&&setTimeout)return b=setTimeout,setTimeout(re,0);try{return b(re,0)}catch{try{return b.call(null,re,0)}catch{return b.call(this,re,0)}}}!function(){try{b="function"==typeof setTimeout?setTimeout:P}catch{b=P}try{y="function"==typeof clearTimeout?clearTimeout:T}catch{y=T}}();var U,B=[],X=!1,Q=-1;function W(){!X||!U||(X=!1,U.length?B=U.concat(B):Q=-1,B.length&&J())}function J(){if(!X){var re=C(W);X=!0;for(var Me=B.length;Me;){for(U=B,B=[];++Q<Me;)U&&U[Q].run();Q=-1,Me=B.length}U=null,X=!1,function L(re){if(y===clearTimeout)return clearTimeout(re);if((y===T||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(re);try{return y(re)}catch{try{return y.call(null,re)}catch{return y.call(this,re)}}}(re)}}function ne(re,Me){this.fun=re,this.array=Me}function ae(){}a.nextTick=function(re){var Me=new Array(arguments.length-1);if(arguments.length>1)for(var ge=1;ge<arguments.length;ge++)Me[ge-1]=arguments[ge];B.push(new ne(re,Me)),1===B.length&&!X&&C(J)},ne.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=ae,a.addListener=ae,a.once=ae,a.off=ae,a.removeListener=ae,a.removeAllListeners=ae,a.emit=ae,a.prependListener=ae,a.prependOnceListener=ae,a.listeners=function(re){return[]},a.binding=function(re){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(re){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(D,N,a){var b=a(32),y=a(157),T=a(27)("species");D.exports=function(C,L){var X,B=b(C).constructor;return void 0===B||null==(X=b(B)[T])?L:y(X)}},function(D,N,a){var b=a(7),y=a(100),P=a(89),T=b.TypeError;D.exports=function(C){if(y(C))return C;throw T(P(C)+" is not a constructor")}},function(D,N,a){"use strict";var b=a(16),y=a(159).trim;b({target:"String",proto:!0,forced:a(195)("trim")},{trim:function(){return y(this)}})},function(D,N,a){var b=a(15),y=a(45),P=a(40),T=a(160),C=b("".replace),L="["+T+"]",B=RegExp("^"+L+L+"*"),X=RegExp(L+L+"*$"),U=function(Q){return function(W){var J=P(y(W));return 1&Q&&(J=C(J,B,"")),2&Q&&(J=C(J,X,"")),J}};D.exports={start:U(1),end:U(2),trim:U(3)}},function(D,N){D.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(D,N,a){"use strict";var b=a(35),y=a(122),P=a(32),T=a(90),C=a(40),L=a(45),B=a(59),X=a(123),U=a(124);y("match",function(Q,W,J){return[function(ae){var re=L(this),Me=null==ae?void 0:B(ae,Q);return Me?b(Me,ae,re):new RegExp(ae)[Q](C(re))},function(ne){var ae=P(this),re=C(ne),Me=J(W,ae,re);if(Me.done)return Me.value;if(!ae.global)return U(ae,re);var ge=ae.unicode;ae.lastIndex=0;for(var Te,be=[],de=0;null!==(Te=U(ae,re));){var le=C(Te[0]);be[de]=le,""===le&&(ae.lastIndex=X(re,T(ae.lastIndex),ge)),de++}return 0===de?null:be}]})},function(D,N,a){var Pe,oe,H,te,b=a(7),y=a(76),P=a(62),T=a(28),C=a(34),L=a(18),B=a(133),X=a(101),U=a(86),Q=a(163),W=a(126),J=b.setImmediate,ne=b.clearImmediate,ae=b.process,re=b.Dispatch,Me=b.Function,ge=b.MessageChannel,be=b.String,de=0,Te={},le="onreadystatechange";try{Pe=b.location}catch{}var fe=function(ze){if(C(Te,ze)){var We=Te[ze];delete Te[ze],We()}},ve=function(ze){return function(){fe(ze)}},ke=function(ze){fe(ze.data)},Se=function(ze){b.postMessage(be(ze),Pe.protocol+"//"+Pe.host)};(!J||!ne)&&(J=function(We){var He=X(arguments,1);return Te[++de]=function(){y(T(We)?We:Me(We),void 0,He)},oe(de),de},ne=function(We){delete Te[We]},W?oe=function(ze){ae.nextTick(ve(ze))}:re&&re.now?oe=function(ze){re.now(ve(ze))}:ge&&!Q?(te=(H=new ge).port2,H.port1.onmessage=ke,oe=P(te.postMessage,te)):b.addEventListener&&T(b.postMessage)&&!b.importScripts&&Pe&&"file:"!==Pe.protocol&&!L(Se)?(oe=Se,b.addEventListener("message",ke,!1)):oe=le in U("script")?function(ze){B.appendChild(U("script"))[le]=function(){B.removeChild(this),fe(ze)}}:function(ze){setTimeout(ve(ze),0)}),D.exports={set:J,clear:ne}},function(D,N,a){var b=a(53);D.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(b)},function(D,N,a){"use strict";var b=a(55),y=function(P){var T,C;this.promise=new P(function(L,B){if(void 0!==T||void 0!==C)throw TypeError("Bad Promise constructor");T=L,C=B}),this.resolve=b(T),this.reject=b(C)};D.exports.f=function(P){return new y(P)}},function(D,N,a){"use strict";N.a=function b(){return!1}},function(D,N,a){"use strict";(function(b){a.d(N,"a",function(){return De});var y=a(0);function L($,Y){void 0===Y&&(Y="Illegal state"),$||function C($){throw new Error("[mobx-utils] "+$)}(Y)}var Q=function($){return $&&$!==Object.prototype&&Object.getOwnPropertyNames($).concat(Q(Object.getPrototypeOf($))||[])},J=function($){return function($){var Y=Q($);return Y.filter(function(w,I){return Y.indexOf(w)===I})}($).filter(function(Y){return"constructor"!==Y&&!~Y.indexOf("__")})},ne="pending",ae="fulfilled",re="rejected";function Me($){switch(this.state){case ne:return $.pending&&$.pending(this.value);case re:return $.rejected&&$.rejected(this.value);case ae:return $.fulfilled?$.fulfilled(this.value):this.value}}function ge($,Y){if(L(arguments.length<=2,"fromPromise expects up to two arguments"),L("function"==typeof $||"object"==typeof $&&$&&"function"==typeof $.then,"Please pass a promise or function to fromPromise"),!0===$.isPromiseBasedObservable)return $;"function"==typeof $&&($=new Promise($));var x=$;$.then(Object(y.k)("observableFromPromise-resolve",function(I){x.value=I,x.state=ae}),Object(y.k)("observableFromPromise-reject",function(I){x.value=I,x.state=re})),x.isPromiseBasedObservable=!0,x.case=Me;var w=Y&&Y.state===ae?Y.value:void 0;return Object(y.q)(x,{value:w,state:ne},{},{deep:!1}),x}!function($){$.reject=Object(y.k)("fromPromise.reject",function(x){var w=$(Promise.reject(x));return w.state=re,w.value=x,w}),$.resolve=Object(y.k)("fromPromise.resolve",function Y(x){void 0===x&&(x=void 0);var w=$(Promise.resolve(x));return w.state=ae,w.value=x,w})}(ge||(ge={}));var H=function($,Y,x,w){var je,I=arguments.length,K=I<3?Y:null===w?w=Object.getOwnPropertyDescriptor(Y,x):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate($,Y,x,w);else for(var Ne=$.length-1;Ne>=0;Ne--)(je=$[Ne])&&(K=(I<3?je(K):I>3?je(Y,x,K):je(Y,x))||K);return I>3&&K&&Object.defineProperty(Y,x,K),K};!function(){function $(Y,x){var w=this;Object(y.G)(function(){w.current=x,w.subscription=Y.subscribe(w)})}$.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},$.prototype.next=function(Y){this.current=Y},$.prototype.complete=function(){this.dispose()},$.prototype.error=function(Y){this.current=Y,this.dispose()},H([y.C.ref],$.prototype,"current",void 0),H([y.k.bound],$.prototype,"next",null),H([y.k.bound],$.prototype,"complete",null),H([y.k.bound],$.prototype,"error",null)}();var Se=function(){return Se=Object.assign||function($){for(var Y,x=1,w=arguments.length;x<w;x++)for(var I in Y=arguments[x])Object.prototype.hasOwnProperty.call(Y,I)&&($[I]=Y[I]);return $},Se.apply(this,arguments)},ze=function($,Y,x,w){var je,I=arguments.length,K=I<3?Y:null===w?w=Object.getOwnPropertyDescriptor(Y,x):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate($,Y,x,w);else for(var Ne=$.length-1;Ne>=0;Ne--)(je=$[Ne])&&(K=(I<3?je(K):I>3?je(Y,x,K):je(Y,x))||K);return I>3&&K&&Object.defineProperty(Y,x,K),K},We=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function pt($){if(!$)return"ROOT";for(var Y=[];$.parent;)Y.push($.path),$=$.parent;return Y.reverse().join("/")}function xt($){return Object(y.A)($)||Object(y.y)($)||Object(y.z)($)}function De($,Y){var x=new WeakMap;function w(Ne){var Ze=x.get(Ne.object);(function I(Ne,Ze){switch(Ne.type){case"add":K(Ne.newValue,Ze,Ne.name);break;case"update":je(Ne.oldValue),K(Ne.newValue,Ze,Ne.name||""+Ne.index);break;case"remove":case"delete":je(Ne.oldValue);break;case"splice":Ne.removed.map(je),Ne.added.forEach(function(jt,Pt){return K(jt,Ze,""+(Ne.index+Pt))});for(var Je=Ne.index+Ne.addedCount;Je<Ne.object.length;Je++)if(xt(Ne.object[Je])){var at=x.get(Ne.object[Je]);at&&(at.path=""+Je)}}})(Ne,Ze),Y(Ne,pt(Ze),$)}function K(Ne,Ze,Je){if(xt(Ne)){var at=x.get(Ne);if(at){if(at.parent!==Ze||at.path!==Je)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+pt(Ze)+"/"+Je+"', but it already exists at '"+pt(at.parent)+"/"+at.path+"'")}else{var jt={parent:Ze,path:Je,dispose:Object(y.D)(Ne,w)};x.set(Ne,jt),Object(y.p)(Ne).forEach(function(Pt){return K(Pt[1],jt,Pt[0])})}}}function je(Ne){if(xt(Ne)){var Ze=x.get(Ne);if(!Ze)return;x.delete(Ne),Ze.dispose(),Object(y.L)(Ne).forEach(je)}}return K($,void 0,""),function(){je($)}}!function(){function $(Y){var x=this;this.model=Y,this.localValues=y.C.map({}),this.localComputedValues=y.C.map({}),this.isPropertyDirty=function(w){return x.localValues.has(w)},L(Object(y.A)(Y),"createViewModel expects an observable object"),J(Y).forEach(function(w){if(w!==y.a&&"__mobxDidRunLazyInitializers"!==w){if(L(-1===We.indexOf(w),"The propertyname "+w+" is reserved and cannot be used with viewModels"),Object(y.w)(Y,w)){var I=Object(y.h)(Y,w).derivation;x.localComputedValues.set(w,Object(y.m)(I.bind(x)))}var K=Object.getOwnPropertyDescriptor(Y,w);Object.defineProperty(x,w,Se(Se({},K?{enumerable:K.enumerable}:{}),{configurable:!0,get:function(){return Object(y.w)(Y,w)?x.localComputedValues.get(w).get():x.isPropertyDirty(w)?x.localValues.get(w):x.model[w]},set:Object(y.k)(function(Ne){Ne!==x.model[w]?x.localValues.set(w,Ne):x.localValues.delete(w)})}))}})}Object.defineProperty($.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),$.prototype.submit=function(){var Y=this;Object(y.B)(this.localValues).forEach(function(x){var w=Y.localValues.get(x),I=Y.model[x];Object(y.y)(I)?I.replace(w):Object(y.z)(I)?(I.clear(),I.merge(w)):Object(y.v)(w)||(Y.model[x]=w)}),this.localValues.clear()},$.prototype.reset=function(){this.localValues.clear()},$.prototype.resetProperty=function(Y){this.localValues.delete(Y)},ze([y.m],$.prototype,"isDirty",null),ze([y.m],$.prototype,"changedValues",null),ze([y.k.bound],$.prototype,"submit",null),ze([y.k.bound],$.prototype,"reset",null),ze([y.k.bound],$.prototype,"resetProperty",null)}();var $,Lt=($=function(Y,x){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,I){w.__proto__=I}||function(w,I){for(var K in I)I.hasOwnProperty(K)&&(w[K]=I[K])})(Y,x)},function(Y,x){function w(){this.constructor=Y}$(Y,x),Y.prototype=null===x?Object.create(x):(w.prototype=x.prototype,new w)});(function($){function Y(x,w,I){var K=void 0===I?{}:I,je=K.name,Ne=void 0===je?"ogm"+(1e3*Math.random()|0):je,Ze=K.keyToName,Je=void 0===Ze?function(Pt){return""+Pt}:Ze,at=$.call(this)||this;at._keyToName=Je,at._groupBy=w,at._ogmInfoKey=Symbol("ogmInfo"+Ne),at._base=x;for(var jt=0;jt<x.length;jt++)at._addItem(x[jt]);return at._disposeBaseObserver=Object(y.D)(at._base,function(Pt){if("splice"===Pt.type)Object(y.J)(function(){for(var ur=0,Ir=Pt.removed;ur<Ir.length;ur++)at._removeItem(Ir[ur]);for(var Jn=0,fi=Pt.added;Jn<fi.length;Jn++)at._addItem(fi[Jn])});else{if("update"!==Pt.type)throw new Error("illegal state");Object(y.J)(function(){at._removeItem(Pt.oldValue),at._addItem(Pt.newValue)})}}),at}Lt(Y,$),Y.prototype.clear=function(){throw new Error("not supported")},Y.prototype.delete=function(x){throw new Error("not supported")},Y.prototype.set=function(x,w){throw new Error("not supported")},Y.prototype.dispose=function(){this._disposeBaseObserver();for(var x=0;x<this._base.length;x++){var w=this._base[x];w[this._ogmInfoKey].reaction(),delete w[this._ogmInfoKey]}},Y.prototype._getGroupArr=function(x){var w=$.prototype.get.call(this,x);return void 0===w&&(w=Object(y.C)([],{name:"GroupArray["+this._keyToName(x)+"]",deep:!1}),$.prototype.set.call(this,x,w)),w},Y.prototype._removeFromGroupArr=function(x,w){var I=$.prototype.get.call(this,x);1===I.length?$.prototype.delete.call(this,x):(w===I.length-1||(I[w]=I[I.length-1],I[w][this._ogmInfoKey].groupArrIndex=w),I.length--)},Y.prototype._addItem=function(x){var w=this,I=this._groupBy(x),K=this._getGroupArr(I),je={groupByValue:I,groupArrIndex:K.length,reaction:Object(y.F)(function(){return w._groupBy(x)},function(Ne,Ze){var Je=x[w._ogmInfoKey];w._removeFromGroupArr(Je.groupByValue,Je.groupArrIndex);var at=w._getGroupArr(Ne),jt=at.length;at.push(x),Je.groupByValue=Ne,Je.groupArrIndex=jt})};Object.defineProperty(x,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:je}),K.push(x)},Y.prototype._removeItem=function(x){var w=x[this._ogmInfoKey];this._removeFromGroupArr(w.groupByValue,w.groupArrIndex),w.reaction(),delete x[this._ogmInfoKey]}})(y.b),function(){function $(Y,x){this.base=Y,this.args=x,this.closestIdx=0,this.isDisposed=!1;for(var w=this.closest=this.root=Y,I=0;I<this.args.length-1&&(w=w.get(x[I]));I++)this.closest=w;this.closestIdx=I}$.prototype.exists=function(){this.assertNotDisposed();var Y=this.args.length;return this.closestIdx>=Y-1&&this.closest.has(this.args[Y-1])},$.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},$.prototype.set=function(Y){this.assertNotDisposed();for(var x=this.args.length,w=this.closest,I=this.closestIdx;I<x-1;I++){var K=new Map;w.set(this.args[I],K),w=K}this.closestIdx=x-1,this.closest=w,w.set(this.args[x-1],Y)},$.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var Y=this.args.length;this.closest.delete(this.args[Y-1]);for(var x=this.root,w=[x],I=0;I<Y-1;I++)x=x.get(this.args[I]),w.push(x);for(I=w.length-1;I>0;I--)0===w[I].size&&w[I-1].delete(this.args[I-1]);this.isDisposed=!0},$.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}();Promise.resolve(),typeof queueMicrotask<"u"&&queueMicrotask}).call(this,a(155))},function(D,N,a){var b;!function(y,P,T){if(y){for(var U,C={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},L={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},B={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},X={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},Q=1;Q<20;++Q)C[111+Q]="f"+Q;for(Q=0;Q<=9;++Q)C[Q+96]=Q.toString();oe.prototype.bind=function(H,te,fe){return this._bindMultiple.call(this,H=H instanceof Array?H:[H],te,fe),this},oe.prototype.unbind=function(H,te){return this.bind.call(this,H,function(){},te)},oe.prototype.trigger=function(H,te){return this._directMap[H+":"+te]&&this._directMap[H+":"+te]({},H),this},oe.prototype.reset=function(){var H=this;return H._callbacks={},H._directMap={},H},oe.prototype.stopCallback=function(H,te){if((" "+te.className+" ").indexOf(" mousetrap ")>-1||Pe(te,this.target))return!1;if("composedPath"in H&&"function"==typeof H.composedPath){var ve=H.composedPath()[0];ve!==H.target&&(te=ve)}return"INPUT"==te.tagName||"SELECT"==te.tagName||"TEXTAREA"==te.tagName||te.isContentEditable},oe.prototype.handleKey=function(){var H=this;return H._handleKey.apply(H,arguments)},oe.addKeycodes=function(H){for(var te in H)H.hasOwnProperty(te)&&(C[te]=H[te]);U=null},oe.init=function(){var H=oe(P);for(var te in H)"_"!==te.charAt(0)&&(oe[te]=function(fe){return function(){return H[fe].apply(H,arguments)}}(te))},oe.init(),y.Mousetrap=oe,D.exports&&(D.exports=oe),void 0!==(b=function(){return oe}.call(N,a,N,D))&&(D.exports=b)}function W(H,te,fe){H.addEventListener?H.addEventListener(te,fe,!1):H.attachEvent("on"+te,fe)}function J(H){if("keypress"==H.type){var te=String.fromCharCode(H.which);return H.shiftKey||(te=te.toLowerCase()),te}return C[H.which]?C[H.which]:L[H.which]?L[H.which]:String.fromCharCode(H.which).toLowerCase()}function ne(H,te){return H.sort().join(",")===te.sort().join(",")}function ge(H){return"shift"==H||"ctrl"==H||"alt"==H||"meta"==H}function de(H,te,fe){return fe||(fe=function be(){if(!U)for(var H in U={},C)H>95&&H<112||C.hasOwnProperty(H)&&(U[C[H]]=H);return U}()[H]?"keydown":"keypress"),"keypress"==fe&&te.length&&(fe="keydown"),fe}function le(H,te){var fe,ve,ke,Se=[];for(fe=function Te(H){return"+"===H?["+"]:(H=H.replace(/\+{2}/g,"+plus")).split("+")}(H),ke=0;ke<fe.length;++ke)X[ve=fe[ke]]&&(ve=X[ve]),te&&"keypress"!=te&&B[ve]&&(ve=B[ve],Se.push("shift")),ge(ve)&&Se.push(ve);return{key:ve,modifiers:Se,action:te=de(ve,Se,te)}}function Pe(H,te){return null!==H&&H!==P&&(H===te||Pe(H.parentNode,te))}function oe(H){var te=this;if(H=H||P,!(te instanceof oe))return new oe(H);te.target=H,te._callbacks={},te._directMap={};var ve,fe={},ke=!1,Se=!1,ze=!1;function We(Fe){Fe=Fe||{};var it,st=!1;for(it in fe)Fe[it]?st=!0:fe[it]=0;st||(ze=!1)}function He(Fe,st,it,Ke,_,ee){var ie,Ae,Ye=[],we=it.type;if(!te._callbacks[Fe])return[];for("keyup"==we&&ge(Fe)&&(st=[Fe]),ie=0;ie<te._callbacks[Fe].length;++ie)Ae=te._callbacks[Fe][ie],!Ke&&Ae.seq&&fe[Ae.seq]!=Ae.level||we!=Ae.action||("keypress"!=we||it.metaKey||it.ctrlKey)&&!ne(st,Ae.modifiers)||((!Ke&&Ae.combo==_||Ke&&Ae.seq==Ke&&Ae.level==ee)&&te._callbacks[Fe].splice(ie,1),Ye.push(Ae));return Ye}function Ue(Fe,st,it,Ke){te.stopCallback(st,st.target||st.srcElement,it,Ke)||!1===Fe(st,it)&&(function re(H){H.preventDefault?H.preventDefault():H.returnValue=!1}(st),function Me(H){H.stopPropagation?H.stopPropagation():H.cancelBubble=!0}(st))}function tt(Fe){"number"!=typeof Fe.which&&(Fe.which=Fe.keyCode);var st=J(Fe);if(st){if("keyup"==Fe.type&&ke===st)return void(ke=!1);te.handleKey(st,function ae(H){var te=[];return H.shiftKey&&te.push("shift"),H.altKey&&te.push("alt"),H.ctrlKey&&te.push("ctrl"),H.metaKey&&te.push("meta"),te}(Fe),Fe)}}function wt(Fe,st,it,Ke){function _(we){return function(){ze=we,++fe[Fe],function ft(){clearTimeout(ve),ve=setTimeout(We,1e3)}()}}function ee(we){Ue(it,we,Fe),"keyup"!==Ke&&(ke=J(we)),setTimeout(We,10)}fe[Fe]=0;for(var ie=0;ie<st.length;++ie){var Ye=ie+1===st.length?ee:_(Ke||le(st[ie+1]).action);Ot(st[ie],Ye,Ke,Fe,ie)}}function Ot(Fe,st,it,Ke,_){te._directMap[Fe+":"+it]=st;var ie,ee=(Fe=Fe.replace(/\s+/g," ")).split(" ");ee.length>1?wt(Fe,ee,st,it):(ie=le(Fe,it),te._callbacks[ie.key]=te._callbacks[ie.key]||[],He(ie.key,ie.modifiers,{type:ie.action},Ke,Fe,_),te._callbacks[ie.key][Ke?"unshift":"push"]({callback:st,modifiers:ie.modifiers,action:ie.action,seq:Ke,level:_,combo:Fe}))}te._handleKey=function(Fe,st,it){var _,Ke=He(Fe,st,it),ee={},ie=0,Ae=!1;for(_=0;_<Ke.length;++_)Ke[_].seq&&(ie=Math.max(ie,Ke[_].level));for(_=0;_<Ke.length;++_)if(Ke[_].seq){if(Ke[_].level!=ie)continue;Ae=!0,ee[Ke[_].seq]=1,Ue(Ke[_].callback,it,Ke[_].combo,Ke[_].seq)}else Ae||Ue(Ke[_].callback,it,Ke[_].combo);var Ye="keypress"==it.type&&Se;it.type==ze&&!ge(Fe)&&!Ye&&We(ee),Se=Ae&&"keydown"==it.type},te._bindMultiple=function(Fe,st,it){for(var Ke=0;Ke<Fe.length;++Ke)Ot(Fe[Ke],st,it)},W(H,"keypress",tt),W(H,"keydown",tt),W(H,"keyup",tt)}}(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(D,N,a){var b=a(36),y=a(37),P=a(32),T=a(39),C=a(66);D.exports=b?Object.defineProperties:function(B,X){P(B);for(var ne,U=T(X),Q=C(X),W=Q.length,J=0;W>J;)y.f(B,ne=Q[J++],U[ne]);return B}},function(D,N,a){var b=a(7),y=a(35),P=a(28),T=a(33),C=b.TypeError;D.exports=function(L,B){var X,U;if("string"===B&&P(X=L.toString)&&!T(U=y(X,L))||P(X=L.valueOf)&&!T(U=y(X,L))||"string"!==B&&P(X=L.toString)&&!T(U=y(X,L)))return U;throw C("Can't convert object to primitive value")}},function(D,N,a){var b=a(7),y=a(28),P=a(92),T=b.WeakMap;D.exports=y(T)&&/native code/.test(P(T))},function(D,N,a){"use strict";var b=a(136).IteratorPrototype,y=a(54),P=a(71),T=a(73),C=a(70),L=function(){return this};D.exports=function(B,X,U,Q){var W=X+" Iterator";return B.prototype=y(b,{next:P(+!Q,U)}),T(B,W,!1,!0),C[W]=L,B}},function(D,N,a){var b=a(7),y=a(28),P=b.String,T=b.TypeError;D.exports=function(C){if("object"==typeof C||y(C))return C;throw T("Can't set "+P(C)+" as a prototype")}},function(D,N,a){"use strict";var b=a(16),y=a(7),P=a(15),T=a(95),C=a(44),L=a(138),B=a(114),X=a(117),U=a(28),Q=a(33),W=a(18),J=a(118),ne=a(73),ae=a(143);D.exports=function(re,Me,ge){var be=-1!==re.indexOf("Map"),de=-1!==re.indexOf("Weak"),Te=be?"set":"add",le=y[re],Pe=le&&le.prototype,oe=le,H={},te=function(He){var Ue=P(Pe[He]);C(Pe,He,"add"==He?function(ft){return Ue(this,0===ft?0:ft),this}:"delete"==He?function(tt){return!(de&&!Q(tt))&&Ue(this,0===tt?0:tt)}:"get"==He?function(ft){return de&&!Q(ft)?void 0:Ue(this,0===ft?0:ft)}:"has"==He?function(ft){return!(de&&!Q(ft))&&Ue(this,0===ft?0:ft)}:function(ft,wt){return Ue(this,0===ft?0:ft,wt),this})};if(T(re,!U(le)||!(de||Pe.forEach&&!W(function(){(new le).entries().next()}))))oe=ge.getConstructor(Me,re,be,Te),L.enable();else if(T(re,!0)){var ve=new oe,ke=ve[Te](de?{}:-0,1)!=ve,Se=W(function(){ve.has(1)}),ze=J(function(He){new le(He)}),We=!de&&W(function(){for(var He=new le,Ue=5;Ue--;)He[Te](Ue,Ue);return!He.has(-0)});ze||((oe=Me(function(He,Ue){X(He,Pe);var tt=ae(new le,He,oe);return null!=Ue&&B(Ue,tt[Te],{that:tt,AS_ENTRIES:be}),tt})).prototype=Pe,Pe.constructor=oe),(Se||We)&&(te("delete"),te("has"),be&&te("get")),(We||ke)&&te(Te),de&&Pe.clear&&delete Pe.clear}return H[re]=oe,b({global:!0,forced:oe!=le},H),ne(oe,re),de||ge.setStrong(oe,re,be),oe}},function(D,N,a){var b=a(18),y=a(33),P=a(50),T=a(175),C=Object.isExtensible,L=b(function(){C(1)});D.exports=L||T?function(X){return!(!y(X)||T&&"ArrayBuffer"==P(X))&&(!C||C(X))}:C},function(D,N,a){var b=a(18);D.exports=b(function(){if("function"==typeof ArrayBuffer){var y=new ArrayBuffer(8);Object.isExtensible(y)&&Object.defineProperty(y,"a",{value:8})}})},function(D,N,a){var b=a(18);D.exports=!b(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(D,N,a){"use strict";var b=a(37).f,y=a(54),P=a(144),T=a(62),C=a(117),L=a(114),B=a(111),X=a(145),U=a(36),Q=a(138).fastKey,W=a(56),J=W.set,ne=W.getterFor;D.exports={getConstructor:function(ae,re,Me,ge){var be=ae(function(oe,H){C(oe,de),J(oe,{type:re,index:y(null),first:void 0,last:void 0,size:0}),U||(oe.size=0),null!=H&&L(H,oe[ge],{that:oe,AS_ENTRIES:Me})}),de=be.prototype,Te=ne(re),le=function(oe,H,te){var ke,Se,fe=Te(oe),ve=Pe(oe,H);return ve?ve.value=te:(fe.last=ve={index:Se=Q(H,!0),key:H,value:te,previous:ke=fe.last,next:void 0,removed:!1},fe.first||(fe.first=ve),ke&&(ke.next=ve),U?fe.size++:oe.size++,"F"!==Se&&(fe.index[Se]=ve)),oe},Pe=function(oe,H){var ve,te=Te(oe),fe=Q(H);if("F"!==fe)return te.index[fe];for(ve=te.first;ve;ve=ve.next)if(ve.key==H)return ve};return P(de,{clear:function(){for(var te=Te(this),fe=te.index,ve=te.first;ve;)ve.removed=!0,ve.previous&&(ve.previous=ve.previous.next=void 0),delete fe[ve.index],ve=ve.next;te.first=te.last=void 0,U?te.size=0:this.size=0},delete:function(oe){var H=this,te=Te(H),fe=Pe(H,oe);if(fe){var ve=fe.next,ke=fe.previous;delete te.index[fe.index],fe.removed=!0,ke&&(ke.next=ve),ve&&(ve.previous=ke),te.first==fe&&(te.first=ve),te.last==fe&&(te.last=ke),U?te.size--:H.size--}return!!fe},forEach:function(H){for(var ve,te=Te(this),fe=T(H,arguments.length>1?arguments[1]:void 0);ve=ve?ve.next:te.first;)for(fe(ve.value,ve.key,this);ve&&ve.removed;)ve=ve.previous},has:function(H){return!!Pe(this,H)}}),P(de,Me?{get:function(H){var te=Pe(this,H);return te&&te.value},set:function(H,te){return le(this,0===H?0:H,te)}}:{add:function(H){return le(this,H=0===H?0:H,H)}}),U&&b(de,"size",{get:function(){return Te(this).size}}),be},setStrong:function(ae,re,Me){var ge=re+" Iterator",be=ne(re),de=ne(ge);B(ae,re,function(Te,le){J(this,{type:ge,target:Te,state:be(Te),kind:le,last:void 0})},function(){for(var Te=de(this),le=Te.kind,Pe=Te.last;Pe&&Pe.removed;)Pe=Pe.previous;return Te.target&&(Te.last=Pe=Pe?Pe.next:Te.state.first)?"keys"==le?{value:Pe.key,done:!1}:"values"==le?{value:Pe.value,done:!1}:{value:[Pe.key,Pe.value],done:!1}:(Te.target=void 0,{value:void 0,done:!0})},Me?"entries":"values",!Me,!0),X(re)}}},function(D,N,a){"use strict";var b=a(116),y=a(98);D.exports=b?{}.toString:function(){return"[object "+y(this)+"]"}},function(D,N,a){"use strict";var b=a(74).forEach,P=a(120)("forEach");D.exports=P?[].forEach:function(C){return b(this,C,arguments.length>1?arguments[1]:void 0)}},function(D,N,a){var b=a(7),y=a(99),P=a(100),T=a(33),L=a(27)("species"),B=b.Array;D.exports=function(X){var U;return y(X)&&(P(U=X.constructor)&&(U===B||y(U.prototype))||T(U)&&null===(U=U[L]))&&(U=void 0),void 0===U?B:U}},function(D,N,a){var b=a(7);D.exports=b},function(D,N,a){"use strict";var b=a(7),y=a(62),P=a(35),T=a(38),C=a(183),L=a(140),B=a(100),X=a(43),U=a(61),Q=a(141),W=a(115),J=b.Array;D.exports=function(ae){var re=T(ae),Me=B(this),ge=arguments.length,be=ge>1?arguments[1]:void 0,de=void 0!==be;de&&(be=y(be,ge>2?arguments[2]:void 0));var Pe,oe,H,te,fe,ve,Te=W(re),le=0;if(!Te||this==J&&L(Te))for(Pe=X(re),oe=Me?new this(Pe):J(Pe);Pe>le;le++)ve=de?be(re[le],le):re[le],U(oe,le,ve);else for(fe=(te=Q(re,Te)).next,oe=Me?new this:[];!(H=P(fe,te)).done;le++)ve=de?C(te,be,[H.value,le],!0):H.value,U(oe,le,ve);return oe.length=le,oe}},function(D,N,a){var b=a(32),y=a(142);D.exports=function(P,T,C,L){try{return L?T(b(C)[0],C[1]):T(C)}catch(B){y(P,"throw",B)}}},function(D,N,a){"use strict";var b=a(32);D.exports=function(){var y=b(this),P="";return y.global&&(P+="g"),y.ignoreCase&&(P+="i"),y.multiline&&(P+="m"),y.dotAll&&(P+="s"),y.unicode&&(P+="u"),y.sticky&&(P+="y"),P}},function(D,N,a){var b=a(18),P=a(7).RegExp;D.exports=b(function(){var T=P(".","s");return!(T.dotAll&&T.exec("\n")&&"s"===T.flags)})},function(D,N,a){var b=a(18),P=a(7).RegExp;D.exports=b(function(){var T=P("(?<a>b)","g");return"b"!==T.exec("b").groups.a||"bc"!=="b".replace(T,"$<a>c")})},function(D,N,a){"use strict";var b=a(16),y=a(15),P=a(55),T=a(38),C=a(43),L=a(40),B=a(18),X=a(188),U=a(120),Q=a(189),W=a(190),J=a(65),ne=a(191),ae=[],re=y(ae.sort),Me=y(ae.push),ge=B(function(){ae.sort(void 0)}),be=B(function(){ae.sort(null)}),de=U("sort"),Te=!B(function(){if(J)return J<70;if(!(Q&&Q>3)){if(W)return!0;if(ne)return ne<603;var H,te,fe,ve,oe="";for(H=65;H<76;H++){switch(te=String.fromCharCode(H),H){case 66:case 69:case 70:case 72:fe=3;break;case 68:case 71:fe=4;break;default:fe=2}for(ve=0;ve<47;ve++)ae.push({k:te+ve,v:fe})}for(ae.sort(function(ke,Se){return Se.v-ke.v}),ve=0;ve<ae.length;ve++)te=ae[ve].k.charAt(0),oe.charAt(oe.length-1)!==te&&(oe+=te);return"DGBEFHACIJK"!==oe}});b({target:"Array",proto:!0,forced:ge||!be||!de||!Te},{sort:function(H){void 0!==H&&P(H);var te=T(this);if(Te)return void 0===H?re(te):re(te,H);var ke,Se,fe=[],ve=C(te);for(Se=0;Se<ve;Se++)Se in te&&Me(fe,te[Se]);for(X(fe,function(oe){return function(H,te){return void 0===te?-1:void 0===H?1:void 0!==oe?+oe(H,te)||0:L(H)>L(te)?1:-1}}(H)),ke=fe.length,Se=0;Se<ke;)te[Se]=fe[Se++];for(;Se<ve;)delete te[Se++];return te}})},function(D,N,a){var b=a(113),y=Math.floor,P=function(L,B){var X=L.length,U=y(X/2);return X<8?T(L,B):C(L,P(b(L,0,U),B),P(b(L,U),B),B)},T=function(L,B){for(var Q,W,X=L.length,U=1;U<X;){for(W=U,Q=L[U];W&&B(L[W-1],Q)>0;)L[W]=L[--W];W!==U++&&(L[W]=Q)}return L},C=function(L,B,X,U){for(var Q=B.length,W=X.length,J=0,ne=0;J<Q||ne<W;)L[J+ne]=J<Q&&ne<W?U(B[J],X[ne])<=0?B[J++]:X[ne++]:J<Q?B[J++]:X[ne++];return L};D.exports=P},function(D,N,a){var y=a(53).match(/firefox\/(\d+)/i);D.exports=!!y&&+y[1]},function(D,N,a){var b=a(53);D.exports=/MSIE|Trident/.test(b)},function(D,N,a){var y=a(53).match(/AppleWebKit\/(\d+)\./);D.exports=!!y&&+y[1]},function(D,N,a){"use strict";var b=a(16),y=a(74).find,P=a(83),T="find",C=!0;T in[]&&Array(1)[T](function(){C=!1}),b({target:"Array",proto:!0,forced:C},{find:function(B){return y(this,B,arguments.length>1?arguments[1]:void 0)}}),P(T)},function(D,N,a){var b=a(7),y=a(154),P=b.TypeError;D.exports=function(T){if(y(T))throw P("The method doesn't accept regular expressions");return T}},function(D,N,a){var y=a(27)("match");D.exports=function(P){var T=/./;try{"/./"[P](T)}catch{try{return T[y]=!1,"/./"[P](T)}catch{}}return!1}},function(D,N,a){var b=a(94).PROPER,y=a(18),P=a(160);D.exports=function(C){return y(function(){return!!P[C]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[C]()||b&&P[C].name!==C})}},function(D,N,a){var b=a(15);D.exports=b(1..valueOf)},function(D,N,a){var b=a(15),y=a(38),P=Math.floor,T=b("".charAt),C=b("".replace),L=b("".slice),B=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,X=/\$([$&'`]|\d{1,2})/g;D.exports=function(U,Q,W,J,ne,ae){var re=W+U.length,Me=J.length,ge=X;return void 0!==ne&&(ne=y(ne),ge=B),C(ae,ge,function(be,de){var Te;switch(T(de,0)){case"$":return"$";case"&":return U;case"`":return L(Q,0,W);case"'":return L(Q,re);case"<":Te=ne[L(de,1,-1)];break;default:var le=+de;if(0===le)return be;if(le>Me){var Pe=P(le/10);return 0===Pe?be:Pe<=Me?void 0===J[Pe-1]?T(de,1):J[Pe-1]+T(de,1):be}Te=J[le-1]}return void 0===Te?"":Te})}},function(D,N,a){"use strict";var b=a(36),y=a(15),P=a(35),T=a(18),C=a(66),L=a(112),B=a(93),X=a(38),U=a(81),Q=Object.assign,W=Object.defineProperty,J=y([].concat);D.exports=!Q||T(function(){if(b&&1!==Q({b:1},Q(W({},"a",{enumerable:!0,get:function(){W(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var ne={},ae={},re=Symbol(),Me="abcdefghijklmnopqrst";return ne[re]=7,Me.split("").forEach(function(ge){ae[ge]=ge}),7!=Q({},ne)[re]||C(Q({},ae)).join("")!=Me})?function(ae,re){for(var Me=X(ae),ge=arguments.length,be=1,de=L.f,Te=B.f;ge>be;)for(var te,le=U(arguments[be++]),Pe=de?J(C(le),de(le)):C(le),oe=Pe.length,H=0;oe>H;)te=Pe[H++],(!b||P(Te,le,te))&&(Me[te]=le[te]);return Me}:Q},function(D,N,a){"use strict";var b=a(7),y=a(15),P=a(55),T=a(33),C=a(34),L=a(101),B=b.Function,X=y([].concat),U=y([].join),Q={},W=function(J,ne,ae){if(!C(Q,ne)){for(var re=[],Me=0;Me<ne;Me++)re[Me]="a["+Me+"]";Q[ne]=B("C,a","return new C("+U(re,",")+")")}return Q[ne](J,ae)};D.exports=B.bind||function(ne){var ae=P(this),re=ae.prototype,Me=L(arguments,1),ge=function(){var de=X(Me,L(arguments));return this instanceof ge?W(ae,de.length,de):ae.apply(ne,de)};return T(re)&&(ge.prototype=re),ge}},function(D,N,a){var b=a(34);D.exports=function(y){return void 0!==y&&(b(y,"value")||b(y,"writable"))}},function(D,N,a){var b=a(15),y=a(45),P=a(40),T=/"/g,C=b("".replace);D.exports=function(L,B,X,U){var Q=P(y(L)),W="<"+B;return""!==X&&(W+=" "+X+'="'+C(P(U),T,"&quot;")+'"'),W+">"+Q+"</"+B+">"}},function(D,N,a){var b=a(18);D.exports=function(y){return b(function(){var P=""[y]('"');return P!==P.toLowerCase()||P.split('"').length>3})}},function(D,N,a){var b=a(16),y=Math.hypot,P=Math.abs,T=Math.sqrt;b({target:"Math",stat:!0,forced:!!y&&y(1/0,NaN)!==1/0},{hypot:function(B,X){for(var ne,ae,U=0,Q=0,W=arguments.length,J=0;Q<W;)J<(ne=P(arguments[Q++]))?(U=U*(ae=J/ne)*ae+1,J=ne):U+=ne>0?(ae=ne/J)*ae:ne;return J===1/0?1/0:J*T(U)}})},function(D,N,a){"use strict";var ct,vt,zt,Ft,b=a(16),y=a(64),P=a(7),T=a(46),C=a(35),L=a(205),B=a(44),X=a(144),U=a(97),Q=a(73),W=a(145),J=a(55),ne=a(28),ae=a(33),re=a(117),Me=a(92),ge=a(114),be=a(118),de=a(156),Te=a(162).set,le=a(206),Pe=a(209),oe=a(210),H=a(164),te=a(211),fe=a(56),ve=a(95),ke=a(27),Se=a(212),ze=a(126),We=a(65),He=ke("species"),Ue="Promise",tt=fe.getterFor(Ue),ft=fe.set,wt=fe.getterFor(Ue),Ot=L&&L.prototype,Fe=L,st=Ot,it=P.TypeError,Ke=P.document,_=P.process,ee=H.f,ie=ee,Ae=!!(Ke&&Ke.createEvent&&P.dispatchEvent),Ye=ne(P.PromiseRejectionEvent),we="unhandledrejection",ut=!1,Dt=ve(Ue,function(){var Ve=Me(Fe),ot=Ve!==String(Fe);if(!ot&&66===We||y&&!st.finally)return!0;if(We>=51&&/native code/.test(Ve))return!1;var Qe=new Fe(function(Rt){Rt(1)}),dt=function(Rt){Rt(function(){},function(){})};return(Qe.constructor={})[He]=dt,!(ut=Qe.then(function(){})instanceof dt)||!ot&&Se&&!Ye}),Gt=Dt||!be(function(Ve){Fe.all(Ve).catch(function(){})}),_t=function(Ve){var ot;return!(!ae(Ve)||!ne(ot=Ve.then))&&ot},Xt=function(Ve,ot){if(!Ve.notified){Ve.notified=!0;var Qe=Ve.reactions;le(function(){for(var dt=Ve.value,At=1==Ve.state,Rt=0;Qe.length>Rt;){var K,je,Ne,$=Qe[Rt++],Y=At?$.ok:$.fail,x=$.resolve,w=$.reject,I=$.domain;try{Y?(At||(2===Ve.rejection&&ar(Ve),Ve.rejection=1),!0===Y?K=dt:(I&&I.enter(),K=Y(dt),I&&(I.exit(),Ne=!0)),K===$.promise?w(it("Promise-chain cycle")):(je=_t(K))?C(je,K,x,w):x(K)):w(dt)}catch(Ze){I&&!Ne&&I.exit(),w(Ze)}}Ve.reactions=[],Ve.notified=!1,ot&&!Ve.rejection&&vr(Ve)})}},nr=function(Ve,ot,Qe){var dt,At;Ae?((dt=Ke.createEvent("Event")).promise=ot,dt.reason=Qe,dt.initEvent(Ve,!1,!0),P.dispatchEvent(dt)):dt={promise:ot,reason:Qe},!Ye&&(At=P["on"+Ve])?At(dt):Ve===we&&oe("Unhandled promise rejection",Qe)},vr=function(Ve){C(Te,P,function(){var At,ot=Ve.facade,Qe=Ve.value;if(cr(Ve)&&(At=te(function(){ze?_.emit("unhandledRejection",Qe,ot):nr(we,ot,Qe)}),Ve.rejection=ze||cr(Ve)?2:1,At.error))throw At.value})},cr=function(Ve){return 1!==Ve.rejection&&!Ve.parent},ar=function(Ve){C(Te,P,function(){var ot=Ve.facade;ze?_.emit("rejectionHandled",ot):nr("rejectionhandled",ot,Ve.value)})},kt=function(Ve,ot,Qe){return function(dt){Ve(ot,dt,Qe)}},Ut=function(Ve,ot,Qe){Ve.done||(Ve.done=!0,Qe&&(Ve=Qe),Ve.value=ot,Ve.state=2,Xt(Ve,!0))},tr=function(Ve,ot,Qe){if(!Ve.done){Ve.done=!0,Qe&&(Ve=Qe);try{if(Ve.facade===ot)throw it("Promise can't be resolved itself");var dt=_t(ot);dt?le(function(){var At={done:!1};try{C(dt,ot,kt(tr,At,Ve),kt(Ut,At,Ve))}catch(Rt){Ut(At,Rt,Ve)}}):(Ve.value=ot,Ve.state=1,Xt(Ve,!1))}catch(At){Ut({done:!1},At,Ve)}}};if(Dt&&(Fe=function(ot){re(this,st),J(ot),C(ct,this);var Qe=tt(this);try{ot(kt(tr,Qe),kt(Ut,Qe))}catch(dt){Ut(Qe,dt)}},(ct=function(ot){ft(this,{type:Ue,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=X(st=Fe.prototype,{then:function(ot,Qe){var dt=wt(this),At=dt.reactions,Rt=ee(de(this,Fe));return Rt.ok=!ne(ot)||ot,Rt.fail=ne(Qe)&&Qe,Rt.domain=ze?_.domain:void 0,dt.parent=!0,At[At.length]=Rt,0!=dt.state&&Xt(dt,!1),Rt.promise},catch:function(Ve){return this.then(void 0,Ve)}}),vt=function(){var Ve=new ct,ot=tt(Ve);this.promise=Ve,this.resolve=kt(tr,ot),this.reject=kt(Ut,ot)},H.f=ee=function(Ve){return Ve===Fe||Ve===zt?new vt(Ve):ie(Ve)},!y&&ne(L)&&Ot!==Object.prototype)){Ft=Ot.then,ut||(B(Ot,"then",function(ot,Qe){var dt=this;return new Fe(function(At,Rt){C(Ft,dt,At,Rt)}).then(ot,Qe)},{unsafe:!0}),B(Ot,"catch",st.catch,{unsafe:!0}));try{delete Ot.constructor}catch{}U&&U(Ot,st)}b({global:!0,wrap:!0,forced:Dt},{Promise:Fe}),Q(Fe,Ue,!1,!0),W(Ue),zt=T(Ue),b({target:Ue,stat:!0,forced:Dt},{reject:function(ot){var Qe=ee(this);return C(Qe.reject,void 0,ot),Qe.promise}}),b({target:Ue,stat:!0,forced:y||Dt},{resolve:function(ot){return Pe(y&&this===zt?Fe:this,ot)}}),b({target:Ue,stat:!0,forced:Gt},{all:function(ot){var Qe=this,dt=ee(Qe),At=dt.resolve,Rt=dt.reject,$=te(function(){var Y=J(Qe.resolve),x=[],w=0,I=1;ge(ot,function(K){var je=w++,Ne=!1;I++,C(Y,Qe,K).then(function(Ze){Ne||(Ne=!0,x[je]=Ze,--I||At(x))},Rt)}),--I||At(x)});return $.error&&Rt($.value),dt.promise},race:function(ot){var Qe=this,dt=ee(Qe),At=dt.reject,Rt=te(function(){var $=J(Qe.resolve);ge(ot,function(Y){C($,Qe,Y).then(dt.resolve,At)})});return Rt.error&&At(Rt.value),dt.promise}})},function(D,N,a){var b=a(7);D.exports=b.Promise},function(D,N,a){var re,Me,ge,be,de,Te,le,Pe,b=a(7),y=a(62),P=a(51).f,T=a(162).set,C=a(163),L=a(207),B=a(208),X=a(126),U=b.MutationObserver||b.WebKitMutationObserver,Q=b.document,W=b.process,J=b.Promise,ne=P(b,"queueMicrotask"),ae=ne&&ne.value;ae||(re=function(){var oe,H;for(X&&(oe=W.domain)&&oe.exit();Me;){H=Me.fn,Me=Me.next;try{H()}catch(te){throw Me?be():ge=void 0,te}}ge=void 0,oe&&oe.enter()},C||X||B||!U||!Q?!L&&J&&J.resolve?((le=J.resolve(void 0)).constructor=J,Pe=y(le.then,le),be=function(){Pe(re)}):X?be=function(){W.nextTick(re)}:(T=y(T,b),be=function(){T(re)}):(de=!0,Te=Q.createTextNode(""),new U(re).observe(Te,{characterData:!0}),be=function(){Te.data=de=!de})),D.exports=ae||function(oe){var H={fn:oe,next:void 0};ge&&(ge.next=H),Me||(Me=H,be()),ge=H}},function(D,N,a){var b=a(53),y=a(7);D.exports=/ipad|iphone|ipod/i.test(b)&&void 0!==y.Pebble},function(D,N,a){var b=a(53);D.exports=/web0s(?!.*chrome)/i.test(b)},function(D,N,a){var b=a(32),y=a(33),P=a(164);D.exports=function(T,C){if(b(T),y(C)&&C.constructor===T)return C;var L=P.f(T);return(0,L.resolve)(C),L.promise}},function(D,N,a){var b=a(7);D.exports=function(y,P){var T=b.console;T&&T.error&&(1==arguments.length?T.error(y):T.error(y,P))}},function(D,N){D.exports=function(a){try{return{error:!1,value:a()}}catch(b){return{error:!0,value:b}}}},function(D,N){D.exports="object"==typeof window},function(D,N,a){var b=a(36),y=a(15),P=a(66),T=a(39),L=y(a(93).f),B=y([].push),X=function(U){return function(Q){for(var Me,W=T(Q),J=P(W),ne=J.length,ae=0,re=[];ne>ae;)Me=J[ae++],(!b||L(W,Me))&&B(re,U?[Me,W[Me]]:W[Me]);return re}};D.exports={entries:X(!0),values:X(!1)}},function(D,N,a){"use strict";var b=a(38),y=a(67),P=a(43);D.exports=function(C){for(var L=b(this),B=P(L),X=arguments.length,U=y(X>1?arguments[1]:void 0,B),Q=X>2?arguments[2]:void 0,W=void 0===Q?B:y(Q,B);W>U;)L[U++]=C;return L}},function(D,N,a){"use strict";a.r(N),a.d(N,"observer",function(){return Dn}),a.d(N,"LogicFlow",function(){return _c}),a.d(N,"h",function(){return Ee.g}),a.d(N,"LogicFlowUtil",function(){return b}),a.d(N,"BaseNode",function(){return vo}),a.d(N,"RectNode",function(){return pc}),a.d(N,"CircleNode",function(){return yc}),a.d(N,"PolygonNode",function(){return bc}),a.d(N,"DiamondNode",function(){return xc}),a.d(N,"EllipseNode",function(){return Mc}),a.d(N,"TextNode",function(){return Ac}),a.d(N,"HtmlNode",function(){return Dc}),a.d(N,"BaseEdge",function(){return Ua}),a.d(N,"LineEdge",function(){return Gc}),a.d(N,"PolylineEdge",function(){return kc}),a.d(N,"BezierEdge",function(){return Xc}),a.d(N,"Arrow",function(){return O1}),a.d(N,"BaseEdgeModel",function(){return xf}),a.d(N,"BezierEdgeModel",function(){return Vf}),a.d(N,"LineEdgeModel",function(){return Da}),a.d(N,"PolylineEdgeModel",function(){return Pu}),a.d(N,"BaseNodeModel",function(){return po}),a.d(N,"CircleNodeModel",function(){return hs}),a.d(N,"DiamondNodeModel",function(){return gs}),a.d(N,"EllipseNodeModel",function(){return Es}),a.d(N,"PolygonNodeModel",function(){return ws}),a.d(N,"RectNodeModel",function(){return Ds}),a.d(N,"TextNodeModel",function(){return Rs}),a.d(N,"HtmlNodeModel",function(){return Ls}),a.d(N,"EditConfigModel",function(){return _d}),a.d(N,"GraphModel",function(){return Kh}),a.d(N,"SnaplineModel",function(){return Vy}),a.d(N,"Keyboard",function(){return nm}),a.d(N,"get",function(){return Tv}),a.d(N,"defaults",function(){return Nv});var b={};a.r(b),a.d(b,"createUuid",function(){return ni}),a.d(b,"refreshGraphId",function(){return AP}),a.d(b,"createDrag",function(){return Cf}),a.d(b,"StepDrag",function(){return oi});var y=a(0),P=a(10);if(!P.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!y.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var T=a(42),C=Object(T.b)("observerBatching");function L(e){e()}function J(e){return Object(y.t)(e)}var ge,ae=1e4,Me=new Set;function be(){void 0===ge&&(ge=setTimeout(le,1e4))}function le(){ge=void 0;var e=Date.now();Me.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,Me.delete(r))}),Me.size>0&&be()}var H=!1,te=[];var ke={};function Se(e){return"observer"+e}function ze(e,r,t){void 0===r&&(r="observed"),void 0===t&&(t=ke);var i=function fe(e){return function(){H?te.push(e):e()}}((t.useForceUpdate||T.d)()),s=P.d.useRef(null);if(!s.current){var c=new y.c(Se(r),function(){g.mounted?i():(c.dispose(),s.current=null)}),g=function ne(e){return{cleanAt:Date.now()+ae,reaction:e}}(c);s.current=g,function de(e){Me.add(e),be()}(s)}var E=s.current.reaction;return P.d.useDebugValue(E,J),P.d.useEffect(function(){return function Te(e){Me.delete(e)}(s),s.current?s.current.mounted=!0:(s.current={reaction:new y.c(Se(r),function(){i()}),cleanAt:1/0},i()),function(){s.current.reaction.dispose(),s.current=null}},[]),function ve(e){H=!0,te=[];try{var r=e();H=!1;var t=te.length>0?te:void 0;return P.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{H=!1}}(function(){var A,R;if(E.track(function(){try{A=e()}catch(k){R=k}}),R)throw R;return A})}var We=function(){return We=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},We.apply(this,arguments)};function He(e,r){var i,t=We({forwardRef:!1},r),n=e.displayName||e.name,o=function(s,c){return ze(function(){return e(s,c)},n)};return o.displayName=n,i=t.forwardRef?Object(P.f)(Object(P.e)(o)):Object(P.f)(o),function tt(e,r){Object.keys(e).forEach(function(t){Ue[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}(e,i),i.displayName=n,i}var Ue={$$typeof:!0,render:!0,compare:!0,type:!0};function ft(e){var n=e.children||e.render;return"function"!=typeof n?null:ze(n)}function wt(e,r,t,n,o){var s="function"==typeof e[r],c="function"==typeof e["children"===r?"render":"children"];return s&&c?new Error("MobX Observer: Do not use children and render in the same time in`"+t):s||c?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}ft.propTypes={children:wt,render:wt},ft.displayName="Observer",function B(e){e||(e=L),Object(y.n)({reactionScheduler:e}),Object(T.a)()[C]=!0}(P.g);var _=0;var ie={};function Ae(e){return ie[e]||(ie[e]=function ee(e){if("function"==typeof Symbol)return Symbol(e);var r="__$mobx-react "+e+" ("+_+")";return _++,r}(e)),ie[e]}function Ye(e,r){if(we(e,r))return!0;if("object"!=typeof e||null===e||"object"!=typeof r||null===r)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!we(e[t[o]],r[t[o]]))return!1;return!0}function we(e,r){return e===r?0!==e||1/e==1/r:e!=e&&r!=r}function pt(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var xt=Ae("patchMixins"),De=Ae("patchedDefinition");function ut(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];r.locks++;try{var s;return null!=e&&(s=e.apply(this,o)),s}finally{r.locks--,0===r.locks&&r.methods.forEach(function(c){c.apply(t,o)})}}function ct(e,r){return function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];ut.call.apply(ut,[this,e,r].concat(i))}}function vt(e,r,t){var n=function Lt(e,r){var t=e[xt]=e[xt]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!o||!o[De]){var s=zt(e,r,o?o.enumerable:void 0,n,e[r]);Object.defineProperty(e,r,s)}}function zt(e,r,t,n,o){var i,s=ct(o,n);return(i={})[De]=!0,i.get=function(){return s},i.set=function(g){if(this===e)s=ct(g,n);else{var E=zt(this,r,t,n,g);Object.defineProperty(this,r,E)}},i.configurable=!0,i.enumerable=t,i}var Ft=y.a||"$mobx",Dt=Ae("isMobXReactObserver"),Gt=Ae("isUnmounted"),_t=Ae("skipRender"),Xt=Ae("isForcingUpdate");function nr(e){var r=e.prototype;if(e[Dt]){var t=vr(r);console.warn("The provided component class ("+t+") \n                has already been declared as an observer component.")}else e[Dt]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==P.b)if(r.shouldComponentUpdate){if(r.shouldComponentUpdate!==ar)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else r.shouldComponentUpdate=ar;kt(r,"props"),kt(r,"state");var n=r.render;return r.render=function(){return cr.call(this,n)},vt(r,"componentWillUnmount",function(){var o;if(null===(o=this.render[Ft])||void 0===o||o.dispose(),this[Gt]=!0,!this.render[Ft]){var i=vr(this);console.warn("The reactive render of an observer class component ("+i+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}}),e}function vr(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function cr(e){var r=this;pt(this,_t,!1),pt(this,Xt,!1);var t=vr(this),n=e.bind(this),o=!1,i=new y.c(t+".render()",function(){if(!o&&(o=!0,!0!==r[Gt])){var c=!0;try{pt(r,Xt,!0),r[_t]||P.a.prototype.forceUpdate.call(r),c=!1}finally{pt(r,Xt,!1),c&&i.dispose()}}});function s(){o=!1;var c=void 0,g=void 0;if(i.track(function(){try{g=Object(y.d)(!1,n)}catch(E){c=E}}),c)throw c;return g}return i.reactComponent=this,s[Ft]=i,this.render=s,s.call(this)}function ar(e,r){return this.state!==r||!Ye(this.props,e)}function kt(e,r){var t=Ae("reactProp_"+r+"_valueHolder"),n=Ae("reactProp_"+r+"_atomHolder");function o(){return this[n]||pt(this,n,Object(y.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var s=!1;return y.f&&y.e&&(s=Object(y.f)(!0)),o.call(this).reportObserved(),y.f&&y.e&&Object(y.e)(s),this[t]},set:function(s){this[Xt]||Ye(this[t],s)?pt(this,t,s):(pt(this,t,s),pt(this,_t,!0),o.call(this).reportChanged(),pt(this,_t,!1))}})}var Ut="function"==typeof Symbol&&Symbol.for,tr=Ut?Symbol.for("react.forward_ref"):"function"==typeof P.e&&Object(P.e)(function(e){return null}).$$typeof,Ve=Ut?Symbol.for("react.memo"):"function"==typeof P.f&&Object(P.f)(function(e){return null}).$$typeof;function ot(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Ve&&e.$$typeof===Ve)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(tr&&e.$$typeof===tr){var r=e.render;if("function"!=typeof r)throw new Error("render property of ForwardRef was not a function");return Object(P.e)(function(){var n=arguments;return Object(P.c)(ft,null,function(){return r.apply(void 0,n)})})}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(P.a,e)?nr(e):He(e)}if(!P.a)throw new Error("mobx-react requires React to be available");if(!y.C)throw new Error("mobx-react requires mobx to be available");var Ee=a(1);a(3),a(60),a(2),a(6),a(4),a(11),a(41),a(24),a(20),a(5),a(22),a(21),a(23),a(8),a(9),a(17),a(25),a(19),a(29),a(187),a(192),a(103),a(152),a(153);var Go=function Jt(e,r){for(var t=-1,n=null==e?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o};var yn=function Ho(e,r){return e===r||e!=e&&r!=r};var Oo=function rn(e,r){for(var t=e.length;t--;)if(yn(e[t][0],r))return t;return-1},Br=Array.prototype.splice;var jn=function ko(e){var r=this.__data__,t=Oo(r,e);return!(t<0||(t==r.length-1?r.pop():Br.call(r,t,1),--this.size,0))};var _a=function nn(e){var r=this.__data__,t=Oo(r,e);return t<0?void 0:r[t][1]};var Jr=function rr(e){return Oo(this.__data__,e)>-1};var yi=function Eo(e,r){var t=this.__data__,n=Oo(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this};function gn(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}gn.prototype.clear=function sa(){this.__data__=[],this.size=0},gn.prototype.delete=jn,gn.prototype.get=_a,gn.prototype.has=Jr,gn.prototype.set=yi;var on=gn;var Uo=function gi(){this.__data__=new on,this.size=0};var mi=function la(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t};var bi=function an(e){return this.__data__.get(e)};var So=function xo(e){return this.__data__.has(e)},Ar=a(31),Or=Ar.a.Symbol,Oi=Object.prototype,Ei=Oi.hasOwnProperty,xi=Oi.toString,mn=Or?Or.toStringTag:void 0;var fa=function Si(e){var r=Ei.call(e,mn),t=e[mn];try{e[mn]=void 0;var n=!0}catch{}var o=xi.call(e);return n&&(r?e[mn]=t:delete e[mn]),o},Pi=Object.prototype.toString;var Po=function Rn(e){return Pi.call(e)},Mi=Or?Or.toStringTag:void 0;var sn=function Yo(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Mi&&Mi in Object(e)?fa(e):Po(e)};var Pr=function Mo(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)};var e,Wo=function ca(e){if(!Pr(e))return!1;var r=sn(e);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},to=Ar.a["__core-js_shared__"],ro=(e=/[^.]+$/.exec(to&&to.keys&&to.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";var no=function Ko(e){return!!ro&&ro in e},In=Function.prototype.toString;var ln=function oo(e){if(null!=e){try{return In.call(e)}catch{}try{return e+""}catch{}}return""},ru=/^\[object .+?Constructor\]$/,Ni=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Bn=function Zo(e){return!(!Pr(e)||no(e))&&(Wo(e)?Ni:ru).test(ln(e))};var ha=function fn(e,r){return e?.[r]};var cn=function Jo(e,r){var t=ha(e,r);return Bn(t)?t:void 0},io=cn(Ar.a,"Map"),On=cn(Object,"create");var wo=function Ci(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r},Lr=Object.prototype.hasOwnProperty;var ao=function Tr(e){var r=this.__data__;if(On){var t=r[e];return"__lodash_hash_undefined__"===t?void 0:t}return Lr.call(r,e)?r[e]:void 0},va=Object.prototype.hasOwnProperty;var ga=function ya(e){var r=this.__data__;return On?void 0!==r[e]:va.call(r,e)};var ma=function dn(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=On&&void 0===r?"__lodash_hash_undefined__":r,this};function Qt(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Qt.prototype.clear=function Qo(){this.__data__=On?On(null):{},this.size=0},Qt.prototype.delete=wo,Qt.prototype.get=ao,Qt.prototype.has=ga,Qt.prototype.set=ma;var ji=Qt;var lo=function dr(e){var r=typeof e;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e};var pn=function ba(e,r){var t=e.__data__;return lo(r)?t["string"==typeof r?"string":"hash"]:t.map};var Ri=function Er(e){var r=pn(this,e).delete(e);return this.size-=r?1:0,r};var h=function Ii(e){return pn(this,e).get(e)};var u=function f(e){return pn(this,e).has(e)};var v=function d(e,r){var t=pn(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this};function m(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}m.prototype.clear=function uo(){this.size=0,this.__data__={hash:new ji,map:new(io||on),string:new ji}},m.prototype.delete=Ri,m.prototype.get=h,m.prototype.has=u,m.prototype.set=v;var S=m;var Z=function z(e,r){var t=this.__data__;if(t instanceof on){var n=t.__data__;if(!io||n.length<199)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new S(n)}return t.set(e,r),this.size=t.size,this};function F(e){var r=this.__data__=new on(e);this.size=r.size}F.prototype.clear=Uo,F.prototype.delete=mi,F.prototype.get=bi,F.prototype.has=So,F.prototype.set=Z;var me=F;var rt=function nt(e){return this.__data__.has(e)};function $e(e){var r=-1,t=null==e?0:e.length;for(this.__data__=new S;++r<t;)this.add(e[r])}$e.prototype.add=$e.prototype.push=function Oe(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},$e.prototype.has=rt;var l=$e;var O=function p(e,r){for(var t=-1,n=null==e?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1};var G=function j(e,r){return e.has(r)};var Xe=function Ce(e,r,t,n,o,i){var s=1&t,c=e.length,g=r.length;if(c!=g&&!(s&&g>c))return!1;var E=i.get(e),A=i.get(r);if(E&&A)return E==r&&A==e;var R=-1,k=!0,V=2&t?new l:void 0;for(i.set(e,r),i.set(r,e);++R<c;){var ue=e[R],ce=r[R];if(n)var ye=s?n(ce,ue,R,r,e,i):n(ue,ce,R,e,r,i);if(void 0!==ye){if(ye)continue;k=!1;break}if(V){if(!O(r,function(pe,Ge){if(!G(V,Ge)&&(ue===pe||o(ue,pe,t,n,i)))return V.push(Ge)})){k=!1;break}}else if(ue!==ce&&!o(ue,ce,t,n,i)){k=!1;break}}return i.delete(e),i.delete(r),k},bt=Ar.a.Uint8Array;var Wt=function Yt(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t};var sr=function Vt(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t},td=Or?Or.prototype:void 0,Xl=td?td.valueOf:void 0;var ym=function vm(e,r,t,n,o,i,s){switch(t){case"[object DataView]":if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=r.byteLength||!i(new bt(e),new bt(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return yn(+e,+r);case"[object Error]":return e.name==r.name&&e.message==r.message;case"[object RegExp]":case"[object String]":return e==r+"";case"[object Map]":var c=Wt;case"[object Set]":if(c||(c=sr),e.size!=r.size&&!(1&n))return!1;var E=s.get(e);if(E)return E==r;n|=2,s.set(e,r);var A=Xe(c(e),c(r),n,o,i,s);return s.delete(e),A;case"[object Symbol]":if(Xl)return Xl.call(e)==Xl.call(r)}return!1};var Yl=function gm(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e},Fr=Array.isArray;var rd=function bm(e,r,t){var n=r(e);return Fr(e)?n:Yl(n,t(e))};var Em=function Om(e,r){for(var t=-1,n=null==e?0:e.length,o=0,i=[];++t<n;){var s=e[t];r(s,t,e)&&(i[o++]=s)}return i};var nd=function xm(){return[]},Pm=Object.prototype.propertyIsEnumerable,od=Object.getOwnPropertySymbols,Mm=od?function(e){return null==e?[]:(e=Object(e),Em(od(e),function(r){return Pm.call(e,r)}))}:nd,Wl=Mm;var Am=function wm(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n};var zn=function Tm(e){return null!=e&&"object"==typeof e};var id=function Dm(e){return zn(e)&&"[object Arguments]"==sn(e)},ad=Object.prototype,Cm=ad.hasOwnProperty,jm=ad.propertyIsEnumerable,Rm=id(function(){return arguments}())?id:function(e){return zn(e)&&Cm.call(e,"callee")&&!jm.call(e,"callee")},Sa=Rm,Pa=a(48),Bm=/^(?:0|[1-9]\d*)$/;var au=function Lm(e,r){var t=typeof e;return!!(r=r??9007199254740991)&&("number"==t||"symbol"!=t&&Bm.test(e))&&e>-1&&e%1==0&&e<r};var $l=function Fm(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},er={};er["[object Float32Array]"]=er["[object Float64Array]"]=er["[object Int8Array]"]=er["[object Int16Array]"]=er["[object Int32Array]"]=er["[object Uint8Array]"]=er["[object Uint8ClampedArray]"]=er["[object Uint16Array]"]=er["[object Uint32Array]"]=!0,er["[object Arguments]"]=er["[object Array]"]=er["[object ArrayBuffer]"]=er["[object Boolean]"]=er["[object DataView]"]=er["[object Date]"]=er["[object Error]"]=er["[object Function]"]=er["[object Map]"]=er["[object Number]"]=er["[object Object]"]=er["[object RegExp]"]=er["[object Set]"]=er["[object String]"]=er["[object WeakMap]"]=!1;var fb=function lb(e){return zn(e)&&$l(e.length)&&!!er[sn(e)]};var Kl=function cb(e){return function(r){return e(r)}},Bi=a(49),ud=Bi.a&&Bi.a.isTypedArray,Vl=ud?Kl(ud):fb,hb=Object.prototype.hasOwnProperty;var sd=function vb(e,r){var t=Fr(e),n=!t&&Sa(e),o=!t&&!n&&Object(Pa.a)(e),i=!t&&!n&&!o&&Vl(e),s=t||n||o||i,c=s?Am(e.length,String):[],g=c.length;for(var E in e)(r||hb.call(e,E))&&(!s||!("length"==E||o&&("offset"==E||"parent"==E)||i&&("buffer"==E||"byteLength"==E||"byteOffset"==E)||au(E,g)))&&c.push(E);return c},yb=Object.prototype;var uu=function gb(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||yb)};var ld=function mb(e,r){return function(t){return e(r(t))}},Ob=ld(Object.keys,Object),xb=Object.prototype.hasOwnProperty;var Pb=function Sb(e){if(!uu(e))return Ob(e);var r=[];for(var t in Object(e))xb.call(e,t)&&"constructor"!=t&&r.push(t);return r};var ei=function Mb(e){return null!=e&&$l(e.length)&&!Wo(e)};var Li=function wb(e){return ei(e)?sd(e):Pb(e)};var Zl=function Ab(e){return rd(e,Li,Wl)},Db=Object.prototype.hasOwnProperty;var jb=function Cb(e,r,t,n,o,i){var s=1&t,c=Zl(e),g=c.length;if(g!=Zl(r).length&&!s)return!1;for(var R=g;R--;){var k=c[R];if(!(s?k in r:Db.call(r,k)))return!1}var V=i.get(e),ue=i.get(r);if(V&&ue)return V==r&&ue==e;var ce=!0;i.set(e,r),i.set(r,e);for(var ye=s;++R<g;){var pe=e[k=c[R]],Ge=r[k];if(n)var Be=s?n(Ge,pe,k,r,e,i):n(pe,Ge,k,e,r,i);if(!(void 0===Be?pe===Ge||o(pe,Ge,t,n,i):Be)){ce=!1;break}ye||(ye="constructor"==k)}if(ce&&!ye){var Le=e.constructor,lt=r.constructor;Le!=lt&&"constructor"in e&&"constructor"in r&&!("function"==typeof Le&&Le instanceof Le&&"function"==typeof lt&&lt instanceof lt)&&(ce=!1)}return i.delete(e),i.delete(r),ce},Jl=cn(Ar.a,"DataView"),Ql=cn(Ar.a,"Promise"),_l=cn(Ar.a,"Set"),ql=cn(Ar.a,"WeakMap"),fd="[object Map]",cd="[object Promise]",dd="[object Set]",pd="[object WeakMap]",hd="[object DataView]",Fb=ln(Jl),Gb=ln(io),Hb=ln(Ql),kb=ln(_l),Ub=ln(ql),ti=sn;(Jl&&ti(new Jl(new ArrayBuffer(1)))!=hd||io&&ti(new io)!=fd||Ql&&ti(Ql.resolve())!=cd||_l&&ti(new _l)!=dd||ql&&ti(new ql)!=pd)&&(ti=function(e){var r=sn(e),t="[object Object]"==r?e.constructor:void 0,n=t?ln(t):"";if(n)switch(n){case Fb:return hd;case Gb:return fd;case Hb:return cd;case kb:return dd;case Ub:return pd}return r});var Ma=ti,vd="[object Arguments]",yd="[object Array]",su="[object Object]",gd=Object.prototype.hasOwnProperty;var $b=function Wb(e,r,t,n,o,i){var s=Fr(e),c=Fr(r),g=s?yd:Ma(e),E=c?yd:Ma(r),A=(g=g==vd?su:g)==su,R=(E=E==vd?su:E)==su,k=g==E;if(k&&Object(Pa.a)(e)){if(!Object(Pa.a)(r))return!1;s=!0,A=!1}if(k&&!A)return i||(i=new me),s||Vl(e)?Xe(e,r,t,n,o,i):ym(e,r,g,t,n,o,i);if(!(1&t)){var V=A&&gd.call(e,"__wrapped__"),ue=R&&gd.call(r,"__wrapped__");if(V||ue){var ce=V?e.value():e,ye=ue?r.value():r;return i||(i=new me),o(ce,ye,t,n,i)}}return!!k&&(i||(i=new me),jb(e,r,t,n,o,i))};var ef=function md(e,r,t,n,o){return e===r||(null==e||null==r||!zn(e)&&!zn(r)?e!=e&&r!=r:$b(e,r,t,n,md,o))};var Jb=function Zb(e,r,t,n){var o=t.length,i=o,s=!n;if(null==e)return!i;for(e=Object(e);o--;){var c=t[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var g=(c=t[o])[0],E=e[g],A=c[1];if(s&&c[2]){if(void 0===E&&!(g in e))return!1}else{var R=new me;if(n)var k=n(E,A,g,e,r,R);if(!(void 0===k?ef(A,E,3,n,R):k))return!1}}return!0};var bd=function Qb(e){return e==e&&!Pr(e)};var qb=function _b(e){for(var r=Li(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,bd(o)]}return r};var Od=function eO(e,r){return function(t){return null!=t&&t[e]===r&&(void 0!==r||e in Object(t))}};var rO=function tO(e){var r=qb(e);return 1==r.length&&r[0][2]?Od(r[0][0],r[0][1]):function(t){return t===e||Jb(t,e,r)}};var lu=function oO(e){return"symbol"==typeof e||zn(e)&&"[object Symbol]"==sn(e)},iO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aO=/^\w*$/;var tf=function uO(e,r){if(Fr(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!lu(e))||aO.test(e)||!iO.test(e)||null!=r&&e in Object(r)};function rf(e,r){if("function"!=typeof e||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=t.cache;if(i.has(o))return i.get(o);var s=e.apply(this,n);return t.cache=i.set(o,s)||i,s};return t.cache=new(rf.Cache||S),t}rf.Cache=S;var lO=rf;var pO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hO=/\\(\\)?/g,vO=function cO(e){var r=lO(e,function(n){return 500===t.size&&t.clear(),n}),t=r.cache;return r}(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(pO,function(t,n,o,i){r.push(o?i.replace(hO,"$1"):n||t)}),r}),yO=vO,Ed=Or?Or.prototype:void 0,xd=Ed?Ed.toString:void 0;var mO=function Sd(e){if("string"==typeof e)return e;if(Fr(e))return Go(e,Sd)+"";if(lu(e))return xd?xd.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r};var OO=function bO(e){return null==e?"":mO(e)};var fu=function EO(e,r){return Fr(e)?e:tf(e,r)?[e]:yO(OO(e))};var wa=function SO(e){if("string"==typeof e||lu(e))return e;var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r};var nf=function PO(e,r){for(var t=0,n=(r=fu(r,e)).length;null!=e&&t<n;)e=e[wa(r[t++])];return t&&t==n?e:void 0};var Pd=function MO(e,r,t){var n=null==e?void 0:nf(e,r);return void 0===n?t:n};var AO=function wO(e,r){return null!=e&&r in Object(e)};var NO=function TO(e,r,t){for(var n=-1,o=(r=fu(r,e)).length,i=!1;++n<o;){var s=wa(r[n]);if(!(i=null!=e&&t(e,s)))break;e=e[s]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&$l(o)&&au(s,o)&&(Fr(e)||Sa(e))};var Md=function DO(e,r){return null!=e&&NO(e,r,AO)};var IO=function RO(e,r){return tf(e)&&bd(r)?Od(wa(e),r):function(t){var n=Pd(t,e);return void 0===n&&n===r?Md(t,e):ef(r,n,3)}};var of=function BO(e){return e};var zO=function LO(e){return function(r){return r?.[e]}};var GO=function FO(e){return function(r){return nf(r,e)}};var kO=function HO(e){return tf(e)?zO(wa(e)):GO(e)};var XO=function UO(e){return"function"==typeof e?e:null==e?of:"object"==typeof e?Fr(e)?IO(e[0],e[1]):rO(e):kO(e)};var wd=function YO(e){return function(r,t,n){for(var o=-1,i=Object(r),s=n(r),c=s.length;c--;){var g=s[e?c:++o];if(!1===t(i[g],g,i))break}return r}}();var _O=function ZO(e,r){return function(t,n){if(null==t)return t;if(!ei(t))return e(t,n);for(var o=t.length,i=r?o:-1,s=Object(t);(r?i--:++i<o)&&!1!==n(s[i],i,s););return t}}(function KO(e,r){return e&&wd(e,r,Li)});var eE=function qO(e,r){var t=-1,n=ei(e)?Array(e.length):[];return _O(e,function(o,i,s){n[++t]=r(o,i,s)}),n};var cu=function tE(e,r){return(Fr(e)?Go:eE)(e,XO(r,3))},rE=function(){try{var e=cn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),du=rE;var af=function nE(e,r,t){"__proto__"==r&&du?du(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t},iE=Object.prototype.hasOwnProperty;var pu=function aE(e,r,t){var n=e[r];(!iE.call(e,r)||!yn(n,t)||void 0===t&&!(r in e))&&af(e,r,t)};var zi=function uE(e,r,t,n){var o=!t;t||(t={});for(var i=-1,s=r.length;++i<s;){var c=r[i],g=n?n(t[c],e[c],c,t,e):void 0;void 0===g&&(g=e[c]),o?af(t,c,g):pu(t,c,g)}return t};var lE=function sE(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)},Ad=Math.max;var Td=function fE(e,r,t){return r=Ad(void 0===r?e.length-1:r,0),function(){for(var n=arguments,o=-1,i=Ad(n.length-r,0),s=Array(i);++o<i;)s[o]=n[r+o];o=-1;for(var c=Array(r+1);++o<r;)c[o]=n[o];return c[r]=t(s),lE(e,this,c)}};var dE=function cE(e){return function(){return e}},pE=du?function(e,r){return du(e,"toString",{configurable:!0,enumerable:!1,value:dE(r),writable:!0})}:of,gE=Date.now;var Nd=function mE(e){var r=0,t=0;return function(){var n=gE(),o=16-(n-t);if(t=n,o>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}(pE);var xE=function EE(e,r){return Nd(Td(e,r,of),e+"")};var PE=function SE(e,r,t){if(!Pr(t))return!1;var n=typeof r;return!!("number"==n?ei(t)&&au(r,t.length):"string"==n&&r in t)&&yn(t[r],e)};var Dd=function ME(e){return xE(function(r,t){var n=-1,o=t.length,i=o>1?t[o-1]:void 0,s=o>2?t[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&PE(t[0],t[1],s)&&(i=o<3?void 0:i,o=1),r=Object(r);++n<o;){var c=t[n];c&&e(r,c,n,i)}return r})},AE=Object.prototype.hasOwnProperty,TE=Dd(function(e,r){if(uu(r)||ei(r))zi(r,Li(r),e);else for(var t in r)AE.call(r,t)&&pu(e,t,r[t])}),Gr=TE;var DE=function NE(e,r,t,n){if(!Pr(e))return e;for(var o=-1,i=(r=fu(r,e)).length,s=i-1,c=e;null!=c&&++o<i;){var g=wa(r[o]),E=t;if("__proto__"===g||"constructor"===g||"prototype"===g)return e;if(o!=s){var A=c[g];void 0===(E=n?n(A,g,c):void 0)&&(E=Pr(A)?A:au(r[o+1])?[]:{})}pu(c,g,E),c=c[g]}return e};var jE=function CE(e,r,t){for(var n=-1,o=r.length,i={};++n<o;){var s=r[n],c=nf(e,s);t(c,s)&&DE(i,fu(s,e),c)}return i};var IE=function RE(e,r){return jE(e,r,function(t,n){return Md(e,n)})},Cd=Or?Or.isConcatSpreadable:void 0;var LE=function BE(e){return Fr(e)||Sa(e)||!!(Cd&&e&&e[Cd])};var zE=function jd(e,r,t,n,o){var i=-1,s=e.length;for(t||(t=LE),o||(o=[]);++i<s;){var c=e[i];r>0&&t(c)?r>1?jd(c,r-1,t,n,o):Yl(o,c):n||(o[o.length]=c)}return o};var GE=function FE(e){return null!=e&&e.length?zE(e,1):[]};var ir,Rd,Id,Bd,Ld,zd,Fd,Gd,Hd,kd,Ud,Xd,Yd,Wd,$d,Kd,Vd,Zd,UE=function HE(e){return Nd(Td(e,void 0,GE),e+"")}(function(e,r){return null==e?{}:IE(e,r)}),Aa=UE;function Mr(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Jd(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qd(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function xr(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var lr,qd,ep,tp,rp,np,op,ip,WE={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},uf=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],_d=(ir=function(){function e(r){(function XE(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Mr(this,"isSilentMode",Rd,this),Mr(this,"stopZoomGraph",Id,this),Mr(this,"stopScrollGraph",Bd,this),Mr(this,"stopMoveGraph",Ld,this),Mr(this,"adjustEdge",zd,this),Mr(this,"adjustEdgeMiddle",Fd,this),Mr(this,"adjustEdgeStartAndEnd",Gd,this),Mr(this,"adjustNodePosition",Hd,this),Mr(this,"hideAnchors",kd,this),Mr(this,"hoverOutline",Ud,this),Mr(this,"nodeSelectedOutline",Xd,this),Mr(this,"edgeSelectedOutline",Yd,this),Mr(this,"nodeTextEdit",Wd,this),Mr(this,"edgeTextEdit",$d,this),Mr(this,"nodeTextDraggable",Kd,this),Mr(this,"edgeTextDraggable",Vd,this),Mr(this,"autoExpand",Zd,this),Qd(this,"multipleSelectKey",""),Qd(this,"defaultConfig",{}),Gr(this,this.getConfigDetail(r))}return function YE(e,r,t){return r&&Jd(e.prototype,r),t&&Jd(e,t),e}(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);Gr(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,i={};if(!1===n&&Gr(i,this.defaultConfig),!0===n){var s=Aa(WE,uf);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Gr(i,s)}!1===o&&Gr(i,{nodeTextEdit:!1,edgeTextEdit:!1});var c=Aa(t,uf);return Gr(i,c)}},{key:"getConfig",value:function(){return Aa(this,uf)}}]),e}(),Rd=xr(ir.prototype,"isSilentMode",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Id=xr(ir.prototype,"stopZoomGraph",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bd=xr(ir.prototype,"stopScrollGraph",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ld=xr(ir.prototype,"stopMoveGraph",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zd=xr(ir.prototype,"adjustEdge",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fd=xr(ir.prototype,"adjustEdgeMiddle",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gd=xr(ir.prototype,"adjustEdgeStartAndEnd",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hd=xr(ir.prototype,"adjustNodePosition",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kd=xr(ir.prototype,"hideAnchors",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ud=xr(ir.prototype,"hoverOutline",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xd=xr(ir.prototype,"nodeSelectedOutline",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yd=xr(ir.prototype,"edgeSelectedOutline",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wd=xr(ir.prototype,"nodeTextEdit",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$d=xr(ir.prototype,"edgeTextEdit",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kd=xr(ir.prototype,"nodeTextDraggable",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vd=xr(ir.prototype,"edgeTextDraggable",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zd=xr(ir.prototype,"autoExpand",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xr(ir.prototype,"updateEditConfig",[y.k],Object.getOwnPropertyDescriptor(ir.prototype,"updateEditConfig"),ir.prototype),ir),Kt=(a(77),(()=>(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Kt||(Kt={})),Kt))()),Ht=(()=>(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(Ht||(Ht={})),Ht))(),pr=(()=>(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(pr||(pr={})),pr))(),Tt=(()=>(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(Tt||(Tt={})),Tt))(),Zt=(()=>(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(Zt||(Zt={})),Zt))(),Kr=(()=>(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"}(Kr||(Kr={})),Kr))();function hu(e,r){return function JE(e){if(Array.isArray(e))return e}(e)||function ZE(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function VE(e,r){if(e){if("string"==typeof e)return ap(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ap(e,r)}}(e,r)||function KE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ap(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ri(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function up(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function En(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var qE=(lr=function(){function e(r){(function QE(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),lf(this,"MINI_SCALE_SIZE",.2),lf(this,"MAX_SCALE_SIZE",16),ri(this,"SCALE_X",qd,this),ri(this,"SKEW_Y",ep,this),ri(this,"SKEW_X",tp,this),ri(this,"SCALE_Y",rp,this),ri(this,"TRANSLATE_X",np,this),ri(this,"TRANSLATE_Y",op,this),ri(this,"ZOOM_SIZE",ip,this),lf(this,"eventCenter",void 0),this.eventCenter=r}return function _E(e,r,t){return r&&up(e.prototype,r),t&&up(e,t),e}(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=hu(t,2);return[(n[0]-this.TRANSLATE_X)/this.SCALE_X,(n[1]-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=hu(t,2);return[n[0]*this.SCALE_X+this.TRANSLATE_X,n[1]*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var i=hu(t,2);return[i[0]+n/this.SCALE_X,i[1]+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,i=this.SCALE_Y;return!0===t?(o+=this.ZOOM_SIZE,i+=this.ZOOM_SIZE):!1===t?(o-=this.ZOOM_SIZE,i-=this.ZOOM_SIZE):"number"==typeof t&&(o=t,i=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(i-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=i,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(Tt.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,i){var c=hu(this.CanvasPointToHtmlPoint([t,n]),2),R=i/2-c[1];this.TRANSLATE_X+=o/2-c[0],this.TRANSLATE_Y+=R,this.emitGraphTransform("focusOn")}}]),e}(),qd=En(lr.prototype,"SCALE_X",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ep=En(lr.prototype,"SKEW_Y",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tp=En(lr.prototype,"SKEW_X",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rp=En(lr.prototype,"SCALE_Y",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),np=En(lr.prototype,"TRANSLATE_X",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),op=En(lr.prototype,"TRANSLATE_Y",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ip=En(lr.prototype,"ZOOM_SIZE",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),En(lr.prototype,"zoom",[y.k],Object.getOwnPropertyDescriptor(lr.prototype,"zoom"),lr.prototype),En(lr.prototype,"resetZoom",[y.k],Object.getOwnPropertyDescriptor(lr.prototype,"resetZoom"),lr.prototype),En(lr.prototype,"translate",[y.k],Object.getOwnPropertyDescriptor(lr.prototype,"translate"),lr.prototype),En(lr.prototype,"focusOn",[y.k],Object.getOwnPropertyDescriptor(lr.prototype,"focusOn"),lr.prototype),lr);var tx=function ex(e,r){for(var t=-1,n=null==e?0:e.length;++t<n&&!1!==r(e[t],t,e););return e};var nx=function rx(e,r){return e&&zi(r,Li(r),e)};var ix=function ox(e){var r=[];if(null!=e)for(var t in Object(e))r.push(t);return r},ux=Object.prototype.hasOwnProperty;var lx=function sx(e){if(!Pr(e))return ix(e);var r=uu(e),t=[];for(var n in e)"constructor"==n&&(r||!ux.call(e,n))||t.push(n);return t};var Ta=function fx(e){return ei(e)?sd(e,!0):lx(e)};var dx=function cx(e,r){return e&&zi(r,Ta(r),e)},sp=a(106);var lp=function px(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r};var vx=function hx(e,r){return zi(e,Wl(e),r)},ff=ld(Object.getPrototypeOf,Object),mx=Object.getOwnPropertySymbols?function(e){for(var r=[];e;)Yl(r,Wl(e)),e=ff(e);return r}:nd,fp=mx;var Ox=function bx(e,r){return zi(e,fp(e),r)};var xx=function Ex(e){return rd(e,Ta,fp)},Px=Object.prototype.hasOwnProperty;var wx=function Mx(e){var r=e.length,t=new e.constructor(r);return r&&"string"==typeof e[0]&&Px.call(e,"index")&&(t.index=e.index,t.input=e.input),t};var cf=function Ax(e){var r=new e.constructor(e.byteLength);return new bt(r).set(new bt(e)),r};var Nx=function Tx(e,r){var t=r?cf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)},Dx=/\w*$/;var jx=function Cx(e){var r=new e.constructor(e.source,Dx.exec(e));return r.lastIndex=e.lastIndex,r},cp=Or?Or.prototype:void 0,dp=cp?cp.valueOf:void 0;var Ix=function Rx(e){return dp?Object(dp.call(e)):{}};var pp=function Bx(e,r){var t=r?cf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)};var rS=function tS(e,r,t){var n=e.constructor;switch(r){case"[object ArrayBuffer]":return cf(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return Nx(e,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return pp(e,t);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return jx(e);case"[object Symbol]":return Ix(e)}},hp=Object.create,nS=function(){function e(){}return function(r){if(!Pr(r))return{};if(hp)return hp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),oS=nS;var vp=function iS(e){return"function"!=typeof e.constructor||uu(e)?{}:oS(ff(e))};var sS=function uS(e){return zn(e)&&"[object Map]"==Ma(e)},yp=Bi.a&&Bi.a.isMap,fS=yp?Kl(yp):sS;var pS=function dS(e){return zn(e)&&"[object Set]"==Ma(e)},gp=Bi.a&&Bi.a.isSet,vS=gp?Kl(gp):pS,mp="[object Arguments]",bp="[object Function]",Op="[object Object]",qt={};qt[mp]=qt["[object Array]"]=qt["[object ArrayBuffer]"]=qt["[object DataView]"]=qt["[object Boolean]"]=qt["[object Date]"]=qt["[object Float32Array]"]=qt["[object Float64Array]"]=qt["[object Int8Array]"]=qt["[object Int16Array]"]=qt["[object Int32Array]"]=qt["[object Map]"]=qt["[object Number]"]=qt[Op]=qt["[object RegExp]"]=qt["[object Set]"]=qt["[object String]"]=qt["[object Symbol]"]=qt["[object Uint8Array]"]=qt["[object Uint8ClampedArray]"]=qt["[object Uint16Array]"]=qt["[object Uint32Array]"]=!0,qt["[object Error]"]=qt[bp]=qt["[object WeakMap]"]=!1;var US=function vu(e,r,t,n,o,i){var s,c=1&r,g=2&r,E=4&r;if(t&&(s=o?t(e,n,o,i):t(e)),void 0!==s)return s;if(!Pr(e))return e;var A=Fr(e);if(A){if(s=wx(e),!c)return lp(e,s)}else{var R=Ma(e),k=R==bp||"[object GeneratorFunction]"==R;if(Object(Pa.a)(e))return Object(sp.a)(e,c);if(R==Op||R==mp||k&&!o){if(s=g||k?{}:vp(e),!c)return g?Ox(e,dx(s,e)):vx(e,nx(s,e))}else{if(!qt[R])return o?e:{};s=rS(e,R,c)}}i||(i=new me);var V=i.get(e);if(V)return V;i.set(e,s),vS(e)?e.forEach(function(ye){s.add(vu(ye,r,t,ye,e,i))}):fS(e)&&e.forEach(function(ye,pe){s.set(pe,vu(ye,r,t,pe,e,i))});var ce=A?void 0:(E?g?xx:Zl:g?Ta:Li)(e);return tx(ce||e,function(ye,pe){ce&&(ye=e[pe=ye]),pu(s,pe,vu(ye,r,t,pe,e,i))}),s};var or=function WS(e){return US(e,5)};var df=function $S(e,r,t){(void 0!==t&&!yn(e[r],t)||void 0===t&&!(r in e))&&af(e,r,t)};var VS=function KS(e){return zn(e)&&ei(e)},Ep=Function.prototype.toString,_S=Object.prototype.hasOwnProperty,qS=Ep.call(Object);var tP=function eP(e){if(!zn(e)||"[object Object]"!=sn(e))return!1;var r=ff(e);if(null===r)return!0;var t=_S.call(r,"constructor")&&r.constructor;return"function"==typeof t&&t instanceof t&&Ep.call(t)==qS};var pf=function rP(e,r){if(("constructor"!==r||"function"!=typeof e[r])&&"__proto__"!=r)return e[r]};var oP=function nP(e){return zi(e,Ta(e))};var aP=function iP(e,r,t,n,o,i,s){var c=pf(e,t),g=pf(r,t),E=s.get(g);if(E)df(e,t,E);else{var A=i?i(c,g,t+"",e,r,s):void 0,R=void 0===A;if(R){var k=Fr(g),V=!k&&Object(Pa.a)(g),ue=!k&&!V&&Vl(g);A=g,k||V||ue?Fr(c)?A=c:VS(c)?A=lp(c):V?(R=!1,A=Object(sp.a)(g,!0)):ue?(R=!1,A=pp(g,!0)):A=[]:tP(g)||Sa(g)?(A=c,Sa(c)?A=oP(c):(!Pr(c)||Wo(c))&&(A=vp(g))):R=!1}R&&(s.set(g,A),o(A,g,n,i,s),s.delete(g)),df(e,t,A)}};var uP=function xp(e,r,t,n,o){e!==r&&wd(r,function(i,s){if(o||(o=new me),Pr(i))aP(e,r,s,t,xp,n,o);else{var c=n?n(pf(e,s),i,s+"",e,r,o):void 0;void 0===c&&(c=i),df(e,s,c)}},Ta)},sP=Dd(function(e,r,t){uP(e,r,t)}),Sp=sP,lP={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Pp=function(r){var t=or(lP);return r&&(t=Sp(t,r)),t};function Mp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}a(78),a(158);var hP=function(){function e(){(function fP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),function dP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}(this,"_events",{})}return function cP(e,r,t){return r&&Mp(e.prototype,r),t&&Mp(e,t),e}(e,[{key:"on",value:function(t,n,o){var i=this;return t?.split(",").forEach(function(s){s=s.trim(),i._events[s]||(i._events[s]=[]),i._events[s].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t?.split(",").forEach(function(i){return i=i.trim(),o.on(i,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t?.split(",").forEach(function(i){var c=o._events["*"]||[],g=function(A){for(var R=A.length,k=0;k<R;k++)if(A[k]){var V=A[k],ue=V.callback;V.once&&(A.splice(k,1),0===A.length&&delete o._events[i],R--,k--),ue.apply(o,[n])}};g(o._events[i]||[]),g(c)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(i){if(n){for(var s=o._events[i]||[],c=s.length,g=0;g<c;g++)s[g].callback===n&&(s.splice(g,1),c--,g--);0===s.length&&delete o._events[i]}else delete o._events[i]}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function To(e,r){return r*Math.round(e/r)||e}function wp(e,r){return e%r}function hf(e,r){return function mP(e){if(Array.isArray(e))return e}(e)||function gP(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function yP(e,r){if(e){if("string"==typeof e)return Ap(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ap(e,r)}}(e,r)||function vP(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ap(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var yu,vf=function(r,t,n){var o=hf(r,2),i=o[0],s=o[1],c=hf(t,2),g=c[0],E=c[1],A=hf(n,2);return i>g&&i<A[0]&&s>E&&s<A[1]},Tp=function(r,t){var o=!1;switch(t.multipleSelectKey){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;case"ctrl":o=r.ctrlKey;break;default:o=!1}return o},bP=(a(79),a(161),a(125),a(80),a(30),a(12),a(13),a(14),a(47),new Uint8Array(16));function OP(){if(!yu&&!(yu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yu(bP)}var EP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var SP=function xP(e){return"string"==typeof e&&EP.test(e)},wr=[],yf=0;yf<256;++yf)wr.push((yf+256).toString(16).substr(1));var MP=function PP(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(wr[e[r+0]]+wr[e[r+1]]+wr[e[r+2]]+wr[e[r+3]]+"-"+wr[e[r+4]]+wr[e[r+5]]+"-"+wr[e[r+6]]+wr[e[r+7]]+"-"+wr[e[r+8]]+wr[e[r+9]]+"-"+wr[e[r+10]]+wr[e[r+11]]+wr[e[r+12]]+wr[e[r+13]]+wr[e[r+14]]+wr[e[r+15]]).toLowerCase();if(!SP(t))throw TypeError("Stringified UUID is invalid");return t};var gf=function wP(e,r,t){var n=(e=e||{}).random||(e.rng||OP)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return MP(n)},ni=function(){return gf()},AP=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=r.nodes.reduce(function(o,i){return o[i.id]=t+gf(),i.id=o[i.id],o},{});return r.edges.forEach(function(o){o.id=t+gf(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r},TP=(a(104),a(203),function(r,t,n,o){var i=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(0===i)return!1;var s=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/i,c=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/i;return(s-r.x)*(s-t.x)<=0&&(c-r.y)*(c-t.y)<=0&&(s-n.x)*(s-o.x)<=0&&(c-n.y)*(c-o.y)<=0&&{x:s,y:c}}),Na=function(r,t,n){var o=r.x,i=r.y;return(o-t.x)*(o-n.x)<=0&&(i-t.y)*(i-n.y)<=0};function gu(e){return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Np(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Dp(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Np(Object(t),!0).forEach(function(n){NP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Np(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function NP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Re,zp,Fp,Gp,Hp,kp,Up,Xp,Yp,Wp,$p,Kp,Vp,Zp,Jp,Qp,_p,qp,eh,th,mf=function(r){return r.anchors},mu=function(r,t){for(var o,n=t.nodes,i=n.length-1;i>=0;i--){var s=n[i];if(jP(r,s)){var g=CP(r,s);if(g){var E={node:s,anchorIndex:g.index,anchor:g.anchor};(!o||DP(s,o.node,t))&&(o=E)}}}return o},DP=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},CP=function(r,t){for(var o,n=mf(t),i=Number.MAX_SAFE_INTEGER,s=0;s<n.length;s++){var c=Fn(r.x,r.y,n[s].x,n[s].y);c<i&&(i=c,o={index:s,anchor:Dp(Dp({},n[s]),{},{x:n[s].x,y:n[s].y,id:n[s].id})})}return o},Fn=function(r,t,n,o){return Math.hypot(r-n,t-o)},No=function(r,t){var n=!1,i=Qr(t);return r.x>=i.minX-0&&r.x<=i.maxX+0&&r.y>=i.minY-0&&r.y<=i.maxY+0&&(n=!0),n},jP=function(r,t){var n=!1,i=Qr(t);return r.x>=i.minX-5&&r.x<=i.maxX+5&&r.y>=i.minY-5&&r.y<=i.maxY+5&&(n=!0),n},Qr=function(r){var t=r.x,n=r.y,o=r.width,i=r.height;return{minX:t-o/2,minY:n-i/2,maxX:t+o/2,maxY:n+i/2,x:t,y:n,width:o,height:i,centerX:t,centerY:n}},Cp=function(r,t,n){var i,o=function(r){var n=r.x,o=r.y,i=r.width,s=r.height,c=r.radius;return[{x:n-i/2+c,y:o-s/2+c,r:c},{x:n+i/2-c,y:o-s/2+c,r:c},{x:n-i/2+c,y:o+s/2-c,r:c},{x:n+i/2-c,y:o+s/2-c,r:c}]}(n),s=Number.MAX_SAFE_INTEGER;return o.forEach(function(g){var E=Fn(r.x,r.y,g.x,g.y);E<s&&(s=E,i=g)}),bf(r,t,i)},bf=function(r,t,n){var o,s=n.x,c=n.y,g=n.r;if(t===Zt.HORIZONTAL){var E=s-Math.sqrt(g*g-(r.y-c)*(r.y-c)),A=s+Math.sqrt(g*g-(r.y-c)*(r.y-c));o={x:Math.abs(E-r.x)<Math.abs(A-r.x)?E:A,y:r.y}}else if(t===Zt.VERTICAL){var k=c-Math.sqrt(g*g-(r.x-s)*(r.x-s)),V=c+Math.sqrt(g*g-(r.x-s)*(r.x-s)),ue=Math.abs(k-r.y)<Math.abs(V-r.y)?k:V;o={x:r.x,y:ue}}return o},jp=function(r,t){var o=!1,s=t.x,c=t.y,g=t.width,E=t.height;return r.y===c+E/2||r.y===c-E/2?o=r.x>t.x-t.width/2+t.radius&&r.x<t.x+t.width/2-t.radius:(r.x===s+g/2||r.x===s-g/2)&&(o=r.y>t.y-t.height/2+t.radius&&r.y<t.y+t.height/2-t.radius),o},Rp=function(r,t,n){var o,s=n.x,c=n.y,g=n.rx,E=n.ry;if(t===Zt.HORIZONTAL){var A=s-Math.sqrt(g*g-(r.y-c)*(r.y-c)*g*g/(E*E)),R=s+Math.sqrt(g*g-(r.y-c)*(r.y-c)*g*g/(E*E));o={x:Math.abs(A-r.x)<Math.abs(R-r.x)?A:R,y:r.y}}else if(t===Zt.VERTICAL){var V=c-Math.sqrt(E*E-(r.x-s)*(r.x-s)*E*E/(g*g)),ue=c+Math.sqrt(E*E-(r.x-s)*(r.x-s)*E*E/(g*g)),ce=Math.abs(V-r.y)<Math.abs(ue-r.y)?V:ue;o={x:r.x,y:ce}}return o},bu=function(r,t,n){for(var c,i=n.pointsPosition,s=Number.MAX_SAFE_INTEGER,g=[],E=0;E<i.length;E++)g.push({start:i[E],end:i[(E+1)%i.length]});return g.forEach(function(A){var R=A.start,k=A.end,V=R,ue=k;R.x>k.x&&(V=k,ue=R);var ce={x:r.x,y:r.y};if(V.x===ue.x&&t===Zt.HORIZONTAL&&(ce={x:V.x,y:r.y}),V.y===ue.y&&t===Zt.VERTICAL&&(ce={x:r.x,y:V.y}),V.x!==ue.x&&V.y!==ue.y){var ye=(ue.y-V.y)/(ue.x-V.x),pe=(V.x*ue.y-ue.x*V.y)/(V.x-ue.x);t===Zt.HORIZONTAL?ce={x:(r.y-pe)/ye,y:r.y}:t===Zt.VERTICAL&&(ce={x:r.x,y:ye*r.x+pe})}if(Na(ce,R,k)){var Be=Fn(ce.x,ce.y,r.x,r.y);Be<s&&(s=Be,c=ce)}}),c},Ip=function(r,t,n,o){var i=r.x,s=r.y;return t.x>r.x?i=r.x+n/2:t.x<r.x&&(i=r.x-n/2),t.y>r.y?s=r.y+o/2:t.y<r.y&&(s=r.y-o/2),{x:i,y:s}},Bp=function(r){var t=r.rows,n=r.style,o=r.rowsLength,i=r.className,s=document.createElement("div");s.style.fontSize=n.fontSize,s.style.width=n.width,s.className=i,s.style.lineHeight=n.lineHeight,s.style.padding=n.padding,n.fontFamily&&(s.style.fontFamily=n.fontFamily),o>1?t.forEach(function(g){var E=document.createElement("div");E.textContent=g,s.appendChild(E)}):s.textContent=t,document.body.appendChild(s);var c=s.clientHeight;return document.body.removeChild(s),c},Of=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,i=0;return t&&t.forEach(function(s){var c=wh(s);i=c>i?c:i}),{width:Math.ceil(i/2)*o+o/4,height:n*(o+2)+o/4}},Ou=function(r){return"object"!==gu(r)?{isAllPass:!!r,msg:r?"":"\u4e0d\u5141\u8bb8\u8fde\u63a5"}:r},Lp={node:!1,edge:!1},BP={node:!0,edge:!0},LP={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Dr=function(r){try{return JSON.parse(JSON.stringify(r))}catch{return r}},zP=1e3,FP=999,Ef=function(){return++zP};function rh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function xn(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?rh(Object(t),!0).forEach(function(n){_r(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function gr(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function nh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _r(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Mt(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var xf=(Re=function(){function e(r,t){(function HP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),_r(this,"id",ni()),gr(this,"type",zp,this),gr(this,"sourceNodeId",Fp,this),gr(this,"targetNodeId",Gp,this),gr(this,"startPoint",Hp,this),gr(this,"endPoint",kp,this),gr(this,"text",Up,this),gr(this,"properties",Xp,this),gr(this,"points",Yp,this),gr(this,"pointsList",Wp,this),gr(this,"isSelected",$p,this),gr(this,"isHovered",Kp,this),gr(this,"isHitable",Vp,this),gr(this,"draggable",Zp,this),gr(this,"visible",Jp,this),_r(this,"virtual",!1),gr(this,"isAnimation",Qp,this),_r(this,"graphModel",void 0),gr(this,"zIndex",_p,this),_r(this,"BaseType",pr.EDGE),_r(this,"modelType",Ht.EDGE),gr(this,"state",qp,this),_r(this,"additionStateData",void 0),_r(this,"sourceAnchorId",""),_r(this,"targetAnchorId",""),_r(this,"menu",void 0),_r(this,"customTextPosition",!1),_r(this,"animationData",LP),gr(this,"style",eh,this),gr(this,"arrowConfig",th,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return function kP(e,r,t){return r&&nh(e.prototype,r),t&&nh(e,t),e}(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var i=this.createId();i&&(t.id=i)}Gr(this,D0(t)),this.graphModel.overlapMode===Kr.INCREASE&&(this.zIndex=t.zIndex||Ef()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return xn(xn({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){return or(this.graphModel.theme.edgeText)}},{key:"getAnimation",value:function(){return or(this.animationData)}},{key:"getEdgeAnimationStyle",value:function(){return or(this.graphModel.theme.edgeAnimation)}},{key:"getOutlineStyle",value:function(){return or(this.graphModel.theme.outline)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return null===(t=this.graphModel)||void 0===t||null===(n=t.nodesMap[this.sourceNodeId])||void 0===n?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return null===(t=this.graphModel)||void 0===t||null===(n=t.nodesMap[this.targetNodeId])||void 0===n?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,i;return mf(t).forEach(function(c){var g=Nh(c,n);i?g<i&&(i=g,o=c):(i=g,o=c)}),o}},{key:"getEndAnchor",value:function(t){var o,i,n=this;return mf(t).forEach(function(c){var g=Nh(c,n.startPoint);i?g<i&&(i=g,o=c):(i=g,o=c)}),o}},{key:"getProperties",value:function(){return Object(y.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,i=t.value,s={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(y.I)(this.properties)};return i&&(s.text={x:n,y:o,value:i}),this.graphModel.overlapMode===Kr.INCREASE&&(s.zIndex=this.zIndex),s}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=Dr(n),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=xn(xn({},this.properties),Dr(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var n=this.arrowConfig,o=n.markerEnd,i=n.markerStart;i&&i==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,n){this.style=xn(xn({},this.style),{},_r({},t,Dr(n)))}},{key:"setStyles",value:function(t){this.style=xn(xn({},this.style),Dr(t))}},{key:"updateStyles",value:function(t){this.style=xn({},Dr(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,i=n.y;t.text&&"string"!=typeof t.text?"[object Object]"===Object.prototype.toString.call(t.text)&&(this.text={x:t.text.x||o,y:t.text.y||i,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:t.text||"",x:o,y:i,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var t=this.textPosition,o=t.y;this.text.x=t.x,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text;this.text={value:o.value,draggable:o.draggable,x:o.x+t,y:o.y+n,editable:o.editable}}}},{key:"setText",value:function(t){t&&Gr(this.text,t)}},{key:"updateText",value:function(t){this.text=xn(xn({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){this.isSelected=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setHovered",value:function(){this.isHovered=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setHitable",value:function(){this.isHitable=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){this.zIndex=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){Gr(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),zp=Mt(Re.prototype,"type",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fp=Mt(Re.prototype,"sourceNodeId",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gp=Mt(Re.prototype,"targetNodeId",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hp=Mt(Re.prototype,"startPoint",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kp=Mt(Re.prototype,"endPoint",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Up=Mt(Re.prototype,"text",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Xp=Mt(Re.prototype,"properties",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Yp=Mt(Re.prototype,"points",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wp=Mt(Re.prototype,"pointsList",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$p=Mt(Re.prototype,"isSelected",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kp=Mt(Re.prototype,"isHovered",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vp=Mt(Re.prototype,"isHitable",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zp=Mt(Re.prototype,"draggable",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jp=Mt(Re.prototype,"visible",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qp=Mt(Re.prototype,"isAnimation",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_p=Mt(Re.prototype,"zIndex",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),qp=Mt(Re.prototype,"state",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),eh=Mt(Re.prototype,"style",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),th=Mt(Re.prototype,"arrowConfig",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),Mt(Re.prototype,"sourceNode",[y.m],Object.getOwnPropertyDescriptor(Re.prototype,"sourceNode"),Re.prototype),Mt(Re.prototype,"targetNode",[y.m],Object.getOwnPropertyDescriptor(Re.prototype,"targetNode"),Re.prototype),Mt(Re.prototype,"textPosition",[y.m],Object.getOwnPropertyDescriptor(Re.prototype,"textPosition"),Re.prototype),Mt(Re.prototype,"setProperty",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setProperty"),Re.prototype),Mt(Re.prototype,"deleteProperty",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"deleteProperty"),Re.prototype),Mt(Re.prototype,"setProperties",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setProperties"),Re.prototype),Mt(Re.prototype,"changeEdgeId",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"changeEdgeId"),Re.prototype),Mt(Re.prototype,"setStyle",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setStyle"),Re.prototype),Mt(Re.prototype,"setStyles",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setStyles"),Re.prototype),Mt(Re.prototype,"updateStyles",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateStyles"),Re.prototype),Mt(Re.prototype,"formatText",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"formatText"),Re.prototype),Mt(Re.prototype,"resetTextPosition",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"resetTextPosition"),Re.prototype),Mt(Re.prototype,"moveText",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"moveText"),Re.prototype),Mt(Re.prototype,"setText",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setText"),Re.prototype),Mt(Re.prototype,"updateText",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateText"),Re.prototype),Mt(Re.prototype,"setAnchors",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setAnchors"),Re.prototype),Mt(Re.prototype,"setSelected",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setSelected"),Re.prototype),Mt(Re.prototype,"setHovered",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setHovered"),Re.prototype),Mt(Re.prototype,"setHitable",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setHitable"),Re.prototype),Mt(Re.prototype,"openEdgeAnimation",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"openEdgeAnimation"),Re.prototype),Mt(Re.prototype,"closeEdgeAnimation",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"closeEdgeAnimation"),Re.prototype),Mt(Re.prototype,"setElementState",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setElementState"),Re.prototype),Mt(Re.prototype,"updateStartPoint",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateStartPoint"),Re.prototype),Mt(Re.prototype,"moveStartPoint",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"moveStartPoint"),Re.prototype),Mt(Re.prototype,"updateEndPoint",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateEndPoint"),Re.prototype),Mt(Re.prototype,"moveEndPoint",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"moveEndPoint"),Re.prototype),Mt(Re.prototype,"setZIndex",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setZIndex"),Re.prototype),Mt(Re.prototype,"initPoints",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"initPoints"),Re.prototype),Mt(Re.prototype,"updateAttributes",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateAttributes"),Re.prototype),Mt(Re.prototype,"getAdjustStart",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"getAdjustStart"),Re.prototype),Mt(Re.prototype,"getAdjustEnd",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"getAdjustEnd"),Re.prototype),Mt(Re.prototype,"updateAfterAdjustStartAndEnd",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateAfterAdjustStartAndEnd"),Re.prototype),Re),Sf=xf;function Eu(e){return(Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function oh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ih(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?oh(Object(t),!0).forEach(function(n){sh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function UP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ah(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xu(){return xu=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=YP(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},xu.apply(this,arguments)}function YP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=Fi(e)););return e}function WP(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Pf(e,r)}function Pf(e,r){return(Pf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function $P(e){var r=function VP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Fi(e);if(r){var i=Fi(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return KP(this,o)}}function KP(e,r){if(r&&("object"===Eu(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return uh(e)}function uh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fi(e){return(Fi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function sh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Nt,lh,Da=function(e){WP(t,e);var r=$P(t);function t(){var n;UP(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return sh(uh(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.LINE_EDGE),n}return function XP(e,r,t){return r&&ah(e.prototype,r),t&&ah(e,t),e}(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return ih(ih({},xu(Fi(t.prototype),"getEdgeStyle",this).call(this)),or(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(Sf);function Su(e){return(Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ZP(e,r){return function qP(e){if(Array.isArray(e))return e}(e)||function _P(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function QP(e,r){if(e){if("string"==typeof e)return fh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fh(e,r)}}(e,r)||function JP(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fh(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ch(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function dh(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ch(Object(t),!0).forEach(function(n){wf(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ch(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function e0(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function t0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ph(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gi(){return Gi=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=n0(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},Gi.apply(this,arguments)}function n0(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=Do(e)););return e}function o0(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Mf(e,r)}function Mf(e,r){return(Mf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function i0(e){var r=function u0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Do(e);if(r){var i=Do(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return a0(this,o)}}function a0(e,r){if(r&&("object"===Su(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Ca(e)}function Ca(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Do(e){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function wf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Hr(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var Pu=(Nt=function(e){o0(t,e);var r=i0(t);function t(){var n;t0(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return wf(Ca(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.POLYLINE_EDGE),wf(Ca(n),"draginngPointList",void 0),e0(Ca(n),"dbClickPosition",lh,Ca(n)),n}return function r0(e,r,t){return r&&ph(e.prototype,r),t&&ph(e,t),e}(t,[{key:"initEdgeData",value:function(o){this.offset=30,Gi(Do(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return dh(dh({},Gi(Do(t.prototype),"getEdgeStyle",this).call(this)),or(o))}},{key:"getTextPosition",value:function(){var o,i=null===(o=this.text)||void 0===o?void 0:o.value;if(this.dbClickPosition&&!i){var s=this.dbClickPosition;return{x:s.x,y:s.y}}var E=Hi(this.points),R=ZP(w0(E),2),k=R[0],V=R[1];return{x:(k.x+V.x)/2,y:(k.y+V.y)/2}}},{key:"getAfterAnchor",value:function(o,i,s){var c,g;return s.forEach(function(E){var A;o===Zt.HORIZONTAL?A=Math.abs(i.y-E.y):o===Zt.VERTICAL&&(A=Math.abs(i.x-E.x)),(!g||g>A)&&(g=A,c=E)}),c}},{key:"getCorssPoint",value:function(o,i,s){var c;return o===Zt.HORIZONTAL?c={x:s.x,y:i.y}:o===Zt.VERTICAL&&(c={x:i.x,y:s.y}),c}},{key:"removeCrossPoints",value:function(o,i,s){var c=s.map(function(qe){return qe});if(1===o){var g=c[o],E=c[i],A=c[o-1];if(xh(A,g,this.sourceNode)){if(Sh(g,E,this.sourceNode)){var V=Ph(g,E,this.sourceNode);V&&(c[o]=V,c.splice(o-1,1),o--,i--)}}else this.sourceNode.anchors.forEach(function(qe){(qe.x===A.x&&qe.x===g.x||qe.y===A.y&&qe.y===g.y)&&Fn(qe.x,qe.y,g.x,g.y)<Fn(A.x,A.y,g.x,g.y)&&(c[o-1]=qe)})}if(i===s.length-2){var ce=c[o],ye=c[i],pe=c[i+1];if(xh(ye,pe,this.targetNode)){if(Sh(ce,ye,this.targetNode)){var Le=Ph(ce,ye,this.targetNode);Le&&(c[i]=Le,c.splice(i+1,1))}}else this.targetNode.anchors.forEach(function(qe){(qe.x===pe.x&&qe.x===ye.x||qe.y===pe.y&&qe.y===ye.y)&&Fn(qe.x,qe.y,ye.x,ye.y)<Fn(pe.x,pe.y,ye.x,ye.y)&&(c[i+1]=qe)})}return c}},{key:"getDragingPoints",value:function(o,i,s,c,g){var E=g.map(function(k){return k}),A=this.getAfterAnchor(o,s,c),R=this.getCorssPoint(o,s,A);return"start"===i?(E.unshift(R),E.unshift(A)):(E.push(R),E.push(A)),E}},{key:"updateCrossPoints",value:function(o){var i=o.map(function(Le){return Le}),s=o[0],g=o[i.length-2],E=o[i.length-1],A=this.sourceNode,R=this.targetNode,k=A.modelType,V=R.modelType,ue=ju(s,o[1]),ce=i[0];switch(k){case Ht.RECT_NODE:0!==A.radius&&(jp(s,A)||(ce=Cp(s,ue,A)));break;case Ht.CIRCLE_NODE:ce=bf(s,ue,A);break;case Ht.ELLIPSE_NODE:ce=Rp(s,ue,A);break;case Ht.DIAMOND_NODE:case Ht.POLYGON_NODE:ce=bu(s,ue,A)}i[0]=ce;var pe=ju(g,E),Ge=i[i.length-1];switch(V){case Ht.RECT_NODE:0!==R.radius&&(jp(E,R)||(Ge=Cp(E,pe,R)));break;case Ht.CIRCLE_NODE:Ge=bf(E,pe,R);break;case Ht.ELLIPSE_NODE:Ge=Rp(E,pe,R);break;case Ht.DIAMOND_NODE:case Ht.POLYGON_NODE:Ge=bu(E,pe,R)}return i[i.length-1]=Ge,i}},{key:"getData",value:function(){var o=Gi(Do(t.prototype),"getData",this).call(this),i=this.pointsList.map(function(s){return{x:s.x,y:s.y}});return Object.assign({},o,{pointsList:i})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Eh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,i){this.startPoint.x+=o,this.startPoint.y+=i,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,i){this.endPoint.x+=o,this.endPoint.y+=i,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,i){this.isDragging=!0;var s=o.start,c=o.end,g=o.startIndex,E=o.endIndex,A=o.direction,R=this.pointsList,k=R;return A===Zt.HORIZONTAL?(R[g]={x:s.x,y:s.y+i.y},R[E]={x:c.x,y:c.y+i.y},k=this.pointsList.map(function(V){return V})):A===Zt.VERTICAL&&(R[g]={x:s.x+i.x,y:s.y},R[E]={x:c.x+i.x,y:c.y},k=this.pointsList.map(function(V){return V})),this.updatePointsAfterDrag(k),this.draginngPointList=k,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},R[g]),end:Object.assign({},R[E]),startIndex:g,endIndex:E,direction:A}}},{key:"dragAppend",value:function(o,i){this.isDragging=!0;var s=o.start,c=o.end,g=o.startIndex,E=o.endIndex,A=o.direction,R=this.pointsList;if(A===Zt.HORIZONTAL){R[g]={x:s.x,y:s.y+i.y},R[E]={x:c.x,y:c.y+i.y};var k=this.pointsList.map(function(Bt){return Bt});if(0!==g&&E!==this.pointsList.length-1&&(k=this.removeCrossPoints(g,E,k)),0===g){var V={x:s.x,y:s.y+i.y};No(V,this.sourceNode)||(k=this.getDragingPoints(A,"start",V,this.sourceNode.anchors,k))}if(E===this.pointsList.length-1){var ye={x:c.x,y:c.y+i.y};No(ye,this.targetNode)||(k=this.getDragingPoints(A,"end",ye,this.targetNode.anchors,k))}this.updatePointsAfterDrag(k),this.draggingPointList=k}else if(A===Zt.VERTICAL){R[g]={x:s.x+i.x,y:s.y},R[E]={x:c.x+i.x,y:c.y};var Be=this.pointsList.map(function(Bt){return Bt});if(0!==g&&E!==this.pointsList.length-1&&(Be=this.removeCrossPoints(g,E,Be)),0===g){var Le={x:s.x+i.x,y:s.y};No(Le,this.sourceNode)||(Be=this.getDragingPoints(A,"start",Le,this.sourceNode.anchors,Be))}if(E===this.pointsList.length-1){var St={x:c.x+i.x,y:c.y};No(St,this.targetNode)||(Be=this.getDragingPoints(A,"end",St,this.targetNode.anchors,Be))}this.updatePointsAfterDrag(Be),this.draggingPointList=Be}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},R[g]),end:Object.assign({},R[E]),startIndex:g,endIndex:E,direction:A}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=Oh(Hi(this.points));this.pointsList=o.map(function(c){return c}),this.draginngPointList=[],this.startPoint=Object.assign({},o[0]),this.endPoint=Object.assign({},o[o.length-1])}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var i=this.updateCrossPoints(o);this.points=i.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var i=o.startPoint,s=o.endPoint,E=Eh({x:i.x,y:i.y},{x:s.x,y:s.y},o.sourceNode,o.targetNode,this.offset||0);this.pointsList=E,this.initPoints()}}]),t}(Sf),lh=Hr(Nt.prototype,"dbClickPosition",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hr(Nt.prototype,"initPoints",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"initPoints"),Nt.prototype),Hr(Nt.prototype,"updatePoints",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"updatePoints"),Nt.prototype),Hr(Nt.prototype,"updateStartPoint",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"updateStartPoint"),Nt.prototype),Hr(Nt.prototype,"moveStartPoint",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"moveStartPoint"),Nt.prototype),Hr(Nt.prototype,"updateEndPoint",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"updateEndPoint"),Nt.prototype),Hr(Nt.prototype,"moveEndPoint",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"moveEndPoint"),Nt.prototype),Hr(Nt.prototype,"dragAppendStart",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"dragAppendStart"),Nt.prototype),Hr(Nt.prototype,"dragAppendSimple",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"dragAppendSimple"),Nt.prototype),Hr(Nt.prototype,"dragAppend",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"dragAppend"),Nt.prototype),Hr(Nt.prototype,"dragAppendEnd",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"dragAppendEnd"),Nt.prototype),Hr(Nt.prototype,"updatePointsAfterDrag",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"updatePointsAfterDrag"),Nt.prototype),Hr(Nt.prototype,"getAdjustStart",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"getAdjustStart"),Nt.prototype),Hr(Nt.prototype,"getAdjustEnd",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"getAdjustEnd"),Nt.prototype),Hr(Nt.prototype,"updateAfterAdjustStartAndEnd",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"updateAfterAdjustStartAndEnd"),Nt.prototype),Nt),ja=function(r){var t=r.start,n=r.end,o=r.offset,i=r.verticalLength,s=r.type,c={leftX:0,leftY:0,rightX:0,rightY:0},g=Math.atan((n.y-t.y)/(n.x-t.x)),E=Math.atan(o/i),A=Math.sqrt(i*i+o*o);return"start"===s?n.x>=t.x?(c.leftX=t.x+A*Math.sin(g+E),c.leftY=t.y-A*Math.cos(g+E),c.rightX=t.x-A*Math.sin(g-E),c.rightY=t.y+A*Math.cos(g-E)):(c.leftX=t.x-A*Math.sin(g+E),c.leftY=t.y+A*Math.cos(g+E),c.rightX=t.x+A*Math.sin(g-E),c.rightY=t.y-A*Math.cos(g-E)):"end"===s&&(n.x>=t.x?(c.leftX=n.x+A*Math.sin(g-E),c.leftY=n.y-A*Math.cos(g-E),c.rightX=n.x-A*Math.sin(g+E),c.rightY=n.y+A*Math.cos(g+E)):(c.leftX=n.x-A*Math.sin(g-E),c.leftY=n.y+A*Math.cos(g-E),c.rightX=n.x+A*Math.sin(g+E),c.rightY=n.y-A*Math.cos(g+E))),c};function hh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Mu(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?hh(Object(t),!0).forEach(function(n){s0(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function s0(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l0(e){return function d0(e){if(Array.isArray(e))return Tf(e)}(e)||function c0(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vh(e)||function f0(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wu(e){return(wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Af(e,r){return function v0(e){if(Array.isArray(e))return e}(e)||function h0(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||vh(e,r)||function p0(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vh(e,r){if(e){if("string"==typeof e)return Tf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tf(e,r)}}function Tf(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Au=function(r){var t=[],n={};return r.forEach(function(o){var i="".concat(o.x,"-").concat(o.y);o.id=i,n[i]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},Tu=function(r,t){return 0===r.width&&0===r.height?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},Nu=function(r,t){return function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Zt.HORIZONTAL:Zt.VERTICAL}(t,r)===Zt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},yh=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),i=Math.max(r.maxX,t.maxX),s=Math.max(r.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(o+s)/2,minX:n,minY:o,maxX:i,maxY:s,height:s-o,width:i-n}},Ra=function(){var t=arguments.length>1?arguments[1]:void 0,n=[],o=[];(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(R){n.push(R.x),o.push(R.y)});var i=Math.min.apply(Math,n),s=Math.max.apply(Math,n),c=Math.min.apply(Math,o),g=Math.max.apply(Math,o),E=s-i,A=g-c;return t&&(E+=t,A+=t),{centerX:(i+s)/2,centerY:(c+g)/2,maxX:s,maxY:g,minX:i,minY:c,x:(i+s)/2,y:(c+g)/2,height:A,width:E}},Du=function(r){var t=r.minX,n=r.minY,o=r.maxX,i=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:i},{x:t,y:i}]},Cu=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},Nf=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},gh=function(r,t,n,o,i){return Nf(r,t)+Nf(r,n)+function(r,t){var o=0;return t.forEach(function(i){i&&(r.x===i.x&&(o+=-2),r.y===i.y&&(o+=-2))}),o}(r,[t,n,o,i])},x0=function e(r,t,n,o,i){i||(i=0),r.unshift(t[o]),n[o]&&n[o]!==o&&i<=100&&e(r,t,n,n[o],i+1)},Ia=function(r,t,n,o){var i=t.x-r.x,s=t.y-r.y,c=o.x-n.x,g=o.y-n.y,E=(-s*(r.x-n.x)+i*(r.y-n.y))/(-c*s+i*g),A=(c*(r.y-n.y)-g*(r.x-n.x))/(-c*s+i*g);return E>=0&&E<=1&&A>=0&&A<=1},mh=function(r,t,n){if(0===n.width&&0===n.height)return!1;var i=Af(Du(n),4),s=i[0],c=i[1],g=i[2],E=i[3];return Ia(r,t,s,c)||Ia(r,t,s,E)||Ia(r,t,c,g)||Ia(r,t,g,E)},M0=function(r,t,n,o,i,s,c){var g=[],E=[t],A={},R={},k={};R[t.id]=0,k[t.id]=gh(t,n,t);var V={};r.forEach(function(ye){V[ye.id]=ye});for(var ue=function(){var pe=void 0,Ge=1/0;if(E.forEach(function(Le){k[Le.id]<Ge&&(Ge=k[Le.id],pe=Le)}),pe===n){var Be=[];return x0(Be,V,A,n.id),{v:Be}}(function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)})(E,pe),g.push(pe),function(r,t,n,o){var i=[];return r.forEach(function(s){s!==t&&(s.x===t.x||s.y===t.y)&&!mh(s,t,n)&&!mh(s,t,o)&&i.push(s)}),Au(i)}(r,pe,o,i).forEach(function(Le){if(-1===g.indexOf(Le)){-1===E.indexOf(Le)&&E.push(Le);var lt=k[pe.id]+Nf(pe,Le);R[Le.id]&&lt>=R[Le.id]||(A[Le.id]=pe.id,R[Le.id]=lt,k[Le.id]=R[Le.id]+gh(Le,n,t,s,c))}})};E.length;){var ce=ue();if("object"===wu(ce))return ce.v}return[t,n]},bh=function(r){return Qr(r)},Oh=function(r){for(var t=r,n=1;n<t.length-1;){var o=t[n-1],i=t[n],s=t[n+1];o.x===i.x&&i.x===s.x||o.y===i.y&&i.y===s.y?t.splice(n,1):n++}return t},Eh=function(r,t,n,o,i){var s=bh(n),c=bh(o),g=Tu(s,i),E=Tu(c,i),A=Nu(g,r),R=Nu(E,t);if(function(r,t){return 2*Math.abs(r.centerX-t.centerX)<r.width+t.width&&2*Math.abs(r.centerY-t.centerY)<r.height+t.height}(g,E)){var k=A0(r,t,A,R);return[r,A].concat(l0(k),[R,t])}var V=Ra([A,R]),ue=yh(g,V),ce=yh(E,V),ye=[];ye=(ye=ye.concat(Du(ue))).concat(Du(ce));var pe={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[V,ue,ce].forEach(function(Be){ye=ye.concat(function(r,t){return function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]}(r,t.x).concat(function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]}(r,t.y))}(Be,pe).filter(function(Le){return Cu(Le,g)&&Cu(Le,E)}))}),[{x:A.x,y:R.y},{x:R.x,y:A.y}].forEach(function(Be){Cu(Be,g)&&Cu(Be,E)&&ye.push(Be)}),ye.unshift(A),ye.push(R),ye=Au(ye);var Ge=M0(ye,A,R,s,c,r,t);return Ge.unshift(r),Ge.push(t),Ge.length>2&&(Ge=Oh(Ge)),Au(Ge)},w0=function(r){var t;if(1===r.length)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],i=Fn(n.x,n.y,o.x,o.y),s=1;s<r.length-1;s++){var c=r[s],g=r[s+1],E=Fn(c.x,c.y,g.x,g.y);E>i&&(i=E,n=c,o=g)}t=[n,o]}return t},xh=function(r,t,n){var o=No(r,n),i=No(t,n);return o&&i},Sh=function(r,t,n){var o=No(r,n),i=No(t,n);return!(o&&i)&&(o||i)},Ph=function(r,t,n){for(var o,i,s=Qr(n),c=Du(s),g=0;g<c.length;g++)Ia(r,t,c[g],c[(g+1)%c.length])&&(i=[c[g],c[(g+1)%c.length]]);return i&&(o=TP(r,t,i[0],i[1])),o},ju=function(r,t){var n;return r.x===t.x?n=Zt.VERTICAL:r.y===t.y&&(n=Zt.HORIZONTAL),n},Hi=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var s=Af(o.split(","),2),g=s[1];n.push({x:Number(s[0]),y:Number(g)})}),n},A0=function(r,t,n,o){var i=[];if(ju(r,n)===ju(t,o))r.y===n.y?(i.push({x:n.x,y:(n.y+o.y)/2}),i.push({x:o.x,y:(n.y+o.y)/2})):(i.push({x:(n.x+o.x)/2,y:n.y}),i.push({x:(n.x+o.x)/2,y:o.y}));else{var g={x:n.x,y:o.y},E=Na(g,r,n),A=Na(g,t,o);if(E||A)g={x:o.x,y:n.y};else{var R=Mh(g,r,n),k=Mh(g,t,o);R&&k&&(g={x:o.x,y:n.y})}i.push(g)}return i},Mh=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},wh=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:t+=o>=1&&o<=126||o>=65376&&o<=65439?1:2}return t},Ah=function(r){var t=r.start,n=r.end,i=r.targetNode,s=r.offset,c=Qr(r.sourceNode),g=Qr(i),E=Tu(c,s),A=Tu(g,s);return{sNext:Nu(E,t),ePre:Nu(A,n)}},Ru=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(",");return[Iu(t[0]),Iu(t[1]),Iu(t[2]),Iu(t[3])]},Iu=function(r){var n=Af(r.replace(/(^\s*)/g,"").split(" "),2);return{x:+n[0],y:+n[1]}},Th=function(r,t){for(var c,n=r.x,o=r.y,i=Hi(t),s=Number.MAX_SAFE_INTEGER,g=[],E=0;E<i.length;E++)g.push({start:i[E],end:i[(E+1)%i.length]});if(g.forEach(function(V){var ue=V.start,ce=V.end;if(ue.x===ce.x){var ye={x:ue.x,y:o};if(Na(ye,ue,ce)){var Ge=Math.abs(ue.x-n);Ge<s&&(s=Ge,c=ye)}}else if(ue.y===ce.y){var Be={x:n,y:ue.y};if(Na(Be,ue,ce)){var lt=Math.abs(ue.y-o);lt<s&&(s=lt,c=Be)}}}),!c){var A=g[0],R=A.start,k=A.end;c={x:R.x+(k.x-R.x)/2,y:R.y+(k.y-R.y)/2}}return c},D0=function(r){return Aa(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Nh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};a(204);var ki=function j0(){};function Dh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Gn=window.document;function Cf(e){var r=e.onDragStart,t=void 0===r?ki:r,n=e.onDraging,o=void 0===n?ki:n,i=e.onDragEnd,s=void 0===i?ki:i,c=e.step,g=void 0===c?1:c,E=e.isStopPropagation,A=void 0===E||E,R=!1,k=!1,V=0,ue=0,ce=0,ye=0;function pe(Le){if(A&&Le.stopPropagation(),k&&(R=!0,ce+=Le.clientX-V,ye+=Le.clientY-ue,V=Le.clientX,ue=Le.clientY,Math.abs(ce)>g||Math.abs(ye)>g)){var lt=ce%g,qe=ye%g,St=ce-lt,Ct=ye-qe;ce=lt,ye=qe,o({deltaX:St,deltaY:Ct,event:Le})}}function Ge(Le){if(A&&Le.stopPropagation(),k=!1,Gn.removeEventListener("mousemove",pe,!1),Gn.removeEventListener("mouseup",Ge,!1),R)return R=!1,s({event:Le})}return function Be(Le){if(0===Le.button)return A&&Le.stopPropagation(),k=!0,V=Le.clientX,ue=Le.clientY,Gn.addEventListener("mousemove",pe,!1),Gn.addEventListener("mouseup",Ge,!1),t({event:Le})}}var xe,jh,Rh,Ih,Bh,Lh,zh,Fh,Gh,Hh,kh,Uh,Xh,oi=function(){function e(r){var t=this,n=r.onDragStart,o=void 0===n?ki:n,i=r.onDraging,s=void 0===i?ki:i,c=r.onDragEnd,g=void 0===c?ki:c,E=r.eventType,A=void 0===E?"":E,R=r.eventCenter,k=void 0===R?null:R,V=r.step,ue=void 0===V?1:V,ce=r.isStopPropagation,ye=void 0===ce||ce,pe=r.model,Ge=void 0===pe?null:pe;(function R0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),hr(this,"onDragStart",void 0),hr(this,"onDraging",void 0),hr(this,"onDragEnd",void 0),hr(this,"step",void 0),hr(this,"isStopPropagation",void 0),hr(this,"isDraging",!1),hr(this,"isStartDraging",!1),hr(this,"startX",0),hr(this,"startY",0),hr(this,"sumDeltaX",0),hr(this,"sumDeltaY",0),hr(this,"eventType",void 0),hr(this,"eventCenter",void 0),hr(this,"model",void 0),hr(this,"startTime",void 0),hr(this,"isGrag",void 0),hr(this,"handleMouseDown",function(Be){var Le,lt;if(0===Be.button){t.isStopPropagation&&Be.stopPropagation(),t.isStartDraging=!0,t.startX=Be.clientX,t.startY=Be.clientY,Gn.addEventListener("mousemove",t.handleMouseMove,!1),Gn.addEventListener("mouseup",t.handleMouseUp,!1);var qe=null===(Le=t.model)||void 0===Le?void 0:Le.getData();null===(lt=t.eventCenter)||void 0===lt||lt.emit(Tt["".concat(t.eventType,"_MOUSEDOWN")],{e:Be,data:qe}),t.startTime=(new Date).getTime()}}),hr(this,"handleMouseMove",function(Be){if(t.isStopPropagation&&Be.stopPropagation(),t.isStartDraging&&(t.sumDeltaX+=Be.clientX-t.startX,t.sumDeltaY+=Be.clientY-t.startY,t.startX=Be.clientX,t.startY=Be.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var Le,lt=t.sumDeltaX%t.step,qe=t.sumDeltaY%t.step,St=t.sumDeltaX-lt,Ct=t.sumDeltaY-qe;t.sumDeltaX=lt,t.sumDeltaY=qe;var Bt,yt=null===(Le=t.model)||void 0===Le?void 0:Le.getData();t.isDraging||(null===(Bt=t.eventCenter)||void 0===Bt||Bt.emit(Tt["".concat(t.eventType,"_DRAGSTART")],{e:Be,data:yt}),t.onDragStart({event:Be})),t.isDraging=!0,Promise.resolve().then(function(){var Sr,qr;t.onDraging({deltaX:St,deltaY:Ct,event:Be}),null===(Sr=t.eventCenter)||void 0===Sr||Sr.emit(Tt["".concat(t.eventType,"_MOUSEMOVE")],{e:Be,data:yt}),null===(qr=t.eventCenter)||void 0===qr||qr.emit(Tt["".concat(t.eventType,"_DRAG")],{e:Be,data:yt})})}}),hr(this,"handleMouseUp",function(Be){t.isStartDraging=!1,t.isStopPropagation&&Be.stopPropagation(),Promise.resolve().then(function(){var Le,lt,qe;Gn.removeEventListener("mousemove",t.handleMouseMove,!1),Gn.removeEventListener("mouseup",t.handleMouseUp,!1);var St=null===(Le=t.model)||void 0===Le?void 0:Le.getData();null===(lt=t.eventCenter)||void 0===lt||lt.emit(Tt["".concat(t.eventType,"_MOUSEUP")],{e:Be,data:St}),t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:Be}),null===(qe=t.eventCenter)||void 0===qe||qe.emit(Tt["".concat(t.eventType,"_DROP")],{e:Be,data:St}))})}),hr(this,"cancelDrag",function(){Gn.removeEventListener("mousemove",t.handleMouseMove,!1),Gn.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDraging=!1}),this.onDragStart=o,this.onDraging=s,this.onDragEnd=g,this.step=ue,this.isStopPropagation=ye,this.eventType=A,this.eventCenter=k,this.model=Ge}return function I0(e,r,t){return r&&Dh(e.prototype,r),t&&Dh(e,t),e}(e,[{key:"setStep",value:function(t){this.step=t}}]),e}();function Yh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Bu(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Yh(Object(t),!0).forEach(function(n){Hn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jf(e,r){return function F0(e){if(Array.isArray(e))return e}(e)||function z0(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||Wh(e,r)||function L0(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ui(e){return function k0(e){if(Array.isArray(e))return Rf(e)}(e)||function H0(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wh(e)||function G0(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wh(e,r){if(e){if("string"==typeof e)return Rf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rf(e,r)}}function Rf(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ba(e){return(Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hn(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function $h(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Et(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var Vh,Kh=(xe=function(){function e(r){(function U0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Hn(this,"rootEl",void 0),hn(this,"width",jh,this),hn(this,"height",Rh,this),Hn(this,"theme",void 0),Hn(this,"eventCenter",void 0),Hn(this,"modelMap",new Map),Hn(this,"topElement",void 0),Hn(this,"animation",void 0),Hn(this,"idGenerator",void 0),Hn(this,"edgeGenerator",void 0),Hn(this,"nodeMoveRules",[]),hn(this,"edgeType",Ih,this),hn(this,"nodes",Bh,this),hn(this,"edges",Lh,this),hn(this,"overlapMode",zh,this),hn(this,"background",Fh,this),hn(this,"transformModel",Gh,this),hn(this,"editConfigModel",Hh,this),hn(this,"gridSize",kh,this),hn(this,"partial",Uh,this),hn(this,"fakerNode",Xh,this);var t=r.container,n=r.background,i=r.grid,s=r.idGenerator,c=r.edgeGenerator,g=r.animation;this.background=void 0===n?{}:n,"object"===Ba(i)&&(this.gridSize=i.size),this.rootEl=t,this.editConfigModel=new _d(r),this.eventCenter=new hP,this.transformModel=new qE(this.eventCenter),this.theme=Pp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=function(r){return r&&"boolean"!=typeof r?Sp(or(Lp),r):or(!0===r?BP:Lp)}(g),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=s,this.edgeGenerator=function C0(e,r){return"function"!=typeof r?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var i=r(t,n,o);return i?"string"==typeof i?Object.assign({},o,{type:i}):Object.assign({type:i},o):{type:e.edgeType}}}(this,c),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height}return function X0(e,r,t){return r&&$h(e.prototype,r),t&&$h(e,t),e}(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(Ui(this.nodes),Ui(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(g){return t.push(g)}),this.edges.forEach(function(g){return t.push(g)}),t=t.sort(function(g,E){return g.zIndex-E.zIndex});for(var n=[],o=[-200,-200],i=[this.width+200,this.height+200],s=0;s<t.length;s++){var c=t[s];c.visible&&(!this.partial||c.isSelected||this.isElementInArea(c,o,i,!1,!1))&&n.push(c)}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===Kt.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===Kt.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=[],g=[];this.nodes.forEach(function(R){return g.push(R)}),this.edges.forEach(function(R){return g.push(R)});for(var E=0;E<g.length;E++){var A=g[E];(!s||A.visible)&&this.isElementInArea(A,t,n,o,i)&&c.push(A)}return c}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:null===(n=this.nodesMap[t])||void 0===n?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,i=this.rootEl.getBoundingClientRect(),s={x:n-i.left,y:o-i.top},g=jf(this.transformModel.HtmlPointToCanvasPoint([s.x,s.y]),2);return{domOverlayPosition:s,canvasOverlayPosition:{x:g[0],y:g[1]}}}},{key:"isElementInArea",value:function(t,n,o){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(t.BaseType===pr.NODE){for(var c=Qr(t),g=c.minX,E=c.minY,A=c.maxX,R=c.maxY,k=[{x:g,y:E},{x:A,y:E},{x:A,y:R},{x:g,y:R}],V=s,ue=0;ue<k.length;ue++){var ce=k[ue],ye=ce.x,pe=ce.y,Be=jf(this.transformModel.CanvasPointToHtmlPoint([ye,pe]),2);if(vf([ye=Be[0],pe=Be[1]],n,o)!==s){V=!s;break}}return V}if(t.BaseType===pr.EDGE){var lt=t.startPoint,qe=t.endPoint,St=this.transformModel.CanvasPointToHtmlPoint([lt.x,lt.y]),Ct=this.transformModel.CanvasPointToHtmlPoint([qe.x,qe.y]),yt=vf(St,n,o),Bt=vf(Ct,n,o);return i?yt&&Bt:yt||Bt}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=cu(t.nodes,function(o){var i=n.getModel(o.type);if(!i)throw new Error("\u627e\u4e0d\u5230".concat(o.type,"\u5bf9\u5e94\u7684\u8282\u70b9\u3002"));var s=o.x,c=o.y;return s&&c&&(o.x=To(s,n.gridSize),o.y=To(c,n.gridSize),"object"===Ba(o.text)&&(o.text.x-=wp(s,n.gridSize),o.text.y-=wp(c,n.gridSize))),new i(o,n)}),this.edges=cu(t.edges,function(o){var i=n.getModel(o.type);if(!i)throw new Error("\u627e\u4e0d\u5230".concat(o.type,"\u5bf9\u5e94\u7684\u8fb9\u3002"));return new i(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var i=o.getData();i&&!o.virtual&&t.push(i)});var n=[];return this.nodes.forEach(function(o){var i=o.getData();i&&!o.virtual&&n.push(i)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var i=this.nodes[o];if(i.isDragging){t=!0;break}n.push(i.getHistoryData())}if(t)return!1;for(var s=!1,c=[],g=0;g<this.edges.length;g++){var E=this.edges[g];if(E.isDragging){s=!0;break}c.push(E.getHistoryData())}return!s&&{nodes:n,edges:c}}},{key:"getEdgeModelById",value:function(t){var n;return null===(n=this.edgesMap[t])||void 0===n?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++)(this.edges[o].sourceNodeId===t||this.edges[o].targetNodeId===t)&&n.push(this.edges[o]);return n}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(i){if(i.BaseType===pr.NODE&&o.nodes.push(i.getData()),i.BaseType===pr.EDGE){var s=i.getData(),c=n.get(s.sourceNodeId)&&n.get(s.targetNodeId);(t||c)&&o.edges.push(s)}}),o}},{key:"updateAttributes",value:function(t,n){this.getElement(t).updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=ni()),this.nodesMap[n]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8282\u70b9".concat(n,", \u4fee\u6539\u5931\u8d25")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8282\u70b9".concat(n,", \u4fee\u6539\u5931\u8d25")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=ni()),this.edgesMap[n]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8fb9: ".concat(n,", \u4fee\u6539\u5931\u8d25")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&o.changeEdgeId(n)}),n):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8fb9: ".concat(n,", \u4fee\u6539\u5931\u8d25")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,s,i=(null===(n=this.nodesMap[t])||void 0===n?void 0:n.model)||(null===(o=this.edgesMap[t])||void 0===o?void 0:o.model);i&&(this.overlapMode===Kr.DEFAULT&&(null===(s=this.topElement)||void 0===s||s.setZIndex(),i.setZIndex(9999),this.topElement=i),this.overlapMode===Kr.INCREASE&&this.setElementZIndex(t,"top"))}},{key:"setElementZIndex",value:function(t,n){var o,i,c,s=(null===(o=this.nodesMap[t])||void 0===o?void 0:o.model)||(null===(i=this.edgesMap[t])||void 0===i?void 0:i.model);s&&("number"==typeof n&&(c=n),"top"===n&&(c=Ef()),"bottom"===n&&(c=--FP),s.setZIndex(c))}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(Tt.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=Dr(t);n.id&&this.nodesMap[t.id]&&delete n.id;var o=this.getModel(n.type);if(!o)throw new Error("\u627e\u4e0d\u5230".concat(n.type,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));n.x=To(n.x,this.gridSize),n.y=To(n.y,this.gridSize);var i=new o(n,this);this.nodes.push(i);var s=i.getData();return this.eventCenter.emit(Tt.NODE_ADD,{data:s}),i}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var i=this.addNode(o);return i.setSelected(!0),n.setSelected(!1),i.getData()}},{key:"moveNode",value:function(t,n,o){var s=this.nodesMap[t];if(s){var E=jf(s.model.getMoveDistance(n,o,arguments.length>3&&void 0!==arguments[3]&&arguments[3]),2);this.moveEdge(t,n=E[0],o=E[1])}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(t,"\u7684\u8282\u70b9"))}},{key:"moveNode2Coordinate",value:function(t,n,o){var s=this.nodesMap[t];if(s){var c=s.model;this.moveNode(t,n-c.x,o-c.y,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(t,"\u7684\u8282\u70b9"))}},{key:"editText",value:function(t){this.setElementStateById(t,Kt.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=Dr(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var i=this.getModel(o);if(!i)throw new Error("\u627e\u4e0d\u5230".concat(o,"\u5bf9\u5e94\u7684\u8fb9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8fb9\u3002"));var s=new i(Bu(Bu({},n),{},{type:o}),this),c=s.getData();return this.edges.push(s),this.eventCenter.emit(Tt.EDGE_ADD,{data:c}),s}},{key:"moveEdge",value:function(t,n,o){for(var i=0;i<this.edges.length;i++){var k,s=this.edges[i],c=s.textPosition,g=c.x,E=c.y,A=this.edges[i].sourceNodeId===t,R=this.edges[i].targetNodeId===t;if(A&&s.moveStartPoint(n,o),R&&s.moveEndPoint(n,o),A||R)if(!0===s.customTextPosition)s.resetTextPosition();else if(s.modelType===Ht.POLYLINE_EDGE&&null!==(k=s.text)&&void 0!==k&&k.value){var V=s.text,ue=Th(V,s.points);s.moveText(ue.x-V.x,ue.y-V.y)}else{var ce=s.textPosition;s.moveText(ce.x-g,ce.y-E)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var i=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(Tt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeById",value:function(t){if(this.edgesMap[t]){var o=this.edgesMap[t].index,i=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(Tt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(Tt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(Tt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(i){i.id===t?i.setElementState(n,o):i.setElementState(Kt.DEFAULT)}),this.edges.forEach(function(i){i.id===t?i.setElementState(n,o):i.setElementState(Kt.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements(),(null===(n=this.nodesMap[t])||void 0===n?void 0:n.model)?.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements(),(null===(n=this.edgesMap[t])||void 0===n?void 0:n.model)?.setSelected(!0)}},{key:"selectElementById",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements(),this.getElement(t)?.setSelected(!0)}},{key:"clearSelectElements",value:function(){var t;this.selectElements.forEach(function(n){n?.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Kr.DEFAULT&&(null===(t=this.topElement)||void 0===t||t.setZIndex())}},{key:"moveNodes",value:function(t,n,o){var i=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.forEach(function(c){return i.moveNode(c,n,o,s)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(o){var i=o.getData();i.type=n;var s=this.getModel(n);if(!s)throw new Error("\u627e\u4e0d\u5230".concat(n,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var c=new s(i,this);this.nodes.splice(this.nodesMap[t].index,1,c),this.getNodeEdges(t).forEach(function(E){if(E.sourceNodeId===t){var A=Ip(c,E.startPoint,c.width,c.height);E.updateStartPoint(A)}if(E.targetNodeId===t){var R=Ip(c,E.endPoint,c.width,c.height);E.updateEndPoint(R)}})}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(t,"\u7684\u8282\u70b9"))}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(o){if(o.type!==n){var i=o.getData();i.type=n;var s=this.getModel(n);if(!s)throw new Error("\u627e\u4e0d\u5230".concat(n,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));delete i.pointsList;var c=new s(i,this);this.edges.splice(this.edgesMap[t].index,1,c)}}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(t,"\u7684\u8fb9"))}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(i){i.targetNodeId===t&&o.push(n.nodesMap[i.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(i){i.sourceNodeId===t&&o.push(n.nodesMap[i.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=Pp(Bu(Bu({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6e32\u67d3\u753b\u5e03\u7684\u65f6\u5019\u65e0\u6cd5\u83b7\u53d6\u753b\u5e03\u5bbd\u9ad8\uff0c\u8bf7\u786e\u8ba4\u5728container\u5df2\u6302\u8f7d\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var n=[],o=[];this.nodes.forEach(function(V){var ue=V.x,ce=V.y,ye=V.width,pe=V.height,Be=V.getNodeStyle().strokeWidth,Le=void 0===Be?0:Be;n=n.concat([ue+ye/2+Le,ue-ye/2-Le]),o=o.concat([ce+pe/2+Le,ce-pe/2-Le])});var i=Math.min.apply(Math,Ui(n)),s=Math.max.apply(Math,Ui(n)),c=Math.min.apply(Math,Ui(o)),E=s-i||0,A=Math.max.apply(Math,Ui(o))-c||0;return{virtualRectWidth:E,virtualRectHeight:A,virtualRectCenterPositionX:i+E/2,virtualRectCenterPositionY:c+A/2}}},{key:"translateCenter",value:function(){var i=this.rootEl,s=this.transformModel;if(this.nodes.length){var c=this.width||i.clientWidth,g=this.height||i.clientHeight,E=this.getVirtualRectSize();s.focusOn(E.virtualRectCenterPositionX,E.virtualRectCenterPositionY,c,g)}}},{key:"fitView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,c=this.rootEl,g=this.transformModel;if(this.nodes.length){var E=this.width||c.clientWidth,A=this.height||c.clientHeight,R=this.getVirtualRectSize(),ue=R.virtualRectCenterPositionX,ce=R.virtualRectCenterPositionY,Ge=0;Ge=1/Math.max((R.virtualRectWidth+n)/E,(R.virtualRectHeight+t)/A),g.zoom(Ge,[E/2,A/2]),g.focusOn(ue,ce,E,A)}}},{key:"openEdgeAnimation",value:function(t){this.getEdgeModelById(t).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){this.getEdgeModelById(t).closeEdgeAnimation()}}]),e}(),jh=Et(xe.prototype,"width",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rh=Et(xe.prototype,"height",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ih=Et(xe.prototype,"edgeType",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bh=Et(xe.prototype,"nodes",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lh=Et(xe.prototype,"edges",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zh=Et(xe.prototype,"overlapMode",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kr.DEFAULT}}),Fh=Et(xe.prototype,"background",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gh=Et(xe.prototype,"transformModel",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hh=Et(xe.prototype,"editConfigModel",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kh=Et(xe.prototype,"gridSize",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Uh=Et(xe.prototype,"partial",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xh=Et(xe.prototype,"fakerNode",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et(xe.prototype,"nodesMap",[y.m],Object.getOwnPropertyDescriptor(xe.prototype,"nodesMap"),xe.prototype),Et(xe.prototype,"edgesMap",[y.m],Object.getOwnPropertyDescriptor(xe.prototype,"edgesMap"),xe.prototype),Et(xe.prototype,"modelsMap",[y.m],Object.getOwnPropertyDescriptor(xe.prototype,"modelsMap"),xe.prototype),Et(xe.prototype,"sortElements",[y.m],Object.getOwnPropertyDescriptor(xe.prototype,"sortElements"),xe.prototype),Et(xe.prototype,"textEditElement",[y.m],Object.getOwnPropertyDescriptor(xe.prototype,"textEditElement"),xe.prototype),Et(xe.prototype,"selectElements",[y.m],Object.getOwnPropertyDescriptor(xe.prototype,"selectElements"),xe.prototype),Et(xe.prototype,"setFakerNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"setFakerNode"),xe.prototype),Et(xe.prototype,"removeFakerNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"removeFakerNode"),xe.prototype),Et(xe.prototype,"setModel",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"setModel"),xe.prototype),Et(xe.prototype,"toFront",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"toFront"),xe.prototype),Et(xe.prototype,"setElementZIndex",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"setElementZIndex"),xe.prototype),Et(xe.prototype,"deleteNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteNode"),xe.prototype),Et(xe.prototype,"addNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"addNode"),xe.prototype),Et(xe.prototype,"cloneNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"cloneNode"),xe.prototype),Et(xe.prototype,"moveNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveNode"),xe.prototype),Et(xe.prototype,"moveNode2Coordinate",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveNode2Coordinate"),xe.prototype),Et(xe.prototype,"editText",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"editText"),xe.prototype),Et(xe.prototype,"addEdge",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"addEdge"),xe.prototype),Et(xe.prototype,"moveEdge",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveEdge"),xe.prototype),Et(xe.prototype,"deleteEdgeBySourceAndTarget",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeBySourceAndTarget"),xe.prototype),Et(xe.prototype,"deleteEdgeById",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeById"),xe.prototype),Et(xe.prototype,"deleteEdgeBySource",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeBySource"),xe.prototype),Et(xe.prototype,"deleteEdgeByTarget",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeByTarget"),xe.prototype),Et(xe.prototype,"setElementStateById",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"setElementStateById"),xe.prototype),Et(xe.prototype,"updateText",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"updateText"),xe.prototype),Et(xe.prototype,"selectNodeById",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"selectNodeById"),xe.prototype),Et(xe.prototype,"selectEdgeById",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"selectEdgeById"),xe.prototype),Et(xe.prototype,"selectElementById",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"selectElementById"),xe.prototype),Et(xe.prototype,"clearSelectElements",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"clearSelectElements"),xe.prototype),Et(xe.prototype,"moveNodes",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveNodes"),xe.prototype),Et(xe.prototype,"setDefaultEdgeType",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"setDefaultEdgeType"),xe.prototype),Et(xe.prototype,"changeNodeType",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"changeNodeType"),xe.prototype),Et(xe.prototype,"changeEdgeType",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"changeEdgeType"),xe.prototype),Et(xe.prototype,"getNodeIncomingEdge",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeIncomingEdge"),xe.prototype),Et(xe.prototype,"getNodeOutgoingEdge",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeOutgoingEdge"),xe.prototype),Et(xe.prototype,"getNodeIncomingNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeIncomingNode"),xe.prototype),Et(xe.prototype,"getNodeOutgoingNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeOutgoingNode"),xe.prototype),Et(xe.prototype,"setTheme",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"setTheme"),xe.prototype),Et(xe.prototype,"resize",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"resize"),xe.prototype),Et(xe.prototype,"clearData",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"clearData"),xe.prototype),Et(xe.prototype,"translateCenter",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"translateCenter"),xe.prototype),Et(xe.prototype,"fitView",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"fitView"),xe.prototype),Et(xe.prototype,"openEdgeAnimation",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"openEdgeAnimation"),xe.prototype),Et(xe.prototype,"closeEdgeAnimation",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"closeEdgeAnimation"),xe.prototype),xe),Y0=Kh;function zu(e){return(zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function If(){return If=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},If.apply(this,arguments)}function Zh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K0(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return(Bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function V0(e){var r=function J0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Fu(e);if(r){var i=Fu(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Z0(this,o)}}function Z0(e,r){if(r&&("object"===zu(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return kn(e)}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fu(e){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function fo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Jh,Q0=Dn(Vh=function(e){K0(t,e);var r=V0(t);function t(n){var o;(function W0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,t),fo(kn(o=r.call(this)),"stepDrag",void 0),fo(kn(o),"stepScrollX",0),fo(kn(o),"stepScrollY",0),fo(kn(o),"onDraging",function(g){var E=g.deltaX,A=g.deltaY;o.setState({isDraging:!0});var R=o.props.graphModel;R.editConfigModel.stopMoveGraph||R.transformModel.translate(E,A)}),fo(kn(o),"onDragEnd",function(){o.setState({isDraging:!1})}),fo(kn(o),"zoomHandler",function(g){var E=o.props,A=E.graphModel,R=A.editConfigModel,k=A.transformModel,V=A.gridSize,ue=E.graphModel,ce=g.deltaX,ye=g.deltaY;if(R.stopScrollGraph||!0===g.ctrlKey){if(!R.stopZoomGraph){g.preventDefault();var qe=ue.getPointByClient({x:g.clientX,y:g.clientY}).canvasOverlayPosition;k.zoom(g.deltaY<0,[qe.x,qe.y])}}else{if(g.preventDefault(),o.stepScrollX+=ce,o.stepScrollY+=ye,Math.abs(o.stepScrollX)>=V){var pe=o.stepScrollX%V;k.translate(-(o.stepScrollX-pe)*k.SCALE_X,0),o.stepScrollX=pe}if(Math.abs(o.stepScrollY)>=V){var Be=o.stepScrollY%V;k.translate(0,-(o.stepScrollY-Be)*k.SCALE_Y),o.stepScrollY=Be}}}),fo(kn(o),"clickHandler",function(g){if("canvas-overlay"===g.target.getAttribute("name")){var A=o.props.graphModel;A.selectElements.size>0&&A.clearSelectElements(),A.eventCenter.emit(Tt.BLANK_CLICK,{e:g})}}),fo(kn(o),"handleContextMenu",function(g){if("canvas-overlay"===g.target.getAttribute("name")){g.preventDefault();var A=o.props.graphModel,R=A.getPointByClient({x:g.clientX,y:g.clientY});A.eventCenter.emit(Tt.BLANK_CONTEXTMENU,{e:g,position:R})}}),fo(kn(o),"mouseDownHandler",function(g){var E=o.props.graphModel,A=E.eventCenter,R=E.editConfigModel,k=E.transformModel.SCALE_X,V=E.gridSize,ce=!R.adjustEdge&&!R.adjustNodePosition;("canvas-overlay"===g.target.getAttribute("name")||ce)&&(R.stopMoveGraph?A.emit(Tt.BLANK_MOUSEDOWN,{e:g}):(o.stepDrag.setStep(V*k),o.stepDrag.handleMouseDown(g)),o.clickHandler(g))});var i=n.graphModel;return o.stepDrag=new oi({onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:i.gridSize,eventType:"BLANK",isStopPropagation:!1,eventCenter:i.eventCenter,model:null}),o.state={isDraging:!1},o}return function $0(e,r,t){return r&&Zh(e.prototype,r),t&&Zh(e,t),e}(t,[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props,g=c.children,E=c.dnd,A=this.state.isDraging;return Object(Ee.g)("svg",If({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:A?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},E.eventMap()),Object(Ee.g)("g",{transform:s},g))}}]),t}(Ee.a))||Vh,_0=Q0;function Gu(e){return(Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function q0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tM(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lf(e,r)}function Lf(e,r){return(Lf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function rM(e){var r=function oM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Hu(e);if(r){var i=Hu(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return nM(this,o)}}function nM(e,r){if(r&&("object"===Gu(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _h(e)}function _h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function iM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var aM=Dn(Jh=function(e){tM(t,e);var r=rM(t);function t(){var n;q0(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return iM(_h(n=r.call.apply(r,[this].concat(i))),"setToolOverlayRef",function(c){var E=n.props.tool.getInstance();E.components.forEach(function(A){return A(E,c)}),E.components=[]}),n}return function eM(e,r,t){return r&&Qh(e.prototype,r),t&&Qh(e,t),e}(t,[{key:"getTools",value:function(){var o=this.props,i=o.tool,s=o.graphModel,g=i.getTools().map(function(E){return Object(Ee.g)(E,{graphModel:s,logicFlow:i.instance})});return i.components=g,g}},{key:"render",value:function(){return Object(Ee.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(Ee.a))||Jh;function ku(e){return(ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function uM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function qh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lM(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zf(e,r)}function zf(e,r){return(zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function fM(e){var r=function pM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Uu(e);if(r){var i=Uu(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return cM(this,o)}}function cM(e,r){if(r&&("object"===ku(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function dM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Uu(e){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ev,hM=function(e){lM(t,e);var r=fM(t);function t(){return uM(this,t),r.apply(this,arguments)}return function sM(e,r,t){return r&&qh(e.prototype,r),t&&qh(e,t),e}(t,[{key:"render",value:function(){var o=this.props.background;return Object(Ee.g)("div",{className:"lf-background"},Object(Ee.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(Ee.a);function Xu(e){return(Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function vM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function tv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gM(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ff(e,r)}function Ff(e,r){return(Ff=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function mM(e){var r=function OM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Yu(e);if(r){var i=Yu(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return bM(this,o)}}function bM(e,r){if(r&&("object"===Xu(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return rv(e)}function rv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yu(e){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function EM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var nv=Dn(ev=function(e){gM(t,e);var r=mM(t);function t(){var n;vM(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return EM(rv(n=r.call.apply(r,[this].concat(i))),"id",ni()),n}return function yM(e,r,t){return r&&tv(e.prototype,r),t&&tv(e,t),e}(t,[{key:"renderDot",value:function(){var o=this.props,i=o.config,s=i.color,c=i.thickness,E=o.size,A=o.visible,R=Math.min(Math.max(2,void 0===c?2:c),E/2),k=1;return A||(k=0),Object(Ee.g)("rect",{width:R,height:R,rx:R/2,ry:R/2,fill:s,opacity:k})}},{key:"renderMesh",value:function(){var o=this.props,i=o.config,s=i.color,c=i.thickness,E=o.size,A=o.visible,R=Math.min(Math.max(1,void 0===c?1:c),E/2),k="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),V=1;return A||(V=0),Object(Ee.g)("path",{d:k,stroke:s,strokeWidth:R,opacity:V})}},{key:"render",value:function(){var o=this.props,i=o.type,s=o.size,c=o.graphModel.transformModel,ue=[c.SCALE_X,c.SKEW_Y,c.SKEW_X,c.SCALE_Y,c.TRANSLATE_X,c.TRANSLATE_Y].join(","),ce="matrix(".concat(ue,")");return Object(Ee.g)("div",{className:"lf-grid"},Object(Ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(Ee.g)("defs",null,Object(Ee.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:ce,x:"0",y:"0",width:s,height:s},"dot"===i&&this.renderDot(),"mesh"===i&&this.renderMesh())),Object(Ee.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(Ee.a))||ev;function Wu(e){return(Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xM(e,r){return function wM(e){if(Array.isArray(e))return e}(e)||function MM(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function PM(e,r){if(e){if("string"==typeof e)return ov(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ov(e,r)}}(e,r)||function SM(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ov(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}nv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},a(52);var iv,ii=function AM(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=xM(t,2),o=n[0],i=n[1];("style"===o||"object"!==Wu(i))&&(r[o]=i)}),Object(Ee.g)("line",r)};function $u(e){return($u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function av(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ku(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?av(Object(t),!0).forEach(function(n){TM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):av(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function TM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function NM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function uv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CM(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gf(e,r)}function Gf(e,r){return(Gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function jM(e){var r=function BM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Vu(e);if(r){var i=Vu(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return RM(this,o)}}function RM(e,r){if(r&&("object"===$u(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function IM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vu(e){return(Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var lv,LM=Dn(iv=function(e){CM(t,e);var r=jM(t);function t(){return NM(this,t),r.apply(this,arguments)}return function DM(e,r,t){return r&&uv(e.prototype,r),t&&uv(e,t),e}(t,[{key:"render",value:function(){var o=this.props.snaplineModel,i=o.position,s=o.isShowHorizontal,c=o.isShowVertical,g=o.getStyle(),E=i.x,A=void 0===E?0:E,R=i.y,k=void 0===R?0:R,V=Ku(Ku({x1:-1e5,y1:k,x2:1e5,y2:k},g),{},{stroke:s?g.stroke:"none"}),ue=Ku(Ku({x1:A,y1:-1e5,x2:A,y2:1e5},g),{},{stroke:c?g.stroke:"none"});return Object(Ee.g)("g",{className:"lf-snapline"},Object(Ee.g)(ii,V),Object(Ee.g)(ii,ue))}}]),t}(Ee.a))||iv;function Zu(e){return(Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function zM(e,r){return function kM(e){if(Array.isArray(e))return e}(e)||function HM(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function GM(e,r){if(e){if("string"==typeof e)return sv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sv(e,r)}}(e,r)||function FM(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sv(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Co(e){var i=e.className,s=e.radius,c=e.x-e.width/2,g=e.y-e.height/2,E={};return Object.entries(e).forEach(function(A){var R=zM(A,2),k=R[0],V=R[1];"object"!==Zu(V)&&(E[k]=V)}),E.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",s&&(E.rx=s,E.ry=s),E.x=c,E.y=g,Object(Ee.g)("rect",E)}function Ju(e){return(Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Xi(){return Xi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Xi.apply(this,arguments)}function fv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function cv(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?fv(Object(t),!0).forEach(function(n){UM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function UM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function XM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WM(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hf(e,r)}function Hf(e,r){return(Hf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function $M(e){var r=function ZM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Qu(e);if(r){var i=Qu(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return KM(this,o)}}function KM(e,r){if(r&&("object"===Ju(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function VM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qu(e){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Co.defaultProps={className:"",radius:""};var hv,JM=Dn(lv=function(e){WM(t,e);var r=$M(t);function t(){return XM(this,t),r.apply(this,arguments)}return function YM(e,r,t){return r&&dv(e.prototype,r),t&&dv(e,t),e}(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,s=o.editConfigModel,c=s.hoverOutline,g=s.nodeSelectedOutline,E=[];return o.nodes.forEach(function(A){if(A.isHovered||A.isSelected){var R=A.isHovered,V=A.x,ue=A.y,ce=A.width,ye=A.height;if(g&&A.isSelected||c&&R){var pe=A.getOutlineStyle(),Ge={};if(Object.keys(pe).forEach(function(Le){"hover"!==Le&&(Ge[Le]=pe[Le])}),R){var Be=pe.hover;Ge=cv(cv({},Ge),Be)}E.push(Object(Ee.g)(Co,Xi({className:"lf-outline-node",x:V,y:ue,width:ce+10,height:ye+10},Ge)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,i=o.edges,s=o.editConfigModel,c=s.edgeSelectedOutline,g=s.hoverOutline,E=[],A=0;A<i.length;A++){var R=i[A];(c&&R.isSelected||g&&R.isHovered)&&(R.modelType===Ht.LINE_EDGE?E.push(this.getLineOutline(R)):R.modelType===Ht.POLYLINE_EDGE?E.push(this.getPolylineOutline(R)):R.modelType===Ht.BEZIER_EDGE&&E.push(this.getBezierOutline(R)))}return E}},{key:"getLineOutline",value:function(o){var i=o.startPoint,s=o.endPoint,c=(i.x+s.x)/2,g=(i.y+s.y)/2,E=Math.abs(i.x-s.x)+10,A=Math.abs(i.y-s.y)+10,R=o.getOutlineStyle();return Object(Ee.g)(Co,Xi({className:"lf-outline-edge",x:c,y:g,width:E,height:A},R))}},{key:"getPolylineOutline",value:function(o){var s=Hi(o.points),c=Ra(s,8),g=c.x,E=c.y,A=c.width,R=c.height,k=o.getOutlineStyle();return Object(Ee.g)(Co,Xi({className:"lf-outline",x:g,y:E,width:A,height:R},k))}},{key:"getBezierOutline",value:function(o){var s=Ru(o.path),c=Ra(s,8),g=c.x,E=c.y,A=c.width,R=c.height,k=o.getOutlineStyle();return Object(Ee.g)(Co,Xi({className:"lf-outline",x:g,y:E,width:A,height:R},k))}},{key:"render",value:function(){return Object(Ee.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(Ee.a))||lv;function _u(e){return(_u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function QM(e,r){return function tw(e){if(Array.isArray(e))return e}(e)||function ew(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function qM(e,r){if(e){if("string"==typeof e)return pv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pv(e,r)}}(e,r)||function _M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pv(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function La(e){var r=e.x,n=e.y,i=e.r,c=e.className,g={cx:void 0===r?0:r,cy:void 0===n?0:n,r:void 0===i?4:i,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(E){var A=QM(E,2),R=A[0],k=A[1];"object"!==_u(k)&&(g[R]=k)}),g.className=c?"lf-basic-shape ".concat(c):"lf-basic-shape",Object(Ee.g)("circle",g)}function qu(e){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function rw(e,r){return function aw(e){if(Array.isArray(e))return e}(e)||function iw(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function ow(e,r){if(e){if("string"==typeof e)return vv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vv(e,r)}}(e,r)||function nw(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vv(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function za(){return za=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},za.apply(this,arguments)}function yv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mv(e,r,t){return r&&gv(e.prototype,r),t&&gv(e,t),e}function bv(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&kf(e,r)}function kf(e,r){return(kf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function Ov(e){var r=function sw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=ts(e);if(r){var i=ts(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return uw(this,o)}}function uw(e,r){if(r&&("object"===qu(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return es(e)}function es(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ts(e){return(ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Uf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var xv,Ev=function(e){bv(t,e);var r=Ov(t);function t(){var n;return yv(this,t),Uf(es(n=r.call(this)),"dragHandler",void 0),Uf(es(n),"onDraging",function(o){var i=o.event,s=n.props,g=s.bezierModel,E=s.type,R=s.graphModel.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition;g.updateAdjustAnchor({x:R.x,y:R.y},E)}),Uf(es(n),"onDragEnd",function(){n.props.bezierModel.isDragging=!1}),n.dragHandler=new oi({onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return mv(t,[{key:"render",value:function(){var o=this,i=this.props.position,s=i.x,c=i.y,A=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(Ee.g)(La,za({className:"lf-bezier-adjust-anchor",x:s,y:c},A,{onMouseDown:function(k){o.dragHandler.handleMouseDown(k)}}))}}]),t}(Ee.a),lw=Dn(hv=function(e){bv(t,e);var r=Ov(t);function t(){return yv(this,t),r.apply(this,arguments)}return mv(t,[{key:"getBezierAdjust",value:function(o,i){var c=o.id,E=rw(Ru(o.path),4),A=E[0],R=E[1],k=E[2],V=E[3],ce=o.getEdgeStyle().adjustLine,ye=[];return ye.push(Object(Ee.g)(ii,za({x1:A.x,y1:A.y,x2:R.x,y2:R.y},ce))),ye.push(Object(Ee.g)(Ev,{position:R,bezierModel:o,graphModel:i,key:"".concat(c,"_ePre"),type:"sNext"})),ye.push(Object(Ee.g)(ii,za({x1:V.x,y1:V.y,x2:k.x,y2:k.y},ce))),ye.push(Object(Ee.g)(Ev,{position:k,bezierModel:o,graphModel:i,key:"".concat(c,"_sNext"),type:"ePre"})),ye}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,i=o.edges,s=[],c=0;c<i.length;c++){var g=i[c];g.isSelected&&g.modelType===Ht.BEZIER_EDGE&&g.draggable&&s.push(this.getBezierAdjust(g,o))}return s}},{key:"render",value:function(){return Object(Ee.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(Ee.a))||hv;function rs(e){return(rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function fw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dw(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xf(e,r)}function Xf(e,r){return(Xf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function pw(e){var r=function yw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=ns(e);if(r){var i=ns(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return hw(this,o)}}function hw(e,r){if(r&&("object"===rs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function vw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ns(e){return(ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Pv,gw=Dn(xv=function(e){dw(t,e);var r=pw(t);function t(){return fw(this,t),r.apply(this,arguments)}return function cw(e,r,t){return r&&Sv(e.prototype,r),t&&Sv(e,t),e}(t,[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props.children;return Object(Ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(Ee.g)("g",{transform:s},c))}}]),t}(Ee.a))||xv;function os(e){return(os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Yf(){return Yf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Yf.apply(this,arguments)}function mw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Mv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ow(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Wf(e,r)}function Wf(e,r){return(Wf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function Ew(e){var r=function Pw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=is(e);if(r){var i=is(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return xw(this,o)}}function xw(e,r){if(r&&("object"===os(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function Sw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function is(e){return(is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Mw=Dn(Pv=function(e){Ow(t,e);var r=Ew(t);function t(){return mw(this,t),r.apply(this,arguments)}return function bw(e,r,t){return r&&Mv(e.prototype,r),t&&Mv(e,t),e}(t,[{key:"getComponent",value:function(o,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas-overlay",g=(0,this.props.getView)(o.type);return Object(Ee.g)(g,{key:o.id,model:o,graphModel:i,overlay:s})}},{key:"render",value:function(){var o=this,i=this.props,s=i.graphModel,c=i.tool,g=i.options,E=i.dnd,A=i.snaplineModel,R={};g.width&&(R.width="".concat(s.width,"px")),g.height&&(R.height="".concat(s.height,"px"));var k=s.fakerNode,ue=s.editConfigModel.adjustEdge;return Object(Ee.g)("div",{className:"lf-graph",style:R},Object(Ee.g)(_0,{graphModel:s,dnd:E},Object(Ee.g)("g",{className:"lf-base"},cu(s.sortElements,function(ce){return o.getComponent(ce,s)})),k?this.getComponent(k,s):""),Object(Ee.g)(gw,{graphModel:s},Object(Ee.g)(JM,{graphModel:s}),ue?Object(Ee.g)(lw,{graphModel:s}):"",!1!==g.snapline?Object(Ee.g)(LM,{snaplineModel:A}):""),Object(Ee.g)(aM,{graphModel:s,tool:c}),g.background&&Object(Ee.g)(hM,{background:g.background}),g.grid&&Object(Ee.g)(nv,Yf({},g.grid,{graphModel:s})))}}]),t}(Ee.a))||Pv,ww=Mw;function wv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function as(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?wv(Object(t),!0).forEach(function(n){co(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Av(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function co(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Nw=function(){function e(r){var t=this;(function Aw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),co(this,"nodeConfig",void 0),co(this,"lf",void 0),co(this,"fakerNode",void 0),co(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),co(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(as(as({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),co(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var i=t.clientToLocalPoint({x:o.clientX,y:o.clientY});t.fakerNode.moveTo(i.x,i.y);var g=t.fakerNode.getData();t.lf.setNodeSnapLine(g),t.lf.graphModel.eventCenter.emit(Tt.NODE_DND_DRAG,{data:g})}return!1}),co(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),co(this,"onDrop",function(o){if(t.lf.graphModel&&o&&t.nodeConfig){var i=t.lf.addNode(as(as({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})));o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var s=i.getData();t.lf.graphModel.eventCenter.emit(Tt.NODE_DND_ADD,{data:s,e:o})}}),this.lf=r.lf}return function Tw(e,r,t){return r&&Av(e.prototype,r),t&&Av(e,t),e}(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,i=Pd(this.lf.options,["grid","size"]),c=this.lf.graphModel.getPointByClient({x:n,y:o}).canvasOverlayPosition,E=c.y;return{x:To(c.x,i),y:To(E,i)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Tv(e){var t=e.grid,n=e.width,o=e.height;if(!e.container)throw new Error("\u8bf7\u68c0\u67e5 container \u53c2\u6570\u662f\u5426\u6709\u6548");if("string"==typeof n||"string"==typeof o)throw new Error("width\u6216height\u4e0d\u652f\u6301\u4f20\u5165\u5b57\u7b26\u4e32\uff0c\u8bf7\u4f20\u6570\u5b57");return t&&(e.grid=Gr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),Gr({},Nv,e)}var $t,Dv,Nv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function us(e){return(us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $f(e,r){return function Rw(e){if(Array.isArray(e))return e}(e)||function jw(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function Cw(e,r){if(e){if("string"==typeof e)return Cv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cv(e,r)}}(e,r)||function Dw(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cv(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function jv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ss(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?jv(Object(t),!0).forEach(function(n){Iv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Iw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Bw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Rv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yi(){return Yi=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=zw(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},Yi.apply(this,arguments)}function zw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=jo(e)););return e}function Fw(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Kf(e,r)}function Kf(e,r){return(Kf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function Gw(e){var r=function kw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=jo(e);if(r){var i=jo(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Hw(this,o)}}function Hw(e,r){if(r&&("object"===us(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return ls(e)}function ls(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Iv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Sn(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var Vf=($t=function(e){Fw(t,e);var r=Gw(t);function t(){var n;Bw(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Iv(ls(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.BEZIER_EDGE),Iw(ls(n),"path",Dv,ls(n)),n}return function Lw(e,r,t){return r&&Rv(e.prototype,r),t&&Rv(e,t),e}(t,[{key:"initEdgeData",value:function(o){this.offset=100,Yi(jo(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return ss(ss({},Yi(jo(t.prototype),"getEdgeStyle",this).call(this)),or(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,i=0;return this.pointsList.forEach(function(s){o+=s.x,i+=s.y}),{x:o/this.pointsList.length,y:i/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Yi(jo(t.prototype),"getData",this).call(this),i=this.pointsList.map(function(s){return{x:s.x,y:s.y}});return ss(ss({},o),{},{pointsList:i})}},{key:"getControls",value:function(){return Ah({start:this.startPoint,end:this.endPoint,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var i=$f(o,4),s=i[0],c=i[1],g=i[2],E=i[3];return"M ".concat(s.x," ").concat(s.y,"\n    C ").concat(c.x," ").concat(c.y,",\n    ").concat(g.x," ").concat(g.y,",\n    ").concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls();this.updatePath(o.sNext,o.ePre)}},{key:"updatePath",value:function(o,i){var s={x:this.startPoint.x,y:this.startPoint.y},c={x:this.endPoint.x,y:this.endPoint.y};if(!o||!i){var g=this.getControls();o=g.sNext,i=g.ePre}this.pointsList=[s,o,i,c],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,i){this.startPoint.x+=o,this.startPoint.y+=i;var s=$f(this.pointsList,3),c=s[1],g=s[2];c.x+=o,c.y+=i,this.updatePath(c,g)}},{key:"moveEndPoint",value:function(o,i){this.endPoint.x+=o,this.endPoint.y+=i;var s=$f(this.pointsList,3),c=s[1],g=s[2];g.x+=o,g.y+=i,this.updatePath(c,g)}},{key:"updateAdjustAnchor",value:function(o,i){"sNext"===i?this.pointsList[1]=o:"ePre"===i&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var i=o.startPoint,s=o.endPoint,E=Ah({start:i,end:s,sourceNode:o.sourceNode,targetNode:o.targetNode,offset:this.offset});this.pointsList=[i,E.sNext,E.ePre,s],this.initPoints()}}]),t}(Sf),Dv=Sn($t.prototype,"path",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sn($t.prototype,"initPoints",[y.k],Object.getOwnPropertyDescriptor($t.prototype,"initPoints"),$t.prototype),Sn($t.prototype,"updatePoints",[y.k],Object.getOwnPropertyDescriptor($t.prototype,"updatePoints"),$t.prototype),Sn($t.prototype,"updateStartPoint",[y.k],Object.getOwnPropertyDescriptor($t.prototype,"updateStartPoint"),$t.prototype),Sn($t.prototype,"updateEndPoint",[y.k],Object.getOwnPropertyDescriptor($t.prototype,"updateEndPoint"),$t.prototype),Sn($t.prototype,"moveStartPoint",[y.k],Object.getOwnPropertyDescriptor($t.prototype,"moveStartPoint"),$t.prototype),Sn($t.prototype,"moveEndPoint",[y.k],Object.getOwnPropertyDescriptor($t.prototype,"moveEndPoint"),$t.prototype),Sn($t.prototype,"updateAdjustAnchor",[y.k],Object.getOwnPropertyDescriptor($t.prototype,"updateAdjustAnchor"),$t.prototype),Sn($t.prototype,"getAdjustStart",[y.k],Object.getOwnPropertyDescriptor($t.prototype,"getAdjustStart"),$t.prototype),Sn($t.prototype,"getAdjustEnd",[y.k],Object.getOwnPropertyDescriptor($t.prototype,"getAdjustEnd"),$t.prototype),Sn($t.prototype,"updateAfterAdjustStartAndEnd",[y.k],Object.getOwnPropertyDescriptor($t.prototype,"updateAfterAdjustStartAndEnd"),$t.prototype),$t);var _e,Bv,Lv,zv,Fv,Gv,Hv,kv,Uv,Xv,Yv,Wv,$v,Kv,Vv,Zv,Jv,Qv,_v,qv,Xw=function Uw(e){return null==e};function fs(e){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Yw(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function Ww(e,r){if(e){if("string"==typeof e)return ey(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ey(e,r)}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(E){throw E},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var E=t.next();return i=E.done,E},e:function(E){s=!0,c=E},f:function(){try{!i&&null!=t.return&&t.return()}finally{if(s)throw c}}}}function ey(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ty(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function kr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ty(Object(t),!0).forEach(function(n){Vr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ty(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mr(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function ry(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function It(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var ho,ny,po=(_e=function(){function e(r,t){(function $w(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Vr(this,"id",ni()),mr(this,"type",Bv,this),mr(this,"x",Lv,this),mr(this,"y",zv,this),mr(this,"text",Fv,this),mr(this,"properties",Gv,this),mr(this,"_width",Hv,this),mr(this,"_height",kv,this),mr(this,"anchorsOffset",Uv,this),mr(this,"isSelected",Xv,this),mr(this,"isHovered",Yv,this),mr(this,"isShowAnchor",Wv,this),mr(this,"isDragging",$v,this),mr(this,"isHitable",Kv,this),mr(this,"draggable",Vv,this),mr(this,"visible",Zv,this),Vr(this,"virtual",!1),Vr(this,"graphModel",void 0),mr(this,"zIndex",Jv,this),mr(this,"state",Qv,this),mr(this,"autoToFront",_v,this),mr(this,"style",qv,this),Vr(this,"BaseType",pr.NODE),Vr(this,"modelType",Ht.NODE),Vr(this,"additionStateData",void 0),Vr(this,"targetRules",[]),Vr(this,"sourceRules",[]),Vr(this,"moveRules",[]),Vr(this,"hasSetTargetRules",!1),Vr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return function Kw(e,r,t){return r&&ry(e.prototype,r),t&&ry(e,t),e}(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var i=this.createId();i&&(t.id=i)}this.formatText(t),Gr(this,Aa(t,["id","type","x","y","text","properties","virtual"])),this.graphModel.overlapMode===Kr.INCREASE&&(this.zIndex=t.zIndex||Ef())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&"string"==typeof t.text?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&void 0===t.text.editable&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,i=t.value,s=this.properties;Object(y.x)(s)&&(s=Object(y.I)(s));var c={id:this.id,type:this.type,x:this.x,y:this.y,properties:s};return this.graphModel.overlapMode===Kr.INCREASE&&(c.zIndex=this.zIndex),i&&(c.text={x:n,y:o,value:i}),c}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(y.I)(this.properties)}},{key:"getNodeStyle",value:function(){return kr(kr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){return or(this.graphModel.theme.nodeText)}},{key:"getAnchorStyle",value:function(t){return or(this.graphModel.theme.anchor)}},{key:"getAnchorLineStyle",value:function(t){return or(this.graphModel.theme.anchorLine)}},{key:"getOutlineStyle",value:function(){return or(this.graphModel.theme.outline)}},{key:"isAllowConnectedAsSource",value:function(t,n,o){var i=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var c,s=!0,g=0;g<i.length;g++){var E=i[g];if(!E.validate.call(this,this,t,n,o)){s=!1,c=E.message;break}}return{isAllPass:s,msg:c}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o){var i=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var c,s=!0,g=0;g<i.length;g++){var E=i[g];if(!E.validate.call(this,t,this,n,o)){s=!1,c=E.message;break}}return{isAllPass:s,msg:c}}},{key:"isAllowMoveNode",value:function(t,n){var g,o=!0,i=!0,c=Yw(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(c.s();!(g=c.n()).done;){var A=(0,g.value)(this,t,n);if(!A)return!1;if("object"===fs(A)){if(!1===A.x&&!1===A.y)return!1;o=o&&A.x,i=i&&A.y}}}catch(k){c.e(k)}finally{c.f()}return{x:o,y:i}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,i=this.y;return t&&t.length>0?t.map(function(s,c){return s.length?{id:"".concat(n,"_").concat(c),x:o+s[0],y:i+s[1]}:kr(kr({},s),{},{x:o+s.x,y:i+s.y,id:s.id||"".concat(n,"_").concat(c)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!Xw(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var i=!1,s=!1;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])i=!0,s=!0;else{var c=this.isAllowMoveNode(t,n);"boolean"==typeof c?(i=c,s=c):(i=c.x,s=c.y)}return i&&(this.x=this.x+t,this.text&&this.moveText(t,0)),s&&(this.y=this.y+n,this.text&&this.moveText(0,n)),i||s}},{key:"getMoveDistance",value:function(t,n){var i=!1,s=!1,c=0,g=0;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])i=!0,s=!0;else{var E=this.isAllowMoveNode(t,n);"boolean"==typeof E?(i=E,s=E):(i=E.x,s=E.y)}return i&&t&&(this.x=this.x+t,this.text&&this.moveText(t,0),c=t),s&&n&&(this.y=this.y+n,this.text&&this.moveText(0,n),g=n),[c,g]}},{key:"moveTo",value:function(t,n){var i=t-this.x,s=n-this.y;return!!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.isAllowMoveNode(i,s))&&(this.text&&this.text&&this.moveText(i,s),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text;this.text={value:o.value,editable:o.editable,draggable:o.draggable,x:o.x+t,y:o.y+n}}},{key:"updateText",value:function(t){this.text=kr(kr({},this.text),{},{value:t})}},{key:"setSelected",value:function(){this.isSelected=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){this.isShowAnchor=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setHitable",value:function(){this.isHitable=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=kr(kr({},this.properties),{},Vr({},t,Dr(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=kr(kr({},this.properties),Dr(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=kr(kr({},this.style),{},Vr({},t,Dr(n)))}},{key:"setStyles",value:function(t){this.style=kr(kr({},this.style),Dr(t))}},{key:"updateStyles",value:function(t){this.style=kr({},Dr(t))}},{key:"setZIndex",value:function(){this.zIndex=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}},{key:"updateAttributes",value:function(t){Gr(this,t)}}]),e}(),Bv=It(_e.prototype,"type",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Lv=It(_e.prototype,"x",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zv=It(_e.prototype,"y",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fv=It(_e.prototype,"text",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Gv=It(_e.prototype,"properties",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Hv=It(_e.prototype,"_width",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),kv=It(_e.prototype,"_height",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Uv=It(_e.prototype,"anchorsOffset",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xv=It(_e.prototype,"isSelected",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yv=It(_e.prototype,"isHovered",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wv=It(_e.prototype,"isShowAnchor",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$v=It(_e.prototype,"isDragging",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kv=It(_e.prototype,"isHitable",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vv=It(_e.prototype,"draggable",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zv=It(_e.prototype,"visible",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jv=It(_e.prototype,"zIndex",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Qv=It(_e.prototype,"state",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_v=It(_e.prototype,"autoToFront",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qv=It(_e.prototype,"style",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),It(_e.prototype,"incoming",[y.m],Object.getOwnPropertyDescriptor(_e.prototype,"incoming"),_e.prototype),It(_e.prototype,"outgoing",[y.m],Object.getOwnPropertyDescriptor(_e.prototype,"outgoing"),_e.prototype),It(_e.prototype,"addNodeMoveRules",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"addNodeMoveRules"),_e.prototype),It(_e.prototype,"move",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"move"),_e.prototype),It(_e.prototype,"getMoveDistance",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"getMoveDistance"),_e.prototype),It(_e.prototype,"moveTo",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"moveTo"),_e.prototype),It(_e.prototype,"moveText",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"moveText"),_e.prototype),It(_e.prototype,"updateText",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"updateText"),_e.prototype),It(_e.prototype,"setSelected",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setSelected"),_e.prototype),It(_e.prototype,"setHovered",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setHovered"),_e.prototype),It(_e.prototype,"setIsShowAnchor",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setIsShowAnchor"),_e.prototype),It(_e.prototype,"setHitable",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setHitable"),_e.prototype),It(_e.prototype,"setElementState",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setElementState"),_e.prototype),It(_e.prototype,"setProperty",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setProperty"),_e.prototype),It(_e.prototype,"setProperties",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setProperties"),_e.prototype),It(_e.prototype,"deleteProperty",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"deleteProperty"),_e.prototype),It(_e.prototype,"setStyle",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setStyle"),_e.prototype),It(_e.prototype,"setStyles",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setStyles"),_e.prototype),It(_e.prototype,"updateStyles",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"updateStyles"),_e.prototype),It(_e.prototype,"setZIndex",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setZIndex"),_e.prototype),It(_e.prototype,"updateAttributes",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"updateAttributes"),_e.prototype),_e);function cs(e){return(cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function oy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function iy(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?oy(Object(t),!0).forEach(function(n){uy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Vw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Zw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ay(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ds(){return ds=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=Qw(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},ds.apply(this,arguments)}function Qw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=Wi(e)););return e}function _w(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Zf(e,r)}function Zf(e,r){return(Zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function qw(e){var r=function tA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Wi(e);if(r){var i=Wi(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return eA(this,o)}}function eA(e,r){if(r&&("object"===cs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return ps(e)}function ps(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wi(e){return(Wi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function uy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Jf(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var Cr,sy,ly,hs=(ho=function(e){_w(t,e);var r=qw(t);function t(){var n;Zw(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return uy(ps(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.CIRCLE_NODE),Vw(ps(n),"r",ny,ps(n)),n}return function Jw(e,r,t){return r&&ay(e.prototype,r),t&&ay(e,t),e}(t,[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=ds(Wi(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.circle;return iy(iy({},o),or(i))}},{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,s=this.r;return[{x:o,y:i-s,id:"".concat(this.id,"_0")},{x:o+s,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+s,id:"".concat(this.id,"_2")},{x:o-s,y:i,id:"".concat(this.id,"_3")}]}}]),t}(po),ny=Jf(ho.prototype,"r",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Jf(ho.prototype,"width",[y.m],Object.getOwnPropertyDescriptor(ho.prototype,"width"),ho.prototype),Jf(ho.prototype,"height",[y.m],Object.getOwnPropertyDescriptor(ho.prototype,"height"),ho.prototype),ho);function vs(e){return(vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qf(e,r){return function iA(e){if(Array.isArray(e))return e}(e)||function oA(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function nA(e,r){if(e){if("string"==typeof e)return fy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fy(e,r)}}(e,r)||function rA(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fy(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function cy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function dy(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?cy(Object(t),!0).forEach(function(n){vy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function py(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function aA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ys(){return ys=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=sA(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},ys.apply(this,arguments)}function sA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=Ki(e)););return e}function lA(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_f(e,r)}function _f(e,r){return(_f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function fA(e){var r=function dA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Ki(e);if(r){var i=Ki(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return cA(this,o)}}function cA(e,r){if(r&&("object"===vs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return $i(e)}function $i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ki(e){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function vy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Vi(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}a(127);var Un,yy,gy,gs=(Cr=function(e){lA(t,e);var r=fA(t);function t(){var n;aA(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return vy($i(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.DIAMOND_NODE),py($i(n),"rx",sy,$i(n)),py($i(n),"ry",ly,$i(n)),n}return function uA(e,r,t){return r&&hy(e.prototype,r),t&&hy(e,t),e}(t,[{key:"getNodeStyle",value:function(){var o=ys(Ki(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.diamond;return dy(dy({},o),or(i))}},{key:"points",get:function(){var o=this.x,i=this.y,s=this.rx,c=this.ry;return[[o,i-c],[o+s,i],[o,i+c],[o-s,i]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var g=Qf(s,1)[0];g<o&&(o=g),g>i&&(i=g)}),i-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var g=Qf(s,2)[1];g<o&&(o=g),g>i&&(i=g)}),i-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(i,s){var c=Qf(i,2);return{x:c[0],y:c[1],id:"".concat(o.id,"_").concat(s)}})}}]),t}(po),sy=Vi(Cr.prototype,"rx",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ly=Vi(Cr.prototype,"ry",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Vi(Cr.prototype,"points",[y.m],Object.getOwnPropertyDescriptor(Cr.prototype,"points"),Cr.prototype),Vi(Cr.prototype,"pointsPosition",[y.m],Object.getOwnPropertyDescriptor(Cr.prototype,"pointsPosition"),Cr.prototype),Vi(Cr.prototype,"width",[y.m],Object.getOwnPropertyDescriptor(Cr.prototype,"width"),Cr.prototype),Vi(Cr.prototype,"height",[y.m],Object.getOwnPropertyDescriptor(Cr.prototype,"height"),Cr.prototype),Cr);function ms(e){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function my(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function by(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?my(Object(t),!0).forEach(function(n){xy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):my(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Oy(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function pA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ey(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bs(){return bs=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=vA(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},bs.apply(this,arguments)}function vA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=Ji(e)););return e}function yA(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&qf(e,r)}function qf(e,r){return(qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function gA(e){var r=function bA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Ji(e);if(r){var i=Ji(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return mA(this,o)}}function mA(e,r){if(r&&("object"===ms(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Zi(e)}function Zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function xy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Os(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var vn,Sy,Es=(Un=function(e){yA(t,e);var r=gA(t);function t(){var n;pA(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return xy(Zi(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.ELLIPSE_NODE),Oy(Zi(n),"rx",yy,Zi(n)),Oy(Zi(n),"ry",gy,Zi(n)),n}return function hA(e,r,t){return r&&Ey(e.prototype,r),t&&Ey(e,t),e}(t,[{key:"getNodeStyle",value:function(){var o=bs(Ji(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.ellipse;return by(by({},o),or(i))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,s=this.rx,c=this.ry;return[{x:o,y:i-c,id:"".concat(this.id,"_0")},{x:o+s,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+c,id:"".concat(this.id,"_2")},{x:o-s,y:i,id:"".concat(this.id,"_3")}]}}]),t}(po),yy=Os(Un.prototype,"rx",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),gy=Os(Un.prototype,"ry",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Os(Un.prototype,"width",[y.m],Object.getOwnPropertyDescriptor(Un.prototype,"width"),Un.prototype),Os(Un.prototype,"height",[y.m],Object.getOwnPropertyDescriptor(Un.prototype,"height"),Un.prototype),Un);function xs(e){return(xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ec(e,r){return function SA(e){if(Array.isArray(e))return e}(e)||function xA(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function EA(e,r){if(e){if("string"==typeof e)return Py(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Py(e,r)}}(e,r)||function OA(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Py(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function My(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wy(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?My(Object(t),!0).forEach(function(n){Ty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):My(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function PA(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function MA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ay(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ss(){return Ss=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=AA(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},Ss.apply(this,arguments)}function AA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=Qi(e)););return e}function TA(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&tc(e,r)}function tc(e,r){return(tc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function NA(e){var r=function CA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Qi(e);if(r){var i=Qi(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return DA(this,o)}}function DA(e,r){if(r&&("object"===xs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Ps(e)}function Ps(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qi(e){return(Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ms(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var rc,Ny,ws=(vn=function(e){TA(t,e);var r=NA(t);function t(){var n;MA(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Ty(Ps(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.POLYGON_NODE),PA(Ps(n),"points",Sy,Ps(n)),n}return function wA(e,r,t){return r&&Ay(e.prototype,r),t&&Ay(e,t),e}(t,[{key:"getNodeStyle",value:function(){var o=Ss(Qi(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.polygon;return wy(wy({},o),or(i))}},{key:"pointsPosition",get:function(){var o=this.x,i=this.y,s=this.width,c=this.height;return this.points.map(function(E){return{x:E[0]+o-s/2,y:E[1]+i-c/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var g=ec(s,1)[0];g<o&&(o=g),g>i&&(i=g)}),i-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var g=ec(s,2)[1];g<o&&(o=g),g>i&&(i=g)}),i-o}},{key:"getDefaultAnchor",value:function(){var o=this,i=this.x,s=this.y,c=this.width,g=this.height;return this.points.map(function(A,R){var k=ec(A,2);return{x:i+k[0]-c/2,y:s+k[1]-g/2,id:"".concat(o.id,"_").concat(R)}})}}]),t}(po),Sy=Ms(vn.prototype,"points",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Ms(vn.prototype,"pointsPosition",[y.m],Object.getOwnPropertyDescriptor(vn.prototype,"pointsPosition"),vn.prototype),Ms(vn.prototype,"width",[y.m],Object.getOwnPropertyDescriptor(vn.prototype,"width"),vn.prototype),Ms(vn.prototype,"height",[y.m],Object.getOwnPropertyDescriptor(vn.prototype,"height"),vn.prototype),vn);function As(e){return(As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Dy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Cy(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Dy(Object(t),!0).forEach(function(n){Ry(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jA(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function RA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function jy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ts(){return Ts=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=BA(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},Ts.apply(this,arguments)}function BA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=_i(e)););return e}function LA(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&nc(e,r)}function nc(e,r){return(nc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function zA(e){var r=function GA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=_i(e);if(r){var i=_i(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return FA(this,o)}}function FA(e,r){if(r&&("object"===As(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Ns(e)}function Ns(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _i(e){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ry(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ro,Ds=(rc=function(e){LA(t,e);var r=zA(t);function t(){var n;RA(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Ry(Ns(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.RECT_NODE),jA(Ns(n),"radius",Ny,Ns(n)),n}return function IA(e,r,t){return r&&jy(e.prototype,r),t&&jy(e,t),e}(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,s=this.width,c=this.height;return[{x:o,y:i-c/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+c/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:i,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Ts(_i(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.rect;return Cy(Cy({},o),or(i))}}]),t}(po),Ny=function HA(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}(rc.prototype,"radius",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rc);function Cs(e){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Iy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function By(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Iy(Object(t),!0).forEach(function(n){Fy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Iy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ly(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function js(){return js=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=XA(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},js.apply(this,arguments)}function XA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=qi(e)););return e}function YA(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&oc(e,r)}function oc(e,r){return(oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function WA(e){var r=function KA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=qi(e);if(r){var i=qi(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return $A(this,o)}}function $A(e,r){if(r&&("object"===Cs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return zy(e)}function zy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qi(e){return(qi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Fy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Gy(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var Rs=(Ro=function(e){YA(t,e);var r=WA(t);function t(){var n;kA(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Fy(zy(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.TEXT_NODE),n}return function UA(e,r,t){return r&&Ly(e.prototype,r),t&&Ly(e,t),e}(t,[{key:"getTextStyle",value:function(){var o=js(qi(t.prototype),"getTextStyle",this).call(this),i=this.graphModel.theme.text;return By(By({},o),or(i))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),i=this.getTextStyle();return Of({rows:o,fontSize:i.fontSize,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),i=this.getTextStyle();return Of({rows:o,fontSize:i.fontSize,rowsLength:o.length}).height}}]),t}(po),Gy(Ro.prototype,"width",[y.m],Object.getOwnPropertyDescriptor(Ro.prototype,"width"),Ro.prototype),Gy(Ro.prototype,"height",[y.m],Object.getOwnPropertyDescriptor(Ro.prototype,"height"),Ro.prototype),Ro);function Is(e){return(Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function VA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JA(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ic(e,r)}function ic(e,r){return(ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function QA(e){var r=function qA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Bs(e);if(r){var i=Bs(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return _A(this,o)}}function _A(e,r){if(r&&("object"===Is(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return ky(e)}function ky(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bs(e){return(Bs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function eT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Pn,Uy,Xy,Yy,Ls=function(e){JA(t,e);var r=QA(t);function t(){var n;VA(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return eT(ky(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.HTML_NODE),n}return function ZA(e,r,t){return r&&Hy(e.prototype,r),t&&Hy(e,t),e}(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,s=this.width,c=this.height;return[{x:o,y:i-c/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+c/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:i,id:"".concat(this.id,"_3")}]}}]),t}(po);function Wy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ac(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function $y(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ky(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Fa(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var Vy=(Pn=function(){function e(r){(function rT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Ky(this,"graphModel",void 0),ac(this,"isShowHorizontal",Uy,this),ac(this,"isShowVertical",Xy,this),ac(this,"position",Yy,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return function nT(e,r,t){return r&&$y(e.prototype,r),t&&$y(e,t),e}(e,[{key:"getStyle",value:function(){return function tT(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Wy(Object(t),!0).forEach(function(n){Ky(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,i=t.y,s=!1,c=!1,g=0;g<n.length;g++){var E=n[g];if(E.id!==t.id&&(o===E.x&&(s=!0),i===E.y&&(c=!0),s&&c))break}return{isShowVertical:s,isShowHorizontal:c,position:{x:o,y:i}}}},{key:"getHorizontalSnapline",value:function(t,n){var i,c,o=!1,s=t.id;if(s){var g=this.graphModel.fakerNode;if(g&&g.id===s)c=Qr(g);else{var E=this.graphModel.getNodeModelById(s);c=Qr(E)}}for(var A=0;A<n.length;A++){var R=n[A];if(R.id!==t.id){var k=Qr(R);if(k.minY===c.minY||k.maxY===c.minY){o=!0,i=c.minY;break}if(k.minY===c.maxY||k.maxY===c.maxY){o=!0,i=c.maxY;break}}}return Gr({isShowHorizontal:o,position:{y:i}})}},{key:"getVerticalSnapline",value:function(t,n){var i,c,o=!1,s=t.id;if(s){var g=this.graphModel.fakerNode;if(g&&g.id===s)c=Qr(g);else{var E=this.graphModel.getNodeModelById(s);c=Qr(E)}}for(var A=0;A<n.length;A++){var R=n[A];if(R.id!==t.id){var k=Qr(R);if(k.minX===c.minX||k.maxX===c.minX){o=!0,i=c.minX;break}if(k.minX===c.maxX||k.maxX===c.maxX){o=!0,i=c.maxX;break}}}return Gr({isShowVertical:o,position:{x:i}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),s=o.isShowVertical;if(!o.isShowHorizontal){var c=this.getHorizontalSnapline(t,n);c.isShowHorizontal&&(o.isShowHorizontal=c.isShowHorizontal,o.position.y=c.position.y)}if(!s){var g=this.getVerticalSnapline(t,n);g.isShowVertical&&(o.isShowVertical=g.isShowVertical,o.position.x=g.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical;this.position=t.position,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var o=this.getSnapLinePosition(t,this.graphModel.nodes);this.setSnaplineInfo(o)}}]),e}(),Uy=Fa(Pn.prototype,"isShowHorizontal",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xy=Fa(Pn.prototype,"isShowVertical",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yy=Fa(Pn.prototype,"position",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fa(Pn.prototype,"clearSnapline",[y.k],Object.getOwnPropertyDescriptor(Pn.prototype,"clearSnapline"),Pn.prototype),Fa(Pn.prototype,"setNodeSnapLine",[y.k],Object.getOwnPropertyDescriptor(Pn.prototype,"setNodeSnapLine"),Pn.prototype),Pn),Ga=new Map,Zy=function(r){var t=ni();var o=window.requestAnimationFrame(function n(){if(r(),Ga.get(t)){var s=window.requestAnimationFrame(n);Ga.set(t,s)}});return Ga.set(t,o),t},zs=function(r){var t=Ga.get(r);t&&(window.cancelAnimationFrame(t),Ga.delete(r))};function Fs(e){return(Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ha(){return Ha=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ha.apply(this,arguments)}function Jy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Gs(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Jy(Object(t),!0).forEach(function(n){Yn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function oT(e,r){return function sT(e){if(Array.isArray(e))return e}(e)||function uT(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function aT(e,r){if(e){if("string"==typeof e)return Qy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qy(e,r)}}(e,r)||function iT(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qy(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _y(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cT(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&uc(e,r)}function uc(e,r){return(uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function dT(e){var r=function hT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Hs(e);if(r){var i=Hs(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return pT(this,o)}}function pT(e,r){if(r&&("object"===Fs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Xn(e)}function Xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hs(e){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Yn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vT=function(e){cT(t,e);var r=dT(t);function t(){var n;return function lT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),Yn(Xn(n=r.call(this)),"preTargetNode",void 0),Yn(Xn(n),"sourceRuleResults",void 0),Yn(Xn(n),"targetRuleResults",void 0),Yn(Xn(n),"dragHandler",void 0),Yn(Xn(n),"t",void 0),Yn(Xn(n),"onDragStart",function(o){var i=o.event,s=n.props,c=s.anchorData,g=s.nodeModel,E=s.graphModel,A=E.overlapMode;E.selectNodeById(g.id),A!==Kr.INCREASE&&g.autoToFront&&E.toFront(g.id),E.eventCenter.emit(Tt.ANCHOR_DRAGSTART,{data:c,e:i,nodeModel:g}),n.setState({startX:c.x,startY:c.y,endX:c.x,endY:c.y})}),Yn(Xn(n),"onDraging",function(o){var i=o.event,s=n.props,c=s.graphModel,g=s.nodeModel,E=s.anchorData,A=c.transformModel,R=c.eventCenter,k=c.width,V=c.height,ue=c.editConfigModel,ce=ue.autoExpand,ye=ue.stopMoveGraph,Be=c.getPointByClient({x:i.clientX,y:i.clientY}),Le=Be.domOverlayPosition,lt=Le.x,qe=Le.y,St=Be.canvasOverlayPosition,Ct=St.x,yt=St.y;n.t&&zs(n.t);var Bt=[];lt<10?Bt=[10,0]:lt+10>k?Bt=[-10,0]:qe<10?Bt=[0,10]:qe+10>V&&(Bt=[0,-10]),n.setState({endX:Ct,endY:yt,draging:!0}),n.moveAnchorEnd(Ct,yt),Bt.length>0&&!ye&&ce&&(n.t=Zy(function(){var Vn=oT(Bt,2),Zn=Vn[0],li=Vn[1];A.translate(Zn,li);var na=n.state,Lo=na.endX,oa=na.endY;n.setState({endX:Lo-Zn,endY:oa-li}),n.moveAnchorEnd(Lo-Zn,oa-li)})),R.emit(Tt.ANCHOR_DRAG,{data:E,e:i,nodeModel:g})}),Yn(Xn(n),"onDragEnd",function(o){n.t&&zs(n.t),n.checkEnd(o),n.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var i=n.props;i.graphModel.eventCenter.emit(Tt.ANCHOR_DRAGEND,{data:i.anchorData,e:o,nodeModel:i.nodeModel})}),Yn(Xn(n),"checkEnd",function(o){var i=n.props,s=i.graphModel,c=i.nodeModel,g=i.anchorData,E=g.x,A=g.y,R=g.id,V=n.state,ye=V.draging,pe=mu({x:V.endX,y:V.endY},s);if(n.preTargetNode&&n.preTargetNode.state!==Kt.DEFAULT&&n.preTargetNode.setElementState(Kt.DEFAULT),ye&&pe&&pe.node){var Ge=pe.node,Be=pe.anchor.id,Le="".concat(c.id,"_").concat(Ge.id,"_").concat(Be,"_").concat(R),lt=n.sourceRuleResults.get(Le)||{},qe=lt.isAllPass,St=lt.msg,Ct=n.targetRuleResults.get(Le)||{},Bt=Ct.msg;if(qe&&Ct.isAllPass){Ge.setElementState(Kt.DEFAULT);var Sr=s.edgeGenerator(c.getData(),s.getNodeModelById(pe.node.id).getData()),qr=s.addEdge(Gs(Gs({},Sr),{},{sourceNodeId:c.id,sourceAnchorId:R,startPoint:{x:E,y:A},targetNodeId:pe.node.id,targetAnchorId:pe.anchor.id,endPoint:{x:pe.anchor.x,y:pe.anchor.y}}));s.eventCenter.emit(Tt.ANCHOR_DROP,{data:n.props.anchorData,e:o,nodeModel:c,edgeModel:qr})}else{var Zn=Ge.getData();s.eventCenter.emit(Tt.CONNECTION_NOT_ALLOWED,{data:Zn,msg:Bt||St})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,draging:!1},n.dragHandler=new oi({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return function fT(e,r,t){return r&&_y(e.prototype,r),t&&_y(e,t),e}(t,[{key:"getAnchorShape",value:function(){var o=this.props,i=o.anchorData,s=o.style,g=o.node.getAnchorShape(i);if(g)return g;var E=i.x,A=i.y,R=Gs(Gs({},s),s.hover);return Object(Ee.g)("g",null,Object(Ee.g)(La,Ha({className:"lf-node-anchor-hover"},R,{x:E,y:A})),Object(Ee.g)(La,Ha({className:"lf-node-anchor"},s,{x:E,y:A})))}},{key:"moveAnchorEnd",value:function(o,i){var s=this.props,g=s.nodeModel,E=s.anchorData,A=mu({x:o,y:i},s.graphModel);if(A){var R=A.node,k=A.anchor.id;if(this.preTargetNode&&this.preTargetNode!==A.node&&this.preTargetNode.setElementState(Kt.DEFAULT),E.id===k)return;this.preTargetNode=R;var V="".concat(g.id,"_").concat(R.id,"_").concat(k,"_").concat(E.id);if(!this.targetRuleResults.has(V)){var ue=A.anchor,ce=g.isAllowConnectedAsSource(R,E,ue),ye=R.isAllowConnectedAsTarget(g,E,ue);this.sourceRuleResults.set(V,Ou(ce)),this.targetRuleResults.set(V,Ou(ye))}var Ge=this.sourceRuleResults.get(V).isAllPass,Be=this.targetRuleResults.get(V);R.setElementState(Ge&&Be.isAllPass?Kt.ALLOW_CONNECT:Kt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Kt.DEFAULT&&this.preTargetNode.setElementState(Kt.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state;return Fn(o.startX,o.startY,o.endX,o.endY)>10}},{key:"render",value:function(){var o=this,i=this.state,s=i.startX,c=i.startY,g=i.endX,E=i.endY,A=this.props,R=A.anchorData.edgeAddable,k=A.edgeStyle;return Object(Ee.g)("g",{className:"lf-anchor"},Object(Ee.g)("g",{onMouseDown:function(ue){!1!==R&&o.dragHandler.handleMouseDown(ue)}},this.getAnchorShape()),this.isShowLine()&&Object(Ee.g)(ii,Ha({x1:s,y1:c,x2:g,y2:E},k,{"pointer-events":"none"})))}}]),t}(Ee.a),yT=vT;function qy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gT(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?qy(Object(t),!0).forEach(function(n){mT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ks(e){return(ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function bT(e,r){return function ST(e){if(Array.isArray(e))return e}(e)||function xT(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function ET(e,r){if(e){if("string"==typeof e)return eg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eg(e,r)}}(e,r)||function OT(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function tg(e){var r=e.x,t=void 0===r?0:r,n=e.y,o=void 0===n?0:n,i=e.value,s=e.fontSize,c=e.fill,E=e.overflowMode,A=void 0===E?"default":E,R=e.textWidth,k=void 0===R?"":R,V=e.model,ue={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:void 0===c?"currentColor":c};if(Object.entries(e).forEach(function(Le){var lt=bT(Le,2),qe=lt[0],St=lt[1];"object"!==ks(St)&&(ue[qe]=St)}),i){var ce=String(i).split(/[\r\n]/g),ye=ce.length;if("default"!==A){var pe=V.BaseType;if(pe===pr.NODE&&V.modelType!==Ht.TEXT_NODE||pe===pr.EDGE&&k)return function PT(e){var t=e.fontSize,n=e.model,o=e.fontFamily,i=void 0===o?"":o,s=e.lineHeight,c=e.wrapPadding,g=void 0===c?"0, 0":c,E=e.overflowMode,A=e.x,R=e.y,V=n.textHeight,ue=e.textWidth||n.width,ce=String(e.value).split(/[\r\n]/g),ye=ce.length,pe=Bp({rows:ce,style:{fontSize:"".concat(t,"px"),width:"".concat(ue,"px"),fontFamily:i,lineHeight:s,padding:g},rowsLength:ye,className:"lf-get-text-height"}),Ge=n.height>pe?n.height:pe;V&&(Ge=V);var Be="ellipsis"===E;return Object(Ee.g)("g",null,Object(Ee.g)("foreignObject",{width:ue,height:Ge,x:A-ue/2,y:R-Ge/2},Object(Ee.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Ge,width:ue,padding:g}},Object(Ee.g)("div",{className:Be?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:gT({},e)},ce.map(function(Le){return Object(Ee.g)("div",{className:"lf-node-text--auto-wrap-inner"},Le)})))))}(e)}if(ye>1){var Be=ce.map(function(Le,lt){var St=(lt-(ye-1)/2)*(s+2);return Object(Ee.g)("tspan",{className:"lf-text-tspan",x:t,y:o+St},Le)});return Object(Ee.g)("text",ue,Be)}return Object(Ee.g)("text",ue,i)}}function Us(e){return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function sc(){return sc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},sc.apply(this,arguments)}function MT(e,r){return function NT(e){if(Array.isArray(e))return e}(e)||function TT(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function AT(e,r){if(e){if("string"==typeof e)return rg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rg(e,r)}}(e,r)||function wT(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jT(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&lc(e,r)}function lc(e,r){return(lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function RT(e){var r=function BT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Xs(e);if(r){var i=Xs(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return IT(this,o)}}function IT(e,r){if(r&&("object"===Us(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Io(e)}function Io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xs(e){return(Xs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ai(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}a(63);var og=function(e){jT(t,e);var r=RT(t);function t(n){var o;return function DT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),ai(Io(o=r.call(this)),"dragHandler",void 0),ai(Io(o),"sumDeltaX",0),ai(Io(o),"sumDeltaY",0),ai(Io(o),"stepDrag",void 0),ai(Io(o),"onDraging",function(c){var A=o.props,R=A.model,ue=MT(A.graphModel.transformModel.fixDeltaXY(c.deltaX,c.deltaY),2);R.moveText(ue[0],ue[1])}),ai(Io(o),"dblClickHandler",function(){o.props.editable&&o.props.model.setElementState(Kt.TEXT_EDIT)}),ai(Io(o),"mouseDownHandle",function(c){var g=o.props;(g.draggable||g.graphModel.editConfigModel.nodeTextDraggable)&&o.stepDrag.handleMouseDown(c)}),o.stepDrag=new oi({onDraging:o.onDraging,step:1,model:n.model,isStopPropagation:n.draggable}),o}return function CT(e,r,t){return r&&ng(e.prototype,r),t&&ng(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props,i=o.model,c=i.text,ue={x:c.x,y:c.y,className:"",value:c.value};ue.className=c.editable?"lf-element-text":c.draggable||o.graphModel.editConfigModel.nodeTextDraggable?"lf-text-draggable":"lf-text-disabled";var ce=i.getTextStyle();return Object(Ee.g)(tg,sc({},ue,ce,{model:i}))}},{key:"render",value:function(){if(this.props.model.text)return Object(Ee.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(Ee.a),LT=null!==window.navigator.userAgent.match(/MSIE|Trident/);function Ys(e){return(Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ws(e,r){return function HT(e){if(Array.isArray(e))return e}(e)||function GT(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function FT(e,r){if(e){if("string"==typeof e)return ig(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ig(e,r)}}(e,r)||function zT(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ig(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XT(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&fc(e,r)}function fc(e,r){return(fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function YT(e){var r=function $T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=$s(e);if(r){var i=$s(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return WT(this,o)}}function WT(e,r){if(r&&("object"===Ys(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return jr(e)}function jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $s(e){return($s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ur(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vo=function(e){XT(t,e);var r=YT(t);function t(n){var o;(function kT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,t),Ur(jr(o=r.call(this)),"t",void 0),Ur(jr(o),"moveOffset",void 0),Ur(jr(o),"stepDrag",void 0),Ur(jr(o),"contextMenuTime",void 0),Ur(jr(o),"startTime",void 0),Ur(jr(o),"clickTimer",void 0),Ur(jr(o),"onDragStart",function(E){var A=E.event,V=o.props,ue=V.model,pe=V.graphModel.getPointByClient({x:A.clientX,y:A.clientY}).canvasOverlayPosition;o.moveOffset={x:ue.x-pe.x,y:ue.y-pe.y}}),Ur(jr(o),"onDraging",function(E){var A=E.event,R=o.props,k=R.model,V=R.graphModel,ue=V.editConfigModel,ce=ue.stopMoveGraph,ye=ue.autoExpand,pe=V.transformModel,Ge=V.width,Be=V.height,Le=V.gridSize;k.isDragging=!0;var Ct=V.getPointByClient({x:A.clientX,y:A.clientY}).canvasOverlayPosition,yt=Ct.x,Bt=Ct.y,qr=Ws(pe.CanvasPointToHtmlPoint([yt,Bt]),2),Vn=qr[0],Zn=qr[1];if(Bt+=o.moveOffset.y,yt=To(yt+=o.moveOffset.x,Le),Bt=To(Bt,Le),Ge&&Be){if(!ye||ce||!(Vn<0||Zn<0||Vn>Ge||Zn>Be)){var Lo=Ws(pe.CanvasPointToHtmlPoint([yt-k.width/2,Bt-k.height/2]),2),oa=Lo[0],qc=Lo[1],sm=Ws(pe.CanvasPointToHtmlPoint([yt+k.width/2,Bt+k.height/2]),2),IC=sm[0],BC=sm[1],Fl=Math.max(Le,20),ia=[];oa<0?ia=[Fl,0]:IC>V.width?ia=[-Fl,0]:qc<0?ia=[0,Fl]:BC>V.height&&(ia=[0,-Fl]),o.t&&zs(o.t),ia.length>0&&!ce&&ye?o.t=Zy(function(){var lm=Ws(ia,2),fm=lm[0],cm=lm[1];pe.translate(fm,cm),V.moveNode(k.id,-fm/pe.SCALE_X,-cm/pe.SCALE_X)}):V.moveNode2Coordinate(k.id,yt,Bt)}}else V.moveNode2Coordinate(k.id,yt,Bt)}),Ur(jr(o),"onDragEnd",function(){o.t&&zs(o.t),o.props.model.isDragging=!1}),Ur(jr(o),"handleClick",function(E){if(o.startTime&&!((new Date).getTime()-o.startTime>200)){var R=o.props,k=R.model,V=R.graphModel,ye={data:k.getData(),e:E,position:V.getPointByClient({x:E.clientX,y:E.clientY})},Ge=2===E.detail;if(2!==E.button){var Be=V.editConfigModel;V.selectNodeById(k.id,Tp(E,Be)),o.toFront(),Ge?(Be.nodeTextEdit&&k.text.editable&&(k.setSelected(!1),V.setElementStateById(k.id,Kt.TEXT_EDIT)),V.eventCenter.emit(Tt.NODE_DBCLICK,ye)):(V.eventCenter.emit(Tt.ELEMENT_CLICK,ye),V.eventCenter.emit(Tt.NODE_CLICK,ye))}}}),Ur(jr(o),"handleContextMenu",function(E){E.preventDefault();var A=o.props,R=A.model,k=A.graphModel,V=R.getData(),ue=k.getPointByClient({x:E.clientX,y:E.clientY});k.setElementStateById(R.id,Kt.SHOW_MENU,ue.domOverlayPosition),k.selectNodeById(R.id),k.eventCenter.emit(Tt.NODE_CONTEXTMENU,{data:V,e:E,position:ue}),o.toFront()}),Ur(jr(o),"handleMouseDown",function(E){var A=o.props,R=A.model,k=A.graphModel;o.startTime=(new Date).getTime(),k.editConfigModel.adjustNodePosition&&R.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(E)}),Ur(jr(o),"setHoverON",function(E){var A=o.props,R=A.model,k=A.graphModel;if(!R.isHovered){var V=R.getData();R.setHovered(!0),k.eventCenter.emit(Tt.NODE_MOUSEENTER,{data:V,e:E})}}),Ur(jr(o),"setHoverOFF",function(E){var A=o.props,R=A.model,k=A.graphModel,V=R.getData();!R.isHovered||(R.setHovered(!1),k.eventCenter.emit(Tt.NODE_MOUSELEAVE,{data:V,e:E}))}),Ur(jr(o),"onMouseOut",function(E){LT&&o.setHoverOFF(E)});var i=n.graphModel;return o.stepDrag=new oi({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:i.gridSize,eventType:"NODE",isStopPropagation:!1,eventCenter:i.eventCenter,model:n.model}),o}return function UT(e,r,t){return r&&ag(e.prototype,r),t&&ag(e,t),e}(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,i=this.props,s=i.model,c=i.graphModel;return s.isHitable&&(s.isSelected||s.isShowAnchor)&&!s.isDragging?cu(s.anchors,function(k,V){var ue=s.getAnchorLineStyle(k),ce=s.getAnchorStyle(k);return Object(Ee.g)(yT,{anchorData:k,node:o,style:ce,edgeStyle:ue,anchorIndex:V,nodeModel:s,graphModel:c,setHoverOFF:o.setHoverOFF})}):[]}},{key:"getText",value:function(){var o=this.props,i=o.model,s=o.graphModel;if(i.state===Kt.TEXT_EDIT)return"";if(i.text){var c=s.editConfigModel,g=!1;return(i.text.draggable||c.nodeTextDraggable)&&(g=!0),Object(Ee.g)(og,{editable:c.nodeTextEdit&&i.text.editable,model:i,graphModel:s,draggable:g})}}},{key:"getStateClassName",value:function(){var o=this.props.model,s=o.isDraging,c=o.isSelected,g="lf-node";switch(o.state){case Kt.ALLOW_CONNECT:g+=" lf-node-allow";break;case Kt.NOT_ALLOW_CONNECT:g+=" lf-node-not-allow";break;default:g+=" lf-node-default"}return s&&(g+=" lf-isDragging"),c&&(g+=" lf-node-selected"),g}},{key:"toFront",value:function(){var o=this.props,i=o.model,s=o.graphModel;s.overlapMode!==Kr.INCREASE&&i.autoToFront&&s.toFront(i.id)}},{key:"render",value:function(){var ce,o=this.props,i=o.model,s=o.graphModel,c=s.editConfigModel,g=c.hideAnchors,E=c.adjustNodePosition,A=s.gridSize,R=s.transformModel.SCALE_X,k=i.isHitable,V=i.draggable,ue=Object(Ee.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),g?null:this.getAnchors());return k?(E&&V&&this.stepDrag.setStep(A*R),ce=Object(Ee.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},ue)):ce=Object(Ee.g)("g",{className:this.getStateClassName()},ue),ce}}],[{key:"getModel",value:function(o){return o}}]),t}(Ee.a);function Ks(e){return(Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function cc(){return cc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},cc.apply(this,arguments)}function KT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ug(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZT(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&dc(e,r)}function dc(e,r){return(dc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function JT(e){var r=function qT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Vs(e);if(r){var i=Vs(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return QT(this,o)}}function QT(e,r){if(r&&("object"===Ks(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vs(e){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var pc=function(e){ZT(t,e);var r=JT(t);function t(){return KT(this,t),r.apply(this,arguments)}return function VT(e,r,t){return r&&ug(e.prototype,r),t&&ug(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.getNodeStyle();return Object(Ee.g)(Co,cc({},i,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(vo);function Zs(e){return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hc(){return hc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},hc.apply(this,arguments)}function eN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rN(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&vc(e,r)}function vc(e,r){return(vc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function nN(e){var r=function aN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Js(e);if(r){var i=Js(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return oN(this,o)}}function oN(e,r){if(r&&("object"===Zs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function iN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Js(e){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var yc=function(e){rN(t,e);var r=nN(t);function t(){return eN(this,t),r.apply(this,arguments)}return function tN(e,r,t){return r&&sg(e.prototype,r),t&&sg(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.x,s=o.y,c=o.r,g=o.getNodeStyle();return Object(Ee.g)(La,hc({},g,{x:i,y:s,r:c}))}}]),t}(vo);function Qs(e){return(Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function uN(e,r){return function cN(e){if(Array.isArray(e))return e}(e)||function fN(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function lN(e,r){if(e){if("string"==typeof e)return lg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lg(e,r)}}(e,r)||function sN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function fg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var i=uN(o,2),s=i[0],c=i[1];"object"!==Qs(c)&&(n[s]=c)}),n.className=t?"lf-basic-shape ".concat(t):"lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(Ee.g)("polygon",n)}function _s(e){return(_s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gc(){return gc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},gc.apply(this,arguments)}function dN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hN(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&mc(e,r)}function mc(e,r){return(mc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function vN(e){var r=function mN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=qs(e);if(r){var i=qs(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return yN(this,o)}}function yN(e,r){if(r&&("object"===_s(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function gN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qs(e){return(qs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var bc=function(e){hN(t,e);var r=vN(t);function t(){return dN(this,t),r.apply(this,arguments)}return function pN(e,r,t){return r&&cg(e.prototype,r),t&&cg(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.x,s=o.y,c=o.width,g=o.height,E=o.points,A=o.getNodeStyle(),R={transform:"matrix(1 0 0 1 ".concat(i-c/2," ").concat(s-g/2,")")};return Object(Ee.g)("g",R,Object(Ee.g)(fg,gc({},A,{points:E,x:i,y:s})))}}]),t}(vo);function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Oc(){return Oc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Oc.apply(this,arguments)}function bN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EN(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ec(e,r)}function Ec(e,r){return(Ec=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function xN(e){var r=function MN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=tl(e);if(r){var i=tl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return SN(this,o)}}function SN(e,r){if(r&&("object"===el(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function PN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tl(e){return(tl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var xc=function(e){EN(t,e);var r=xN(t);function t(){return bN(this,t),r.apply(this,arguments)}return function ON(e,r,t){return r&&dg(e.prototype,r),t&&dg(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.getNodeStyle();return Object(Ee.g)("g",null,Object(Ee.g)(fg,Oc({},i,{points:o.points,x:o.x,y:o.y})))}}]),t}(vo);function rl(e){return(rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function wN(e,r){return function DN(e){if(Array.isArray(e))return e}(e)||function NN(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function TN(e,r){if(e){if("string"==typeof e)return pg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pg(e,r)}}(e,r)||function AN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function CN(e){var r=e.x,n=e.y,i=e.rx,c=e.ry,E=e.className,A={cx:void 0===r?0:r,cy:void 0===n?0:n,rx:void 0===i?4:i,ry:void 0===c?4:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(R){var k=wN(R,2),V=k[0],ue=k[1];"object"!==rl(ue)&&(A[V]=ue)}),A.className=E?"lf-basic-shape ".concat(E):"lf-basic-shape",Object(Ee.g)("ellipse",A)}function nl(e){return(nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sc(){return Sc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Sc.apply(this,arguments)}function jN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IN(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Pc(e,r)}function Pc(e,r){return(Pc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function BN(e){var r=function FN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=ol(e);if(r){var i=ol(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return LN(this,o)}}function LN(e,r){if(r&&("object"===nl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function zN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Mc=function(e){IN(t,e);var r=BN(t);function t(){return jN(this,t),r.apply(this,arguments)}return function RN(e,r,t){return r&&hg(e.prototype,r),t&&hg(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.getNodeStyle();return Object(Ee.g)(CN,Sc({},i,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(vo);function il(e){return(il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function vg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yg(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?vg(Object(t),!0).forEach(function(n){GN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function GN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function HN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UN(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&wc(e,r)}function wc(e,r){return(wc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function XN(e){var r=function $N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=al(e);if(r){var i=al(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return YN(this,o)}}function YN(e,r){if(r&&("object"===il(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function WN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function al(e){return(al=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Ac=function(e){UN(t,e);var r=XN(t);function t(){return HN(this,t),r.apply(this,arguments)}return function kN(e,r,t){return r&&gg(e.prototype,r),t&&gg(e,t),e}(t,[{key:"getBackground",value:function(){var o=this.props.model,i=o.getTextStyle(),s=o.text;if(s&&s.value&&i.background&&"transparnet"!==i.background.fill){var c=s.x,g=s.y,E=o.width,A=o.height,R=yg(yg({},i.background),{},{x:c,y:g-1,width:E,height:A});return Object(Ee.g)(Co,R)}}},{key:"getShape",value:function(){return Object(Ee.g)("g",null,this.getBackground())}}]),t}(vo);function ul(e){return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Tc(){return Tc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tc.apply(this,arguments)}function KN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZN(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Nc(e,r)}function Nc(e,r){return(Nc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function JN(e){var r=function _N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=sl(e);if(r){var i=sl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return QN(this,o)}}function QN(e,r){if(r&&("object"===ul(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return ka(e)}function ka(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sl(e){return(sl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ll(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Dc=function(e){ZN(t,e);var r=JN(t);function t(){var n;KN(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return ll(ka(n=r.call.apply(r,[this].concat(i))),"ref",void 0),ll(ka(n),"currentProperties",void 0),ll(ka(n),"preProperties",void 0),ll(ka(n),"setRef",function(c){n.ref=c}),n}return function VN(e,r,t){return r&&mg(e.prototype,r),t&&mg(e,t),e}(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,i=o.x,s=o.y,c=o.height,g=o.width,E=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(Ee.g)("foreignObject",Tc({},E,{x:i-g/2,y:s-c/2,width:g,height:c,ref:this.setRef}))}}]),t}(vo);function fl(e){return(fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Cc(){return Cc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Cc.apply(this,arguments)}function bg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ui(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?bg(Object(t),!0).forEach(function(n){Ic(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tD(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jc(e,r)}function jc(e,r){return(jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function rD(e){var r=function oD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=cl(e);if(r){var i=cl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return nD(this,o)}}function nD(e,r){if(r&&("object"===fl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Rc(e)}function Rc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cl(e){return(cl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ic(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var iD=function(e){tD(t,e);var r=rD(t);function t(n){var o;return function qN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),Ic(Rc(o=r.call(this,n)),"setHoverON",function(){o.setState({isHoverd:!0})}),Ic(Rc(o),"setHoverOFF",function(){o.setState({isHoverd:!1})}),o.state={isHoverd:!1},o}return function eD(e,r,t){return r&&Og(e.prototype,r),t&&Og(e,t),e}(t,[{key:"getBackground",value:function(){var o=this.props.model,i=o.getTextStyle(),s=o.text,c=i.background||{};if(this.state.isHoverd&&i.hover&&i.hover.background&&(c=ui(ui({},c),i.hover.background)),s&&s.value&&"transparent"!==c.fill){var Be,E=i.fontSize,A=i.overflowMode,R=i.lineHeight,k=i.wrapPadding,V=i.textWidth,ce=s.x,ye=s.y,pe=String(s.value).split(/[\r\n]/g),Ge=pe.length;if("autoWrap"===A&&V){var Le=Bp({rows:pe,style:{fontSize:"".concat(E,"px"),width:"".concat(V,"px"),lineHeight:R,padding:k},rowsLength:Ge,className:"lf-get-text-height"});Be=ui(ui({},c),{},{x:ce-1,y:ye-1,width:V,height:Le})}else{var lt=0;pe&&pe.forEach(function(Bt){var Sr=wh(Bt);lt=Sr>lt?Sr:lt});var qe=Of({rows:pe,fontSize:E,rowsLength:Ge}),St=qe.width,Ct=qe.height;if("string"==typeof c.wrapPadding){var yt=c.wrapPadding.split(",").filter(function(Bt){return Bt.trim()}).map(function(Bt){return parseFloat(Bt.trim())});yt.length>0&&yt.length<=4&&(1===yt.length?yt=[yt[0],yt[0],yt[0],yt[0]]:2===yt.length?yt=[yt[0],yt[1],yt[0],yt[1]]:3===yt.length&&(yt=[yt[0],yt[1],yt[2],yt[1]]),St+=yt[1]+yt[3],Ct+=yt[0]+yt[2],ce+=(yt[1]-yt[3])/2,ye+=(yt[2]-yt[0])/2)}Be=ui(ui({},c),{},{x:ce-1,y:ye-1,width:St,height:Ct})}return Object(Ee.g)(Co,Be)}}},{key:"getShape",value:function(){var o=this.props.model,i=o.text,s=i.value;if(s){var A=ui({x:i.x,y:i.y,className:"lf-element-text",value:s},o.getTextStyle());return Object(Ee.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(Ee.g)(tg,Cc({},A,{model:o})))}}}]),t}(og);function dl(e){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Bc(){return Bc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Bc.apply(this,arguments)}function Eg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yo(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Eg(Object(t),!0).forEach(function(n){wn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Eg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function aD(e,r){return function fD(e){if(Array.isArray(e))return e}(e)||function lD(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function sD(e,r){if(e){if("string"==typeof e)return xg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xg(e,r)}}(e,r)||function uD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pD(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lc(e,r)}function Lc(e,r){return(Lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function hD(e){var r=function yD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=pl(e);if(r){var i=pl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return vD(this,o)}}function vD(e,r){if(r&&("object"===dl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Mn(e)}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pl(e){return(pl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function wn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var An=(()=>(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(An||(An={})),An))(),Pg=function(e){pD(t,e);var r=hD(t);function t(){var n;return function cD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),wn(Mn(n=r.call(this)),"dragHandler",void 0),wn(Mn(n),"oldEdge",void 0),wn(Mn(n),"preTargetNode",void 0),wn(Mn(n),"targetRuleResults",void 0),wn(Mn(n),"sourceRuleResults",void 0),wn(Mn(n),"onDragStart",function(){var o=n.props,i=o.x,s=o.y,c=o.edgeModel;n.oldEdge={startPoint:c.startPoint,endPoint:c.endPoint,pointsList:c.pointsList},n.setState({endX:i,endY:s,draging:!0}),c.isHitable=!1}),wn(Mn(n),"onDraging",function(o){var c=n.state,g=c.endX,E=c.endY,A=n.props,R=A.graphModel,k=A.type,ce=aD(R.transformModel.moveCanvasPointByHtml([g,E],o.deltaX,o.deltaY),2),ye=ce[0],pe=ce[1];n.setState({endX:ye,endY:pe,draging:!0});var Ge=n.props.edgeModel,Be=mu({x:g,y:E},R);if(Be&&Be.node&&n.isAllowAdjust(Be)){var Le,lt=Ge.startPoint,qe=Ge.endPoint;k===An.SOURCE?Le={startPoint:{x:Be.anchor.x,y:Be.anchor.y},endPoint:{x:qe.x,y:qe.y},sourceNode:Be.node,targetNode:Ge.targetNode}:k===An.TARGET&&(Le={startPoint:{x:lt.x,y:lt.y},endPoint:{x:Be.anchor.x,y:Be.anchor.y},sourceNode:Ge.sourceNode,targetNode:Be.node}),Ge.updateAfterAdjustStartAndEnd(Le)}else k===An.SOURCE?Ge.updateStartPoint({x:ye,y:pe}):k===An.TARGET&&Ge.updateEndPoint({x:ye,y:pe})}),wn(Mn(n),"onDragEnd",function(){var o;n.setState({draging:!1});var i=n.props,s=i.graphModel,c=i.edgeModel,g=i.type;c.isHitable=!0;var E=n.state,k=E.draging,V=mu({x:E.endX,y:E.endY},s);if(k){if(V&&V.node&&n.isAllowAdjust(V)){var ue,ce=c.getData(),ye=yo(yo({},ce),{},{sourceAnchorId:"",targetAnchorId:"",text:(null==ce||null===(ue=ce.text)||void 0===ue?void 0:ue.value)||""});g===An.SOURCE?ye=yo(yo({},s.edgeGenerator(s.getNodeModelById(V.node.id).getData(),s.getNodeModelById(c.targetNodeId).getData(),ye)),{},{sourceNodeId:V.node.id,sourceAnchorId:V.anchor.id,startPoint:{x:V.anchor.x,y:V.anchor.y},targetNodeId:c.targetNodeId,endPoint:yo({},c.endPoint)}):g===An.TARGET&&(ye=yo(yo({},s.edgeGenerator(s.getNodeModelById(c.sourceNodeId).getData(),s.getNodeModelById(V.node.id).getData(),ye)),{},{sourceNodeId:c.sourceNodeId,startPoint:yo({},c.startPoint),targetNodeId:V.node.id,targetAnchorId:V.anchor.id,endPoint:{x:V.anchor.x,y:V.anchor.y}})),s.deleteEdgeById(c.id);var Be=s.addEdge(yo({},ye));s.eventCenter.emit(Tt.EDGE_EXCHANGE_NODE,{data:{newEdge:Be.getData(),oldEdge:c.getData()}})}else n.recoveryEdge();null===(o=n.preTargetNode)||void 0===o||o.setElementState(Kt.DEFAULT)}}),wn(Mn(n),"recoveryEdge",function(){var o=n.props.edgeModel,i=n.oldEdge,c=i.endPoint,g=i.pointsList;o.updateStartPoint(i.startPoint),o.updateEndPoint(c),o.modelType!==Ht.LINE_EDGE&&(o.pointsList=g,o.initPoints())}),wn(Mn(n),"getAdjustPointStyle",function(){return n.props.graphModel.theme.edgeAdjust}),n.state={draging:!1,endX:0,endY:0},n.targetRuleResults=new Map,n.sourceRuleResults=new Map,n.dragHandler=Cf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return function dD(e,r,t){return r&&Sg(e.prototype,r),t&&Sg(e,t),e}(t,[{key:"isAllowAdjust",value:function(o){var i=this.props,s=i.edgeModel,g=s.sourceNode,E=s.targetNode,A=s.sourceAnchorId,k=i.type,V=null,ue=null,ce=null,ye=null;if(k===An.SOURCE?(V=o.node,ue=E,ce=o.anchor,ye=E.getAnchorInfo(s.targetAnchorId)):(V=g,ue=o.node,ye=o.anchor,ce=g.getAnchorInfo(A)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(Kt.DEFAULT),this.preTargetNode=o.node,ye.id===ce.id)return!1;var pe="".concat(V.id,"_").concat(ue.id,"_").concat(ce.id,"_").concat(ye.id);if(!this.targetRuleResults.has(pe)){var Ge=V.isAllowConnectedAsSource(ue,ce,ye),Be=ue.isAllowConnectedAsTarget(V,ce,ye);this.sourceRuleResults.set(pe,Ou(Ge)),this.targetRuleResults.set(pe,Ou(Be))}var lt=this.sourceRuleResults.get(pe).isAllPass,St=this.targetRuleResults.get(pe).isAllPass,Ct=lt&&St?Kt.ALLOW_CONNECT:Kt.NOT_ALLOW_CONNECT;return k===An.SOURCE?V.setElementState(Ct):ue.setElementState(Ct),lt&&St}},{key:"render",value:function(){var o=this.props,i=o.x,s=o.y,c=this.state.draging,g=this.getAdjustPointStyle();return Object(Ee.g)("g",null,Object(Ee.g)(La,Bc({className:"lf-edge-adjust-point"},g,{x:i,y:s,onMouseDown:this.dragHandler,"pointer-events":c?"none":""})))}}]),t}(Ee.a);function hl(e){return(hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function vl(){return vl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},vl.apply(this,arguments)}function Mg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wg(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Mg(Object(t),!0).forEach(function(n){Nn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function gD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bD(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zc(e,r)}function zc(e,r){return(zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function OD(e){var r=function xD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=yl(e);if(r){var i=yl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return ED(this,o)}}function ED(e,r){if(r&&("object"===hl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Tn(e)}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yl(e){return(yl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Nn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ua=function(e){bD(t,e);var r=OD(t);function t(){var n;gD(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Nn(Tn(n=r.call.apply(r,[this].concat(i))),"startTime",void 0),Nn(Tn(n),"contextMenuTime",void 0),Nn(Tn(n),"clickTimer",void 0),Nn(Tn(n),"handleHover",function(c,g){var E=n.props,A=E.model,R=E.graphModel.eventCenter;A.setHovered(c);var k=c?Tt.EDGE_MOUSEENTER:Tt.EDGE_MOUSELEAVE,V=A.getData();R.emit(k,{data:V,e:g})}),Nn(Tn(n),"setHoverON",function(c){n.props.model.isHovered||n.handleHover(!0,c)}),Nn(Tn(n),"setHoverOFF",function(c){n.handleHover(!1,c)}),Nn(Tn(n),"handleContextMenu",function(c){c.preventDefault(),n.contextMenuTime=(new Date).getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var g=n.props,E=g.model,A=g.graphModel,R=A.getPointByClient({x:c.clientX,y:c.clientY});A.setElementStateById(E.id,Kt.SHOW_MENU,R.domOverlayPosition),n.toFront(),A.selectEdgeById(E.id);var k=E?.getData();A.eventCenter.emit(Tt.EDGE_CONTEXTMENU,{data:k,e:c,position:R})}),Nn(Tn(n),"handleMouseDown",function(c){c.stopPropagation(),n.startTime=(new Date).getTime()}),Nn(Tn(n),"handleMouseUp",function(c){if(n.startTime&&!((new Date).getTime()-n.startTime>200||2===c.button)){var A=2===c.detail,R=n.props,k=R.model,V=R.graphModel,ue=k?.getData(),ce=V.getPointByClient({x:c.clientX,y:c.clientY});if(A){var ye=V.editConfigModel,pe=V.textEditElement;if(pe&&pe.id===k.id&&V.setElementStateById(k.id,Kt.DEFAULT),ye.edgeTextEdit&&k.text.editable&&V.setElementStateById(k.id,Kt.TEXT_EDIT),k.modelType===Ht.POLYLINE_EDGE){var Ge=k,Le=V.getPointByClient({x:c.x,y:c.y}).canvasOverlayPosition,St=Th({x:Le.x,y:Le.y},Ge.points);Ge.dbClickPosition=St}V.eventCenter.emit(Tt.EDGE_DBCLICK,{data:ue,e:c,position:ce})}else V.eventCenter.emit(Tt.ELEMENT_CLICK,{data:ue,e:c,position:ce}),V.eventCenter.emit(Tt.EDGE_CLICK,{data:ue,e:c,position:ce});V.selectEdgeById(k.id,Tp(c,V.editConfigModel)),n.toFront()}}),Nn(Tn(n),"getIsDragging",function(){return!1}),n}return function mD(e,r,t){return r&&Ag(e.prototype,r),t&&Ag(e,t),e}(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,i=o.model,s=o.graphModel;if(i.state===Kt.TEXT_EDIT)return"";var c=!1,g=s.editConfigModel;return(i.text.draggable||g.edgeTextDraggable)&&(c=!0),Object(Ee.g)(iD,{editable:g.edgeTextEdit&&i.text.editable,model:i,graphModel:s,draggable:c})}},{key:"getArrowInfo",value:function(){var o=this.props.model;return{start:o.startPoint,end:o.endPoint,hover:this.state.hover,isSelected:o.isSelected}}},{key:"getArrowStyle",value:function(){var o=this.props,i=o.model,s=o.graphModel,c=i.getEdgeStyle(),g=i.getEdgeAnimationStyle(),E=s.theme.arrow,A=i.isAnimation?g.stroke:c.stroke;return wg(wg({},c),{},{fill:A,stroke:A},E)}},{key:"getArrow",value:function(){var o=this.props.model.id,i=this.getArrowStyle(),s=i.refY,c=void 0===s?0:s,g=i.refX,E=void 0===g?2:g;return Object(Ee.g)("g",null,Object(Ee.g)("defs",null,Object(Ee.g)("marker",{id:"marker-start-".concat(o),refX:-E,refY:c,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(Ee.g)("marker",{id:"marker-end-".concat(o),refX:E,refY:c,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.getArrowStyle(),i=o.stroke,s=o.strokeWidth,c=o.offset,g=o.verticalLength;return Object(Ee.g)("path",{stroke:i,fill:i,strokeWidth:s,d:"M 0 0 L ".concat(c," -").concat(g," L ").concat(c," ").concat(g," Z")})}},{key:"getEndArrow",value:function(){var o=this.getArrowStyle(),i=o.stroke,s=o.strokeWidth,c=o.offset,g=o.verticalLength;return Object(Ee.g)("path",{stroke:i,fill:i,strokeWidth:s,transform:"rotate(180)",d:"M 0 0 L ".concat(c," -").concat(g," L ").concat(c," ").concat(g," Z")})}},{key:"getAdjustPoints",value:function(){var o=this.props,i=o.model,s=o.graphModel,c=i.getAdjustStart(),g=i.getAdjustEnd();return Object(Ee.g)("g",null,Object(Ee.g)(Pg,vl({type:"SOURCE"},c,{edgeModel:i,graphModel:s})),Object(Ee.g)(Pg,vl({type:"TARGET"},g,{edgeModel:i,graphModel:s})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(Ee.g)("g",null)}},{key:"getAppend",value:function(){return Object(Ee.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,i=o.graphModel;i.overlapMode!==Kr.INCREASE&&i.toFront(o.model.id)}},{key:"render",value:function(){var o=this.props,i=o.model,s=i.isSelected,c=i.isHitable,g=o.graphModel,E=this.getIsDragging(),A=g.editConfigModel.adjustEdgeStartAndEnd,k=s&&g.animation.edge&&1===g.getSelectElements().edges.length;return Object(Ee.g)("g",null,Object(Ee.g)("g",{className:["lf-edge",!c&&"pointer-none",s&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),k&&this.getAnimation(),this.getText(),this.getArrow()),A&&s&&!E?this.getAdjustPoints():"")}}]),t}(Ee.a);function gl(e){return(gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function SD(e,r){return function AD(e){if(Array.isArray(e))return e}(e)||function wD(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function MD(e,r){if(e){if("string"==typeof e)return Tg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tg(e,r)}}(e,r)||function PD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var ea=function TD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=SD(t,2),o=n[0],i=n[1],s=gl(i);("style"===o||"object"!==s)&&(r[o]=i)}),Object(Ee.g)("path",r)};function ml(e){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function bl(){return bl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},bl.apply(this,arguments)}function ND(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CD(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Fc(e,r)}function Fc(e,r){return(Fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function jD(e){var r=function BD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Ol(e);if(r){var i=Ol(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return RD(this,o)}}function RD(e,r){if(r&&("object"===ml(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function ID(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ol(e){return(Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Gc=function(e){CD(t,e);var r=jD(t);function t(){return ND(this,t),r.apply(this,arguments)}return function DD(e,r,t){return r&&Ng(e.prototype,r),t&&Ng(e,t),e}(t,[{key:"getEdge",value:function(){var o=this.props.model,i=o.startPoint,s=o.endPoint,c=o.isAnimation,g=o.arrowConfig,E=o.getEdgeStyle(),A=o.getEdgeAnimationStyle(),R=A.strokeDasharray,k=A.stroke,V=A.strokeDashoffset,ue=A.animationName,ce=A.animationDuration,ye=A.animationIterationCount,pe=A.animationTimingFunction,Ge=A.animationDirection;return Object(Ee.g)(ii,bl({},E,{x1:i.x,y1:i.y,x2:s.x,y2:s.y},g,c?{strokeDasharray:R,stroke:k,style:{strokeDashoffset:V,animationName:ue,animationDuration:ce,animationIterationCount:ye,animationTimingFunction:pe,animationDirection:Ge}}:{}))}},{key:"getShape",value:function(){return Object(Ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,i=o.getAnimation(),s=i.stroke,c=i.className,g=i.strokeDasharray,E=o.startPoint,A=o.endPoint,R=o.getEdgeStyle();return Object(Ee.g)("g",null,Object(Ee.g)(ii,bl({},R,{x1:E.x,y1:E.y,x2:A.x,y2:A.y,className:c,strokeDasharray:g,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,g=function(r){var o,t=r.start,n=r.end;if(t.x===n.x&&t.y===n.y)o="";else{var i={start:t,end:n,offset:10,verticalLength:5},s=ja(Mu(Mu({},i),{},{type:"start"})),c=ja(Mu(Mu({},i),{},{type:"end"}));o="M".concat(s.leftX," ").concat(s.leftY," \n    L").concat(s.rightX," ").concat(s.rightY," \n    L").concat(c.rightX," ").concat(c.rightY,"\n    L").concat(c.leftX," ").concat(c.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),E=g.d,A=g.strokeWidth,R=g.fill,k=g.strokeDasharray,V=g.stroke;return Object(Ee.g)(ea,{d:E,fill:R,strokeWidth:A,stroke:V,strokeDasharray:k})}}]),t}(Ua);function El(e){return(El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function LD(e,r){return function HD(e){if(Array.isArray(e))return e}(e)||function GD(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function FD(e,r){if(e){if("string"==typeof e)return Dg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dg(e,r)}}(e,r)||function zD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Cg=function kD(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=LD(t,2),o=n[0],i=n[1];("style"===o||"object"!==El(i))&&(r[o]=i)}),Object(Ee.g)("polyline",r)};function xl(e){return(xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function jg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Sl(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?jg(Object(t),!0).forEach(function(n){$n(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Pl(){return Pl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Pl.apply(this,arguments)}function UD(e,r){return function $D(e){if(Array.isArray(e))return e}(e)||function WD(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function YD(e,r){if(e){if("string"==typeof e)return Rg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rg(e,r)}}(e,r)||function XD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ig(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZD(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hc(e,r)}function Hc(e,r){return(Hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function JD(e){var r=function _D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Ml(e);if(r){var i=Ml(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return QD(this,o)}}function QD(e,r){if(r&&("object"===xl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Wn(e)}function Wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ml(e){return(Ml=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function $n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var kc=function(e){ZD(t,e);var r=JD(t);function t(){var n;return function KD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),$n(Wn(n=r.call(this)),"drag",void 0),$n(Wn(n),"isDraging",void 0),$n(Wn(n),"appendInfo",void 0),$n(Wn(n),"dragHandler",void 0),$n(Wn(n),"onDragStart",function(){n.props.model.dragAppendStart()}),$n(Wn(n),"onDraging",function(o){var i=o.deltaX,s=o.deltaY,c=n.props,g=c.model,E=c.graphModel;n.isDraging=!0;var R=E.editConfigModel,V=UD(E.transformModel.fixDeltaXY(i,s),2),ue=V[0],ce=V[1],ye=g;n.appendInfo=R.adjustEdgeMiddle?ye.dragAppendSimple(n.appendInfo,{x:ue,y:ce}):ye.dragAppend(n.appendInfo,{x:ue,y:ce})}),$n(Wn(n),"onDragEnd",function(){var o=n.props,s=o.graphModel.eventCenter,c=o.model;c.dragAppendEnd(),n.isDraging=!1,n.appendInfo=void 0,s.emit(Tt.EDGE_ADJUST,{data:c.getData()})}),$n(Wn(n),"beforeDragStart",function(o,i){i.dragAble&&n.dragHandler(o),n.appendInfo=i}),$n(Wn(n),"getIsDragging",function(){return n.isDraging}),n.drag=Cf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return function VD(e,r,t){return r&&Ig(e.prototype,r),t&&Ig(e,t),e}(t,[{key:"getEdge",value:function(){var o=this.props.model,i=o.points,s=o.isAnimation,c=o.arrowConfig,g=o.getEdgeStyle(),E=o.getEdgeAnimationStyle(),A=E.strokeDasharray,R=E.stroke,k=E.strokeDashoffset,V=E.animationName,ue=E.animationDuration,ce=E.animationIterationCount,ye=E.animationTimingFunction,pe=E.animationDirection;return Object(Ee.g)(Cg,Pl({points:i},g,c,s?{strokeDasharray:A,stroke:R,style:{strokeDashoffset:k,animationName:V,animationDuration:ue,animationIterationCount:ce,animationTimingFunction:ye,animationDirection:pe}}:{}))}},{key:"getShape",value:function(){return Object(Ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,i=o.getAnimation(),s=i.stroke,c=i.className,g=i.strokeDasharray,E=o.getEdgeStyle();return Object(Ee.g)("g",null,Object(Ee.g)(Cg,Pl({points:o.points},E,{className:c,strokeDasharray:g,stroke:s})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,E={start:null,end:null,hover:this.state.hover,isSelected:o.isSelected},A=Hi(o.points);return A.length>=2&&(E.start=A[A.length-2],E.end=A[A.length-1]),E}},{key:"getAppendAttributes",value:function(o){var c,i=o.start,s=o.end;if(i.x===s.x&&i.y===s.y)c="";else{var g={start:i,end:s,offset:10,verticalLength:5},E=ja(Sl(Sl({},g),{},{type:"start"})),A=ja(Sl(Sl({},g),{},{type:"end"}));c="M".concat(E.leftX," ").concat(E.leftY," \n      L").concat(E.rightX," ").concat(E.rightY," \n      L").concat(A.rightX," ").concat(A.rightY,"\n      L").concat(A.leftX," ").concat(A.leftY," z")}return{d:c,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var i=this.getAppendAttributes(o),s=i.d,c=i.strokeWidth,g=i.fill,E=i.strokeDasharray,A=i.stroke;return Object(Ee.g)(ea,{d:s,fill:g,strokeWidth:c,stroke:A,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var o=this,i=this.props,s=i.model,c=i.graphModel,g=s.pointsList,E=s.draggable,A=[],R=g.length,k=function(ce){var ye="lf-polyline-append",pe={start:{x:g[ce].x,y:g[ce].y},end:{x:g[ce+1].x,y:g[ce+1].y},startIndex:ce,endIndex:ce+1,direction:"",dragAble:!0},Ge=Object(Ee.g)("g",{className:ye},o.getAppendShape(pe)),Be=c.editConfigModel,lt=Be.adjustEdgeMiddle;Be.adjustEdge&&E?(o.dragHandler=o.drag,pe.dragAble=!(lt&&(0===pe.startIndex||pe.endIndex===R-1)),pe.start.x===pe.end.x?(pe.dragAble&&(ye+="-ew-resize"),pe.direction=Zt.VERTICAL):pe.start.y===pe.end.y&&(pe.dragAble&&(ye+="-ns-resize"),pe.direction=Zt.HORIZONTAL),Ge=Object(Ee.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(Bt){return o.beforeDragStart(Bt,pe)}},Object(Ee.g)("g",{className:ye},o.getAppendShape(pe)))):o.dragHandler=function(){},A.push(Ge)},V=0;V<R-1;V++)k(V);return Object(Ee.g)("g",null,A)}}]),t}(Ua);function wl(e){return(wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function qD(e,r){return function n1(e){if(Array.isArray(e))return e}(e)||function r1(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function t1(e,r){if(e){if("string"==typeof e)return Bg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Bg(e,r)}}(e,r)||function e1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Al(){return Al=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Al.apply(this,arguments)}function o1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a1(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uc(e,r)}function Uc(e,r){return(Uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function u1(e){var r=function f1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Tl(e);if(r){var i=Tl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return s1(this,o)}}function s1(e,r){if(r&&("object"===wl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function l1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tl(e){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Xc=function(e){a1(t,e);var r=u1(t);function t(){return o1(this,t),r.apply(this,arguments)}return function i1(e,r,t){return r&&Lg(e.prototype,r),t&&Lg(e,t),e}(t,[{key:"getEdge",value:function(){var o=this.props.model,i=o.getEdgeStyle(),s=o.path,c=o.isAnimation,g=o.arrowConfig,E=o.getEdgeAnimationStyle(),A=E.strokeDasharray,R=E.stroke,k=E.strokeDashoffset,V=E.animationName,ue=E.animationDuration,ce=E.animationIterationCount,ye=E.animationTimingFunction,pe=E.animationDirection;return Object(Ee.g)(ea,Al({d:s},i,g,c?{strokeDasharray:A,stroke:R,style:{strokeDashoffset:k,animationName:V,animationDuration:ue,animationIterationCount:ce,animationTimingFunction:ye,animationDirection:pe}}:{}))}},{key:"getShape",value:function(){return Object(Ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,i=o.getAnimation(),s=i.stroke,c=i.className,g=i.strokeDasharray,E=o.getEdgeStyle();return Object(Ee.g)("g",null,Object(Ee.g)(ea,Al({d:o.path},E,{className:c,strokeDasharray:g,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(Ee.g)(ea,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,s=this.state.hover,E=o.isSelected,R=qD(function(r){var t=Ru(r);return[t[2],t[3]]}(o.path),2);return{start:R[0],end:R[1],hover:s,isSelected:E}}}]),t}(Ua);function Nl(e){return(Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function zg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function d1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function p1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v1(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yc(e,r)}function Yc(e,r){return(Yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function y1(e){var r=function b1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Dl(e);if(r){var i=Dl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return g1(this,o)}}function g1(e,r){if(r&&("object"===Nl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function m1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Dl(e){return(Dl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var O1=function(e){v1(t,e);var r=y1(t);function t(){return p1(this,t),r.apply(this,arguments)}return function h1(e,r,t){return r&&Fg(e.prototype,r),t&&Fg(e,t),e}(t,[{key:"getArrowAttributes",value:function(){var o=this.props,i=o.arrowInfo,s=o.style,g=i.end,A=ja({start:i.start,end:g,offset:s.offset,verticalLength:s.verticalLength,type:"end"}),k=A.leftY,V=A.rightX,ue=A.rightY;return function c1(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?zg(Object(t),!0).forEach(function(n){d1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({d:"M".concat(A.leftX," ").concat(k," L").concat(g.x," ").concat(g.y," L").concat(V," ").concat(ue," z")},s)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),i=o.d,s=o.strokeWidth,c=o.stroke,g=o.fill;return Object(Ee.g)(ea,{d:i,fill:g,strokeWidth:s,stroke:c})}},{key:"render",value:function(){return Object(Ee.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(Ee.a);var Gg=function E1(e,r){return ef(e,r)};var S1=function x1(e){var r=null==e?0:e.length;return r?e[r-1]:void 0},Wc=function(){return Ar.a.Date.now()},M1=/\s/;var A1=function w1(e){for(var r=e.length;r--&&M1.test(e.charAt(r)););return r},T1=/^\s+/;var D1=function N1(e){return e&&e.slice(0,A1(e)+1).replace(T1,"")},C1=/^[-+]0x[0-9a-f]+$/i,j1=/^0b[01]+$/i,R1=/^0o[0-7]+$/i,I1=parseInt;var kg=function B1(e){if("number"==typeof e)return e;if(lu(e))return NaN;if(Pr(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=Pr(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=D1(e);var t=j1.test(e);return t||R1.test(e)?I1(e.slice(2),t?2:8):C1.test(e)?NaN:+e},z1=Math.max,F1=Math.min;var H1=function G1(e,r,t){var n,o,i,s,c,g,E=0,A=!1,R=!1,k=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function V(qe){var St=n,Ct=o;return n=o=void 0,E=qe,s=e.apply(Ct,St)}function ue(qe){return E=qe,c=setTimeout(pe,r),A?V(qe):s}function ye(qe){var St=qe-g;return void 0===g||St>=r||St<0||R&&qe-E>=i}function pe(){var qe=Wc();if(ye(qe))return Ge(qe);c=setTimeout(pe,function ce(qe){var yt=r-(qe-g);return R?F1(yt,i-(qe-E)):yt}(qe))}function Ge(qe){return c=void 0,k&&n?V(qe):(n=o=void 0,s)}function lt(){var qe=Wc(),St=ye(qe);if(n=arguments,o=this,g=qe,St){if(void 0===c)return ue(g);if(R)return clearTimeout(c),c=setTimeout(pe,r),V(g)}return void 0===c&&(c=setTimeout(pe,r)),s}return r=kg(r)||0,Pr(t)&&(A=!!t.leading,i=(R="maxWait"in t)?z1(kg(t.maxWait)||0,r):i,k="trailing"in t?!!t.trailing:k),lt.cancel=function Be(){void 0!==c&&clearTimeout(c),E=0,n=g=o=c=void 0},lt.flush=function Le(){return void 0===c?s:Ge(Wc())},lt},k1=a(166);function Ug(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Xg,Yg,Wg,Y1=function(){function e(r){(function U1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Bo(this,"undos",[]),Bo(this,"redos",[]),Bo(this,"callbacks",[]),Bo(this,"stopWatch",null),Bo(this,"curData",null),Bo(this,"maxSize",50),Bo(this,"waitTime",100),Bo(this,"eventCenter",void 0),this.eventCenter=r}return function X1(e,r,t){return r&&Ug(e.prototype,r),t&&Ug(e,t),e}(e,[{key:"add",value:function(t){Gg(S1(this.undos),t)||(this.undos.push(t),Gg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(Tt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=or(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=or(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(k1.a)(t,H1(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),W1=Y1;function Cl(e){return(Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $1(e,r){return function J1(e){if(Array.isArray(e))return e}(e)||function Z1(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function V1(e,r){if(e){if("string"==typeof e)return $g(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $g(e,r)}}(e,r)||function K1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $g(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Kg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ta(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Kg(Object(t),!0).forEach(function(n){si(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Kg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Vg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q1(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$c(e,r)}function $c(e,r){return($c=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function eC(e){var r=function rC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=jl(e);if(r){var i=jl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return tC(this,o)}}function tC(e,r){if(r&&("object"===Cl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return ra(e)}function ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jl(e){return(jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function si(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Zg,Jg,Qg,Kc=Dn((Wg=Yg=function(e){q1(t,e);var r=eC(t);function t(){var n;return function Q1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),si(ra(n=r.call(this)),"ref",Object(Ee.f)()),si(ra(n),"__prevText",{type:"",text:"",id:""}),si(ra(n),"keyupHandler",function(o){"Enter"===o.key&&o.altKey&&n.props.graphModel.textEditElement.setElementState(0)}),si(ra(n),"inputHandler",function(o){var c=n.props.graphModel.textEditElement;n.__prevText={type:c.type,text:o.target.innerText.replace(/(\r\n)+$|(\n)+$/,""),id:c.id}}),si(ra(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return function _1(e,r,t){return r&&Vg(e.prototype,r),t&&Vg(e,t),e}(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var o=this.props.graphModel;o.eventCenter.on("".concat(Tt.GRAPH_TRANSFORM,",").concat(Tt.NODE_CLICK,",").concat(Tt.BLANK_CLICK," "),function(){var c=o.editConfigModel;(c.edgeTextEdit||c.nodeTextEdit)&&o.textEditElement&&o.textEditElement.setElementState(Kt.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var i=this.__prevText;o.updateText(i.id,i.text),o.eventCenter.emit(Tt.TEXT_UPDATE,ta({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(void 0!==window.getSelection&&void 0!==document.createRange){var i=document.createRange();i.selectNodeContents(o),i.collapse(!1);var s=window.getSelection();s.removeAllRanges(),s.addRange(i)}}},{key:"render",value:function(){var o,i=this.props.graphModel.textEditElement,s=this.state.style;return i?Object(Ee.g)("div",{contentEditable:!0,className:"lf-text-input",style:s,ref:this.ref,key:i.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},null===(o=i.text)||void 0===o?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var E,i=o.graphModel,s=i.transformModel,c=i.theme,g=i.textEditElement;if(g){var A;if((null===(A=g.text)||void 0===A||!A.value)&&g.BaseType===pr.EDGE){var R=g.text,k=g.textPosition,ue=k.y;R.x=k.x,R.y=ue,g.setText(R)}var ce={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(g.BaseType===pr.EDGE){var ye=c.edgeText,Ge=ye.lineHeight,Be=ye.wrapPadding,Le=ye.textWidth;Le&&"autoWrap"===ye.overflowMode&&(E=ta(ta({},ce),{},{width:Le,minWidth:Le,lineHeight:Ge,padding:Be}))}else if(g.BaseType===pr.NODE){var lt=c.nodeText,St=lt.lineHeight,Ct=lt.wrapPadding,yt=lt.textWidth,Sr=g.width,qr=g.modelType;(qr!==Ht.TEXT_NODE&&"autoWrap"===lt.overflowMode||qr===Ht.TEXT_NODE&&yt)&&(E=ta(ta({},ce),{},{width:yt||Sr,minWidth:yt||Sr,lineHeight:St,padding:Ct}))}var Vn=g.text,Lo=$1(s.CanvasPointToHtmlPoint([Vn.x,Vn.y]),2);return{style:ta({left:Lo[0],top:Lo[1]},E)}}}}]),t}(Ee.a),si(Yg,"toolName","textEdit"),Xg=Wg))||Xg,uC=function(r){return r.modelType===Ht.LINE_EDGE?function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,i=(t.y+n.y)/2,s=Math.abs(t.x-n.x)+10,c=Math.abs(t.y-n.y)+10;return{x:o-s/2,y:i-c/2,x1:o+s/2,y1:i+c/2}}(r):r.modelType===Ht.POLYLINE_EDGE?function(r){var n=Hi(r.points),o=Ra(n,8),i=o.x,s=o.y,c=o.width,g=o.height;return{x:i-c/2,y:s-g/2,x1:i+c/2,y1:s+g/2}}(r):r.modelType===Ht.BEZIER_EDGE?function(r){var n=Ru(r.path),o=Ra(n,8),i=o.x,s=o.y,c=o.width,g=o.height;return{x:i-c/2,y:s-g/2,x1:i+c/2,y1:s+g/2}}(r):void 0};function Rl(e){return(Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _g(e,r){return function fC(e){if(Array.isArray(e))return e}(e)||function lC(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||qg(e,r)||function sC(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cC(e){return function hC(e){if(Array.isArray(e))return Vc(e)}(e)||function pC(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qg(e)||function dC(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qg(e,r){if(e){if("string"==typeof e)return Vc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vc(e,r)}}function Vc(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function em(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gC(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Zc(e,r)}function Zc(e,r){return(Zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function mC(e){var r=function OC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Il(e);if(r){var i=Il(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return bC(this,o)}}function bC(e,r){if(r&&("object"===Rl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Xa(e)}function Xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Il(e){return(Il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ya(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Jc=Dn((Qg=Jg=function(e){gC(t,e);var r=mC(t);function t(n){var o;(function vC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,t),Ya(Xa(o=r.call(this)),"stepDrag",void 0),Ya(Xa(o),"handleMouseDown",function(g){o.stepDrag.handleMouseDown(g)}),Ya(Xa(o),"onDraging",function(g){var E=g.deltaX,A=g.deltaY,R=o.props.graphModel,k=R.getSelectElements(!0);R.moveNodes(k.nodes.map(function(V){return V.id}),E,A)}),Ya(Xa(o),"handleContextMenu",function(g){g.preventDefault();var E=o.props,R=E.graphModel,k=R.eventCenter,V=R.selectElements,ue=E.graphModel.getPointByClient({x:g.clientX,y:g.clientY}),ce={nodes:[],edges:[]};cC(V.values()).forEach(function(pe){pe.BaseType===pr.NODE&&ce.nodes.push(pe.getData()),pe.BaseType===pr.EDGE&&ce.edges.push(pe.getData())}),k.emit(Tt.SELECTION_CONTEXTMENU,{data:ce,e:g,position:ue})});var i=n.graphModel;return o.stepDrag=new oi({onDraging:o.onDraging,step:i.gridSize,eventType:"SELECTION",eventCenter:i.eventCenter}),o}return function yC(e,r,t){return r&&em(e.prototype,r),t&&em(e,t),e}(t,[{key:"render",value:function(){var o=this.props.graphModel,i=o.selectElements,s=o.transformModel;if(!(i.size<=1)){var c=Number.MAX_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;i.forEach(function(ye){var pe={x:0,y:0,x1:0,y1:0};ye.BaseType===pr.NODE&&(pe=function(r){var t=r.x,n=r.y,o=r.width,i=r.height;return{x:t-o/2,y:n-i/2,x1:t+o/2,y1:n+i/2}}(ye)),ye.BaseType===pr.EDGE&&(pe=uC(ye)),c=Math.min(c,pe.x),g=Math.min(g,pe.y),E=Math.max(E,pe.x1),A=Math.max(A,pe.y1)});var k=_g(s.CanvasPointToHtmlPoint([c,g]),2);c=k[0],g=k[1];var ue=_g(s.CanvasPointToHtmlPoint([E,A]),2);E=ue[0],A=ue[1];var ce={left:"".concat(c-10,"px"),top:"".concat(g-10,"px"),width:"".concat(E-c+20,"px"),height:"".concat(A-g+20,"px")};return Object(Ee.g)("div",{className:"lf-multiple-select",style:ce,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(Ee.a),Ya(Jg,"toolName","multipleSelect"),Zg=Qg))||Zg;function tm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bl(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var SC=function(){function e(r){(function EC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Bl(this,"tools",void 0),Bl(this,"components",void 0),Bl(this,"toolMap",new Map),Bl(this,"instance",void 0),this.instance=r,this.isDisabledTool(Kc.toolName)||this.registerTool(Kc.toolName,Kc),this.isDisabledTool(Jc.toolName)||this.registerTool(Jc.toolName,Jc)}return function xC(e,r,t){return r&&tm(e.prototype,r),t&&tm(e,t),e}(e,[{key:"isDisabledTool",value:function(t){return-1!==this.instance.options.disabledTools.indexOf(t)}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),PC=a(167),MC=a.n(PC);function rm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var nm=function(){function e(r){(function wC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Qc(this,"mousetrap",void 0),Qc(this,"options",void 0),Qc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r,this.target=r.lf.container,this.mousetrap=new MC.a(this.target),r.keyboard.enabled&&this.enable(!0)}return function AC(e,r,t){return r&&rm(e.prototype,r),t&&rm(e,t),e}(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;n&&(Fr(n)?n.forEach(function(c){return t.on(c.keys,c.callback,c.action)}):this.on(n.keys,n.callback,n.action))}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatkey(o)})}},{key:"formatkey",value:function(t){return t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}]),e}(),TC=nm,Kn=null;function om(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function im(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}function zl(e){return(zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function am(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Wa(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?am(Object(t),!0).forEach(function(n){fr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):am(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function um(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var _c=function(){function e(r){var t=this;(function CC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),fr(this,"container",void 0),fr(this,"width",void 0),fr(this,"height",void 0),fr(this,"graphModel",void 0),fr(this,"history",void 0),fr(this,"viewMap",new Map),fr(this,"tool",void 0),fr(this,"keyboard",void 0),fr(this,"dnd",void 0),fr(this,"options",void 0),fr(this,"snaplineModel",void 0),fr(this,"components",[]),fr(this,"plugins",void 0),fr(this,"extension",{}),fr(this,"adapterIn",void 0),fr(this,"adapterOut",void 0),fr(this,"getView",function(n){return t.viewMap.get(n)}),r=Tv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new Y0(Wa({},r)),this.tool=new SC(this),this.history=new W1(this.graphModel.eventCenter),this.dnd=new Nw({lf:this}),this.keyboard=new TC({lf:this,keyboard:r.keyboard}),!1!==r.snapline&&(this.snaplineModel=new Vy(this.graphModel),function DC(e,r){e.on("node:mousemove",function(t){r.setNodeSnapLine(t.data)}),e.on("node:mouseup",function(){r.clearSnapline()})}(this.graphModel.eventCenter,this.snaplineModel)),function NC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(n.enabled&&!r.textEditElement){var o=e.options.guards,i=r.getSelectElements(!1);return o&&o.beforeClone&&!o.beforeClone(i)?(Kn=null,!1):((Kn=i).nodes.forEach(function(c){return om(c,40)}),Kn.edges.forEach(function(c){return im(c,40)}),!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(n.enabled&&!r.textEditElement){if(Kn&&(Kn.nodes||Kn.edges)){e.clearSelectElements();var o=e.addElements(Kn);if(!o)return;o.nodes.forEach(function(i){return e.selectElementById(i.id,!0)}),o.edges.forEach(function(i){return e.selectElementById(i.id,!0)}),Kn.nodes.forEach(function(i){return om(i,40)}),Kn.edges.forEach(function(i){return im(i,40)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(n.enabled&&!r.textEditElement){var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(i){return e.deleteEdge(i.id)}),o.nodes.forEach(function(i){return e.deleteNode(i.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return function jC(e,r,t){return r&&um(e.prototype,r),t&&um(e,t),e}(e,[{key:"register",value:function(t,n){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof t){var i={BaseEdge:Ua,BaseEdgeModel:xf,BaseNode:vo,BaseNodeModel:po,RectNode:pc,RectNodeModel:Ds,CircleNode:yc,CircleNodeModel:hs,PolygonNode:bc,PolygonNodeModel:ws,TextNode:Ac,TextNodeModel:Rs,LineEdge:Gc,LineEdgeModel:Da,DiamondNode:xc,DiamondNodeModel:gs,PolylineEdge:kc,PolylineEdgeModel:Pu,BezierEdge:Xc,BezierEdgeModel:Vf,EllipseNode:Mc,EllipseNodeModel:Es,HtmlNode:Dc,HtmlNodeModel:Ls,h:Ee.g,type:t};this.viewMap.forEach(function(A){var R=A.extendKey;R&&(i[R]=A)}),this.graphModel.modelMap.forEach(function(A){var R=A.extendKey;R&&(i[R]=A)});var s=n(i),g=s.model,E=s.view;o&&!E.isObervered&&(E.isObervered=!0,E=ot(E)),this.setView(t,E),this.graphModel.setModel(t,g)}else this.registerElement(t)}},{key:"registerElement",value:function(t){var n=t.view;!1!==t.isObserverView&&!n.isObervered&&(n.isObervered=!0,n=ot(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:pc,model:Ds,type:"rect"}),this.registerElement({type:"circle",view:yc,model:hs}),this.registerElement({type:"polygon",view:bc,model:ws}),this.registerElement({type:"line",view:Gc,model:Da}),this.registerElement({type:"polyline",view:kc,model:Pu}),this.registerElement({type:"bezier",view:Xc,model:Vf}),this.registerElement({type:"text",view:Ac,model:Rs}),this.registerElement({type:"ellipse",view:Mc,model:Es}),this.registerElement({type:"diamond",view:xc,model:gs}),this.registerElement({type:"html",view:Dc,model:Ls})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.graphModel.selectElementById(t,n),!n&&o&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,i=t.id;if(!o){var s=this.getNodeModelById(i);s&&(o=s.getData());var c=this.getEdgeModelById(i);c&&(o=c.textPosition)}n.focusOn(o.x,o.y,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,i,s=this.getModelById(t);return!!s&&null!==(o=null===(i=(fr(n={},pr.NODE,this.deleteNode),fr(n,pr.EDGE,this.deleteEdge),n)[s.BaseType])||void 0===i?void 0:i.call(this,t))&&void 0!==o&&o}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),i=this.options.guards,s=!i||!i.beforeDelete||i.beforeDelete(o);return s&&this.graphModel.deleteNode(t),s}},{key:"cloneNode",value:function(t){var o=this.graphModel.getNodeModelById(t).getData(),i=this.options.guards;if(!i||!i.beforeClone||i.beforeClone(o))return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var i=o.model.getData(),s=!n||!n.beforeDelete||n.beforeDelete(i);return s&&this.graphModel.deleteEdgeById(t),s}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n;return null===(n=this.graphModel.edgesMap[t])||void 0===n?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,i=t.targetNodeId;if(o&&i){var s=[];return n.forEach(function(E){E.sourceNodeId===o&&E.targetNodeId===i&&s.push(E)}),s}if(o){var c=[];return n.forEach(function(E){E.sourceNodeId===o&&c.push(E)}),c}if(i){var g=[];return n.forEach(function(E){E.targetNodeId===i&&g.push(E)}),g}return[]}},{key:"getEdgeDataById",value:function(t){var n;return null===(n=this.getEdgeModelById(t))||void 0===n?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;null===(o=this.graphModel.getElement(t))||void 0===o||o.setProperties(Dr(n))}},{key:"deleteProperty",value:function(t,n){var o;null===(o=this.graphModel.getElement(t))||void 0===o||o.deleteProperty(n)}},{key:"getProperties",value:function(t){var n;return null===(n=this.graphModel.getElement(t))||void 0===n?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,i=t.edges,s={},c={nodes:[],edges:[]},g=0;g<o.length;g++){var E=o[g],A=E.id,R=this.addNode(E);if(!R)return;A&&(s[A]=R.id),c.nodes.push(R)}return i.forEach(function(k){var V=k.sourceNodeId,ue=k.targetNodeId;s[V]&&(V=s[V]),s[ue]&&(ue=s[ue]);var ce=n.graphModel.addEdge(Wa(Wa({},k),{},{sourceNodeId:V,targetNodeId:ue}));c.edges.push(ce)}),c}},{key:"getAreaElement",value:function(t,n){return this.graphModel.getAreaElement(t,n,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4]).map(function(c){return c.getData()})}},{key:"getSelectElements",value:function(){return this.graphModel.getSelectElements(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=Dr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=Dr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){return this.graphModel.transformModel.zoom(t,n)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(t){this.graphModel.transformModel.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){this.graphModel.transformModel.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel;return{SCALE_X:t.SCALE_X,SCALE_Y:t.SCALE_Y,TRANSLATE_X:t.TRANSLATE_X,TRANSLATE_Y:t.TRANSLATE_Y}}},{key:"translate",value:function(t,n){this.graphModel.transformModel.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel;this.translate(-t.TRANSLATE_X,-t.TRANSLATE_Y)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){void 0===n&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(null!==(t=this.plugins)&&void 0!==t?t:e.extensions).forEach(function(s){-1===o.indexOf(s.pluginName||s.name)&&n.installPlugin(s)})}},{key:"installPlugin",value:function(t){if("object"===zl(t)){var n=t.install,o=t.render;return n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),void(this.extension[t.pluginName]=t)}var i=t,s=new i({lf:this,LogicFlow:e});s.render&&this.components.push(s.render.bind(s)),this.extension[i.pluginName]=s}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(n){var o=new n(Wa(Wa({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}console.warn("\u4e0d\u5b58\u5728\u4e3a".concat(t.type,"\u7c7b\u578b\u7684\u8282\u70b9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(Dr(t)),!1!==this.options.history&&this.history.watch(this.graphModel),Object(Ee.j)(Object(Ee.g)(ww,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(Tt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("\u8bf7\u7ed9\u63d2\u4ef6".concat(t.name||t.constructor.name,"\u6307\u5b9apluginName!")),n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();function Dn(e){return ot(e)}fr(_c,"extensions",new Map),N.default=_c}])},9336:($a,Rr,D)=>{"use strict";D.d(Rr,{EV:()=>Ye,t0:()=>tr,oT:()=>di,v2:()=>Qn,Ju:()=>Ja,aC:()=>we});var N=D(2188),b=function a(h,f){return h(f={exports:{}},f.exports),f.exports}(function(h){var f=h.exports=function(u,d){if(d||(d=16),void 0===u&&(u=128),u<=0)return"0";for(var v=Math.log(Math.pow(2,u))/Math.log(d),m=2;v===1/0;m*=2)v=Math.log(Math.pow(2,u/m))/Math.log(d)*m;var S=v-Math.floor(v),M="";for(m=0;m<Math.floor(v);m++)M=Math.floor(Math.random()*d).toString(d)+M;if(S){var Z=Math.pow(d,S);M=Math.floor(Math.random()*Z).toString(d)+M}var F=parseInt(M,d);return F!==1/0&&F>=Math.pow(2,u)?f(u,d):M};f.rack=function(u,d,v){var m=function(M){var z=0;do{if(z++>10){if(!v)throw new Error("too many ID collisions, use more bits");u+=v}var Z=f(u,d)}while(Object.hasOwnProperty.call(S,Z));return S[Z]=M,Z},S=m.hats={};return m.get=function(M){return m.hats[M]},m.set=function(M,z){return m.hats[M]=z,m},m.bits=u||128,m.base=d||16,m}});function y(h){if(!(this instanceof y))return new y(h);this._seed=(h=h||[128,36,1]).length?b.rack(h[0],h[1],h[2]):h}y.prototype.next=function(h){return this._seed(h||!0)},y.prototype.nextPrefixed=function(h,f){var u;do{u=h+this.next(!0)}while(this.assigned(u));return this.claim(u,f),u},y.prototype.claim=function(h,f){this._seed.set(h,f||!0)},y.prototype.assigned=function(h){return this._seed.get(h)||!1},y.prototype.unclaim=function(h){delete this._seed.hats[h]},y.prototype.clear=function(){var f,h=this._seed.hats;for(f in h)this.unclaim(f)};const P=y;var T=new P([32,32,1]);function C(){return T.next()}var h,L=(h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)},function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}),B=function(h){function f(u,d){return u.id||(u.id="Event_"+C()),u.text||(u.text=""),u.text&&"string"==typeof u.text&&(u.text={value:u.text,x:u.x,y:u.y+40}),h.call(this,u,d)||this}return L(f,h),f.prototype.setAttributes=function(){this.r=18},f.prototype.getConnectedTargetRules=function(){var u=h.prototype.getConnectedTargetRules.call(this);return u.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fb9\u7684\u7ec8\u70b9",validate:function(){return!1}}),u},f.extendKey="StartEventModel",f}(N.CircleNodeModel),X=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return L(f,h),f.extendKey="StartEventNode",f}(N.CircleNode);const Q={type:"bpmn:startEvent",view:X,model:B};var W=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),J=function(){return J=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},J.apply(this,arguments)},ne=function(h){function f(u,d){return u.id||(u.id="Event_"+C()),u.text||(u.text=""),u.text&&"string"==typeof u.text&&(u.text={value:u.text,x:u.x,y:u.y+40}),h.call(this,u,d)||this}return W(f,h),f.prototype.setAttributes=function(){this.r=18},f.prototype.getConnectedSourceRules=function(){var u=h.prototype.getConnectedSourceRules.call(this);return u.push({message:"\u7ed3\u675f\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fb9\u7684\u8d77\u70b9",validate:function(){return!1}}),u},f.extendKey="EndEventModel",f}(N.CircleNodeModel),ae=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return W(f,h),f.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},f.prototype.getShape=function(){var u=this.props.model,d=u.getNodeStyle(),v=u.x,m=u.y,S=u.r,M=h.prototype.getShape.call(this);return(0,N.h)("g",{},M,(0,N.h)("circle",J(J({},d),{cx:v,cy:m,r:S-5})))},f.extendKey="EndEventView",f}(N.CircleNode);const Me={type:"bpmn:endEvent",view:ae,model:ne};var ge=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),be=function(){return be=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},be.apply(this,arguments)},de=function(h){function f(u,d){var v=this;return u.id||(u.id="Gateway_"+C()),u.text||(u.text=""),u.text&&"string"==typeof u.text&&(u.text={value:u.text,x:u.x,y:u.y+40}),(v=h.call(this,u,d)||this).points=[[25,0],[50,25],[25,50],[0,25]],v}return ge(f,h),f.extendKey="ExclusiveGatewayModel",f}(N.PolygonNodeModel),Te=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return ge(f,h),f.prototype.getShape=function(){var u=this.props.model,d=u.x,v=u.y,m=u.width,S=u.height,M=u.points,z=u.getNodeStyle();return(0,N.h)("g",{transform:"matrix(1 0 0 1 "+(d-m/2)+" "+(v-S/2)+")"},(0,N.h)("polygon",be(be({},z),{x:d,y:v,points:M})),(0,N.h)("path",be({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},z)))},f.extendKey="ExclusiveGatewayNode",f}(N.PolygonNode);const Pe={type:"bpmn:exclusiveGateway",view:Te,model:de};var oe=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),H=function(){return H=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},H.apply(this,arguments)},te=function(h){function f(u,d){return u.id||(u.id="Activity_"+C()),h.call(this,u,d)||this}return oe(f,h),f.extendKey="UserTaskModel",f}(N.RectNodeModel),fe=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return oe(f,h),f.prototype.getLabelShape=function(){var u=this.props.model,d=u.x,v=u.y,m=u.width,S=u.height,M=u.getNodeStyle();return(0,N.h)("svg",{x:d-m/2+5,y:v-S/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,N.h)("path",{fill:M.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},f.prototype.getShape=function(){var u=this.props.model,d=u.x,v=u.y,m=u.width,S=u.height,M=u.radius,z=u.getNodeStyle();return(0,N.h)("g",{},[(0,N.h)("rect",H(H({},z),{x:d-m/2,y:v-S/2,rx:M,ry:M,width:m,height:S})),this.getLabelShape()])},f.extendKey="UserTaskNode",f}(N.RectNode);const ke={type:"bpmn:userTask",view:fe,model:te};var Se=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),ze=function(){return ze=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},ze.apply(this,arguments)},We=function(h){function f(u,d){return u.id||(u.id="Activity_"+C()),h.call(this,u,d)||this}return Se(f,h),f.extendKey="ServiceTaskModel",f}(N.RectNodeModel),He=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return Se(f,h),f.prototype.getLabelShape=function(){var u=this.props.model,d=u.x,v=u.y,m=u.width,S=u.height,M=u.getNodeStyle();return(0,N.h)("svg",{x:d-m/2+5,y:v-S/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,N.h)("path",{fill:M.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},f.prototype.getShape=function(){var u=this.props.model,d=u.x,v=u.y,m=u.width,S=u.height,M=u.radius,z=u.getNodeStyle();return(0,N.h)("g",{},[(0,N.h)("rect",ze({x:d-m/2,y:v-S/2,rx:M,ry:M,width:m,height:S},z)),this.getLabelShape()])},f.extendKey="ServiceTaskNode",f}(N.RectNode);const tt={type:"bpmn:serviceTask",view:He,model:We};var ft=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),wt=function(h){function f(u,d){return u.id||(u.id="Flow_"+C()),h.call(this,u,d)||this}return ft(f,h),f.extendKey="SequenceFlowModel",f}(N.PolylineEdgeModel),Ot=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return ft(f,h),f.extendKey="SequenceFlowEdge",f}(N.PolylineEdge);const st={type:"bpmn:sequenceFlow",view:Ot,model:wt};var Ae={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},Ye=function(){function h(f){var u=f.lf;u.setTheme(Ae),u.register(Q),u.register(Me),u.register(Pe),u.register(ke),u.register(tt),u.options.customBpmnEdge||(u.register(st),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return h.pluginName="bpmnElement",h}(),we=function(){function h(f){var u=this,d=f.lf;this.lf=d,this.customCssRules="",this.useGlobalRules=!0,d.getSnapshot=function(v,m){u.getSnapshot(v,m)},d.getSnapshotBlob=function(v){return u.getSnapshotBlob(v)},d.getSnapshotBase64=function(v){return u.getSnapshotBase64(v)}}return h.prototype.getSvgRootElement=function(f){var u=this;return this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,f.graphModel.nodes.forEach(function(v){var Z=v.x-v.width/2,F=v.y-v.height/2;Z<u.offsetX&&(u.offsetX=Z-5),F<u.offsetY&&(u.offsetY=F-5)}),f.graphModel.edges.forEach(function(v){v.pointsList&&v.pointsList.forEach(function(m){var S=m.x,M=m.y;S<u.offsetX&&(u.offsetX=S-5),M<u.offsetY&&(u.offsetY=M-5)})}),f.container.querySelector(".lf-canvas-overlay")},h.prototype.triggerDownload=function(f){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),d=document.createElement("a");d.setAttribute("download",this.fileName),d.setAttribute("href",f),d.setAttribute("target","_blank"),d.dispatchEvent(u)},h.prototype.removeAnchor=function(f){for(var u=f.childNodes,d=f.childNodes&&f.childNodes.length,v=0;v<d;v++){var m=u[v];(m.classList&&Array.from(m.classList)||[]).indexOf("lf-anchor")>-1&&(f.removeChild(f.childNodes[v]),d--,v--)}},h.prototype.getSnapshot=function(f,u){var d=this;this.fileName=f||"logic-flow."+Date.now()+".png";var v=this.getSvgRootElement(this.lf);this.getCanvasData(v,u).then(function(m){var S=m.toDataURL("image/png").replace("image/png","image/octet-stream");d.triggerDownload(S)})},h.prototype.getSnapshotBase64=function(f){var u=this,d=this.getSvgRootElement(this.lf);return new Promise(function(v){u.getCanvasData(d,f).then(function(m){var S=m.toDataURL("image/png");v({data:S,width:m.width,height:m.height})})})},h.prototype.getSnapshotBlob=function(f){var u=this,d=this.getSvgRootElement(this.lf);return new Promise(function(v){u.getCanvasData(d,f).then(function(m){m.toBlob(function(S){v({data:S,width:m.width,height:m.height})},"image/png")})})},h.prototype.getClassRules=function(){var f="";if(this.useGlobalRules)for(var u=document.styleSheets,d=0;d<u.length;d++)for(var v=u[d],m=0;m<v.cssRules.length;m++)f+=v.cssRules[m].cssText;return this.customCssRules&&(f+=this.customCssRules),f},h.prototype.getCanvasData=function(f,u){var d=this,v=f.cloneNode(!0),m=v.lastChild,S=m.childNodes&&m.childNodes.length;if(S)for(var M=0;M<S;M++){var z=m.childNodes[M],Z=z.classList&&Array.from(z.classList);if(Z&&Z.indexOf("lf-base")<0)m.removeChild(m.childNodes[M]),S--,M--;else{var F=m.childNodes[M];F&&F.childNodes.forEach(function(Ce){d.removeAnchor(Ce.firstChild)})}}v.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var me=window.devicePixelRatio||1,he=document.createElement("canvas"),Ie=this.lf.graphModel.rootEl.querySelector(".lf-base").getBoundingClientRect(),rt=this.lf.graphModel.transformModel,l=rt.SCALE_Y,p=Math.ceil(Ie.width/rt.SCALE_X),O=Math.ceil(Ie.height/l);he.style.width=p+"px",he.style.height=O+"px",he.width=p*me+80,he.height=O*me+80;var j=he.getContext("2d");j.clearRect(0,0,he.width,he.height),j.scale(me,me),u?(j.fillStyle=u,j.fillRect(0,0,p*me+80,O*me+80)):j.clearRect(0,0,p,O);var G=new Image,q=document.createElement("style");q.innerHTML=this.getClassRules();var se=document.createElement("foreignObject");return se.appendChild(q),v.appendChild(se),new Promise(function(Ce){G.onload=function(){j.drawImage(G,0,0),Ce(he)};var mt=("data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(v)).replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");G.src=mt})},h.pluginName="snapshot",h}(),ht=new P([32,32,1]);function pt(){return ht.next()}function xt(h,f){for(var u=0;u<f;u++)h+="  ";return h}function De(h,f,u,d){var v="";if(h instanceof Array)for(var m=0,S=h.length;m<S;m++)v+=xt(u,d)+De(h[m],f,u,d+1);else if("object"==typeof h){var M=!1;for(var z in v+=xt(u,d)+"<"+f,h)"-"==z.charAt(0)?v+=" "+z.substr(1)+'="'+h[z].toString()+'"':M=!0;if(v+=M?">":" />",M){for(var z in h)"#text"==z?v+=h[z]:"#cdata"==z?v+="<![CDATA["+h[z]+"]]>":"-"!=z.charAt(0)&&(v+=De(h[z],z,u,d+1));v+=xt(u,d)+"</"+f+">"}}else v+=xt(u,d)+"<"+f+">"+h.toString()+"</"+f+">";return v}var ut=function(){};(ut.ObjTree=function(){return this}).VERSION="0.23",ut.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',ut.ObjTree.prototype.attr_prefix="-",ut.ObjTree.prototype.parseXML=function(h){var f;if(window.DOMParser){var u=new DOMParser,d=u.parseFromString(h,"application/xml");if(!d)return;f=d.documentElement}else window.ActiveXObject&&((u=new ActiveXObject("Microsoft.XMLDOM")).async=!1,u.loadXML(h),f=u.documentElement);if(f)return this.parseDOM(f)},ut.ObjTree.prototype.parseHTTP=function(h,f,u){var z,d={};for(var v in f)d[v]=f[v];if(d.method||(d.method=typeof d.postBody>"u"&&typeof d.postbody>"u"&&typeof d.parameters>"u"?"get":"post"),u){d.asynchronous=!0;var m=this,S=u,M=d.onComplete;d.onComplete=function(F){var me;F&&F.responseXML&&F.responseXML.documentElement&&(me=m.parseDOM(F.responseXML.documentElement)),S(me,F),M&&M(F)}}else d.asynchronous=!1;if(typeof HTTP<"u"&&HTTP.Request)d.uri=h,(Z=new HTTP.Request(d))&&(z=Z.transport);else if(typeof Ajax<"u"&&Ajax.Request){var Z;(Z=new Ajax.Request(h,d))&&(z=Z.transport)}return u?z:z&&z.responseXML&&z.responseXML.documentElement?this.parseDOM(z.responseXML.documentElement):void 0},ut.ObjTree.prototype.parseDOM=function(h){if(h){if(this.__force_array={},this.force_array)for(var f=0;f<this.force_array.length;f++)this.__force_array[this.force_array[f]]=1;var u=this.parseElement(h);if(this.__force_array[h.nodeName]&&(u=[u]),11!=h.nodeType){var d={};d[h.nodeName]=u,u=d}return u}},ut.ObjTree.prototype.parseElement=function(h){if(7!=h.nodeType){if(3==h.nodeType||4==h.nodeType)return null==h.nodeValue.match(/[^\x00-\x20]/)?void 0:h.nodeValue;var u,d={};if(h.attributes&&h.attributes.length){u={};for(var v=0;v<h.attributes.length;v++)"string"==typeof(m=h.attributes[v].nodeName)&&(!(S=h.attributes[v].nodeValue)||(typeof d[m=this.attr_prefix+m]>"u"&&(d[m]=0),d[m]++,this.addNode(u,m,d[m],S)))}if(h.childNodes&&h.childNodes.length){var M=!0;for(u&&(M=!1),v=0;v<h.childNodes.length&&M;v++){var z=h.childNodes[v].nodeType;3==z||4==z||(M=!1)}if(M)for(u||(u=""),v=0;v<h.childNodes.length;v++)u+=h.childNodes[v].nodeValue;else for(u||(u={}),v=0;v<h.childNodes.length;v++){var m,S;"string"==typeof(m=h.childNodes[v].nodeName)&&(!(S=this.parseElement(h.childNodes[v]))||(typeof d[m]>"u"&&(d[m]=0),d[m]++,this.addNode(u,m,d[m],S)))}}return u}},ut.ObjTree.prototype.addNode=function(h,f,u,d){this.__force_array[f]?(1==u&&(h[f]=[]),h[f][h[f].length]=d):1==u?h[f]=d:2==u?h[f]=[h[f],d]:h[f][h[f].length]=d},ut.ObjTree.prototype.writeXML=function(h){var f=this.hash_to_xml(null,h);return this.xmlDecl+f},ut.ObjTree.prototype.hash_to_xml=function(h,f){var u=[],d=[];for(var v in f)if(f.hasOwnProperty(v)){var m=f[v];v.charAt(0)!=this.attr_prefix?u[u.length]=typeof m>"u"||null==m?"<"+v+" />":"object"==typeof m&&m.constructor==Array?this.array_to_xml(v,m):"object"==typeof m?this.hash_to_xml(v,m):this.scalar_to_xml(v,m):d[d.length]=" "+v.substring(1)+'="'+this.xml_escape(m)+'"'}var S=d.join(""),M=u.join("");return typeof h>"u"||null==h||(M=u.length>0?M.match(/\n/)?"<"+h+S+">\n"+M+"</"+h+">\n":"<"+h+S+">"+M+"</"+h+">\n":"<"+h+S+" />\n"),M},ut.ObjTree.prototype.array_to_xml=function(h,f){for(var u=[],d=0;d<f.length;d++){var v=f[d];u[u.length]=typeof v>"u"||null==v?"<"+h+" />":"object"==typeof v&&v.constructor==Array?this.array_to_xml(h,v):"object"==typeof v?this.hash_to_xml(h,v):this.scalar_to_xml(h,v)}return u.join("")},ut.ObjTree.prototype.scalar_to_xml=function(h,f){return"#text"==h?this.xml_escape(f):"<"+h+">"+this.xml_escape(f)+"</"+h+">\n"},ut.ObjTree.prototype.xml_escape=function(h){return h.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var vt=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},zt=(()=>(function(h){h.START="bpmn:startEvent",h.END="bpmn:endEvent",h.GATEWAY="bpmn:exclusiveGateway",h.USER="bpmn:userTask",h.SYSTEM="bpmn:serviceTask",h.FLOW="bpmn:sequenceFlow"}(zt||(zt={})),zt))(),Ft=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Dt(h){var f={};return Object.entries(h).forEach(function(u){var d=vt(u,2),v=d[0],m=d[1];"object"!=typeof m?0===v.indexOf("-")?f[v]=m:f["-"+v]=m:f[v]=Dt(m)}),f}function Gt(h){var f={};return Object.entries(h).forEach(function(u){var d=vt(u,2),v=d[0],m=d[1];"string"==typeof m?0===v.indexOf("-")?f[v.substr(1)]=m:f[v]=m:f[v]="object"==typeof m?Gt(m):m}),f}function cr(h,f,u){var M,z,d=Number(h["dc:Bounds"]["-x"]),v=Number(h["dc:Bounds"]["-y"]),m=u["-name"],S=Ut.shapeConfigMap.get(f);if(S&&(d+=S.width/2,v+=S.height/2),Object.entries(u).forEach(function(me){var he=vt(me,2),Oe=he[0],Ie=he[1];-1===Ft.indexOf(Oe)&&(M||(M={}),M[Oe]=Ie)}),M&&(M=Gt(M)),m&&(z={x:d,y:v,value:m},h["bpmndi:BPMNLabel"]&&h["bpmndi:BPMNLabel"]["dc:Bounds"])){var Z=h["bpmndi:BPMNLabel"]["dc:Bounds"];z.x=Number(Z["-x"])+Number(Z["-width"])/2,z.y=Number(Z["-y"])+Number(Z["-height"])/2}var F={id:h["-bpmnElement"],type:f,x:d,y:v,properties:M};return z&&(F.text=z),F}function kt(h,f){var u,S,d=f["-name"];if(d){var v=h["bpmndi:BPMNLabel"]["dc:Bounds"],m=0;d.split("\n").forEach(function(z){m<z.length&&(m=z.length)}),u={value:d,x:Number(v["-x"])+10*m/2,y:Number(v["-y"])+7}}Object.entries(f).forEach(function(z){var Z=vt(z,2),F=Z[0],me=Z[1];-1===Ft.indexOf(F)&&(S||(S={}),S[F]=me)}),S&&(S=Gt(S));var M={id:f["-id"],type:zt.FLOW,pointsList:h["di:waypoint"].map(function(z){return{x:Number(z["-x"]),y:Number(z["-y"])}}),sourceNodeId:f["-sourceRef"],targetNodeId:f["-targetRef"],properties:S};return u&&(M.text=u),M}var Ut={pluginName:"bpmn-adapter",install:function(h){h.adapterIn=this.adapterIn,h.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(h,f){this.shapeConfigMap.set(h,f)},adapterOut:function(h){var f={"-id":"Process_"+pt(),"-isExecutable":"false"};!function _t(h,f){var u=new Map;f.nodes.forEach(function(v){var m,S={"-id":v.id};if(!(null===(m=v.text)||void 0===m)&&m.value&&(S["-name"]=v.text.value),v.properties){var M=Dt(v.properties);Object.assign(S,M)}u.set(v.id,S),h[v.type]?Array.isArray(h[v.type])?h[v.type].push(S):h[v.type]=[h[v.type],S]:h[v.type]=S});var d=f.edges.map(function(v){var m,S,M=u.get(v.targetNodeId);M["bpmn:incoming"]?Array.isArray(M["bpmn:incoming"])?M["bpmn:incoming"].push(v.id):M["bpmn:incoming"]=[M["bpmn:incoming"],v.id]:M["bpmn:incoming"]=v.id;var z=u.get(v.sourceNodeId);z["bpmn:outgoing"]?Array.isArray(z["bpmn:outgoing"])?z["bpmn:outgoing"].push(v.id):z["bpmn:outgoing"]=[z["bpmn:outgoing"],v.id]:z["bpmn:outgoing"]=v.id;var Z={"-id":v.id,"-sourceRef":v.sourceNodeId,"-targetRef":v.targetNodeId};if(!(null===(m=v.text)||void 0===m)&&m.value&&(Z["-name"]=null===(S=v.text)||void 0===S?void 0:S.value),v.properties){var F=Dt(v.properties);Object.assign(Z,F)}return Z});h[zt.FLOW]=d}(f,h);var u={"-id":"BPMNPlane_1","-bpmnElement":f["-id"]};return function Xt(h,f){h["bpmndi:BPMNEdge"]=f.edges.map(function(u){var d,v=u.id,S={"-id":v+"_di","-bpmnElement":v,"di:waypoint":u.pointsList.map(function(M){return{"-x":M.x,"-y":M.y}})};return!(null===(d=u.text)||void 0===d)&&d.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-10*u.text.value.length/2,"-y":u.text.y-7,"-width":10*u.text.value.length,"-height":14}}),S}),h["bpmndi:BPMNShape"]=f.nodes.map(function(u){var d,v=u.id,m=100,S=80,M=u.x,z=u.y,Z=Ut.shapeConfigMap.get(u.type);Z&&(m=Z.width,S=Z.height);var F={"-id":v+"_di","-bpmnElement":v,"dc:Bounds":{"-x":M-=m/2,"-y":z-=S/2,"-width":m,"-height":S}};return!(null===(d=u.text)||void 0===d)&&d.value&&(F["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-10*u.text.value.length/2,"-y":u.text.y-7,"-width":10*u.text.value.length,"-height":14}}),F})}(u,h),{"bpmn:definitions":{"-id":"Definitions_"+pt(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":f,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}}},adapterIn:function(h){if(h)return function nr(h){var f=[],u=[],d=h["bpmn:definitions"];if(d){var v=d["bpmn:process"];Object.keys(v).forEach(function(m){if(0===m.indexOf("bpmn:")){var S=v[m];m===zt.FLOW?u=function ar(h,f){var d,u=[];Array.isArray(h)?h.forEach(function(v){var m;m=Array.isArray(f)?f.find(function(S){return S["-bpmnElement"]===v["-id"]}):f,u.push(kt(m,v))}):(d=Array.isArray(f)?f.find(function(v){return v["-bpmnElement"]===h["-id"]}):f,u.push(kt(d,h)));return u}(S,d["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"]):f=f.concat(function vr(h,f,u){var d=[];if(Array.isArray(h))h.forEach(function(S){var z=cr(Array.isArray(f)?f.find(function(Z){return Z["-bpmnElement"]===S["-id"]}):f,u,S);d.push(z)});else{var v;v=Array.isArray(f)?f.find(function(S){return S["-bpmnElement"]===h["-id"]}):f;var m=cr(v,u,h);d.push(m)}return d}(S,d["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"],m))}})}return{nodes:f,edges:u}}(h)}};Ut.shapeConfigMap.set(zt.START,{width:40,height:40}),Ut.shapeConfigMap.set(zt.END,{width:40,height:40}),Ut.shapeConfigMap.set(zt.GATEWAY,{width:40,height:40}),Ut.shapeConfigMap.set(zt.SYSTEM,{width:100,height:80}),Ut.shapeConfigMap.set(zt.USER,{width:100,height:80});var tr={pluginName:"bpmnXmlAdapter",install:function(h){h.adapterIn=this.adapterXmlIn,h.adapterOut=this.adapterXmlOut},adapterXmlIn:function(h){var f=function(h){return(new ut.ObjTree).parseXML(h)}(h);return Ut.adapterIn(f)},adapterXmlOut:function(h){return function Lt(h){var f="";for(var u in h)f+=De(h[u],u,"\t\n",0);return f}(Ut.adapterOut(h))}},ot=function(){return ot=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},ot.apply(this,arguments)},At={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function Rt(h){switch(h){case"bpmn:sequenceFlow":return 1;case"bpmn:startEvent":return 2;case"bpmn:endEvent":return 3;case"bpmn:userTask":return 4;case"bpmn:exclusiveGateway":return 6;default:return h}}function K(h){var f={nodes:[],edges:[]},u=h.flowElementList;return u&&u.length>0&&u.forEach(function(d){if(1===d.type){var v=function w(h){var d=h.properties,z=d.startPoint,Z=d.endPoint,F=d.pointsList,me={id:h.key,type:At[h.type],sourceNodeId:h.incoming[0],targetNodeId:h.outgoing[0],text:d.text||d.name,properties:{}};z&&(me.startPoint=JSON.parse(z)),Z&&(me.endPoint=JSON.parse(Z)),F&&(me.pointsList=JSON.parse(F));var he=["startPoint","endPoint","pointsList","text"];return Object.keys(h.properties).forEach(function(Oe){-1===he.indexOf(Oe)&&(me.properties[Oe]=h.properties[Oe])}),me}(d);f.edges.push(v)}else{var m=function I(h){var f=h.properties,u=h.key,d=h.type,m=f.x,S=f.y,M=f.text;if(void 0===m){var z=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m}(h.bounds,2),Z=z[0],he=z[1];m=(Z.x+he.x)/2,S=(Z.y+he.y)/2}var nt={id:u,type:At[d],x:m,y:S,text:M,properties:{}},rt=["x","y","text"];return Object.keys(h.properties).forEach(function($e){-1===rt.indexOf($e)&&(nt.properties[$e]=h.properties[$e])}),nt}(d);f.nodes.push(m)}}),f}!function(){function h(f){var u=f.lf;u.adapterIn=this.adapterIn,u.adapterOut=this.adapterOut}h.prototype.adapterOut=function(f){if(f)return function x(h){var f=new Map,u={flowElementList:[]};return h.nodes.forEach(function(d){var v=function $(h){var f=h.id,d=h.x,v=h.y,m=h.text,S=void 0===m?"":m,M=h.properties;return{incoming:[],outgoing:[],dockers:[],type:Rt(h.type),properties:ot(ot({},M),{name:S&&S.value||"",x:d,y:v,text:S}),key:f}}(d);u.flowElementList.push(v),f.set(d.id,v)}),h.edges.forEach(function(d){var v=function Y(h){var f=h.id,m=h.startPoint,S=h.endPoint,M=h.pointsList,z=h.text,Z=void 0===z?"":z,F=h.properties;return{incoming:[h.sourceNodeId],outgoing:[h.targetNodeId],type:Rt(h.type),dockers:[],properties:ot(ot({},F),{name:Z&&Z.value||"",text:Z,startPoint:JSON.stringify(m),endPoint:JSON.stringify(S),pointsList:JSON.stringify(M)}),key:f}}(d);f.get(d.sourceNodeId).outgoing.push(v.key),f.get(d.targetNodeId).incoming.push(v.key),u.flowElementList.push(v)}),u}(f)},h.prototype.adapterIn=function(f){if(f)return K(f)},h.pluginName="turboAdapter"}();var Ze=(()=>(function(h){h.HORIZONTAL="horizontal",h.VERTICAL="vertical"}(Ze||(Ze={})),Ze))(),Je=function(h,f,u){var d=h.x,v=h.y;return(d-f.x)*(d-u.x)<=0&&(v-f.y)*(v-u.y)<=0},Pt=function(h,f,u){var d=function(h){var f=h.x,u=h.y,d=h.width,v=h.height;return{minX:f-d/2,minY:u-v/2,maxX:f+d/2,maxY:u+v/2,x:f,y:u,width:d,height:v,centerX:f,centerY:u}}(h),v=function(h,f){var u;return h.x===f.x?u=Ze.VERTICAL:h.y===f.y&&(u=Ze.HORIZONTAL),u}(f,u),m=Math.max(f.x,u.x),S=Math.min(f.x,u.x),M=Math.max(f.y,u.y),z=Math.min(f.y,u.y),Z=h.x,F=h.y,me=h.width,he=h.height;if(v===Ze.HORIZONTAL){if(f.y===F&&m>=d.maxX&&S<=d.minX)return{startCrossPoint:{x:f.x>u.x?Z+me/2:Z-me/2,y:F},endCrossPoint:{x:f.x>u.x?Z-me/2:Z+me/2,y:F}}}else if(v===Ze.VERTICAL&&f.x===h.x&&M>=d.maxY&&z<=d.minY)return{startCrossPoint:{x:Z,y:f.y>u.y?F+he/2:F-he/2},endCrossPoint:{x:Z,y:f.y>u.y?F-he/2:F+he/2}}},ur=function(h,f){for(var u=h.x,d=h.y,v=f.pointsList,m=0;m<v.length-1;m++)if(Je({x:u,y:d},v[m],v[m+1])){var S=Pt(h,v[m],v[m+1]);if(S)return{crossIndex:m+1,crossPoints:S}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},Ir=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},go=function(){for(var h=[],f=0;f<arguments.length;f++)h=h.concat(Ir(arguments[f]));return h};!function(){function h(f){this._lf=f.lf,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}h.prototype.eventHandler=function(){var f=this;this.dndAdd&&this._lf.on("node:dnd-add",function(u){f.insetNode(u.data)}),this.dropAdd&&this._lf.on("node:drop",function(u){for(var d=u.data,v=f._lf.graphModel.edges,m=d.id,S=!0,M=0;M<v.length;M++)if(v[M].sourceNodeId===m||v[M].targetNodeId===m){S=!1;break}S&&f.insetNode(d)})},h.prototype.insetNode=function(f){for(var u=this._lf.graphModel.edges,d=this._lf.getNodeModelById(f.id),v=0;v<u.length;v++){var m=ur(d,u[v]),S=m.crossIndex,M=m.crossPoints;if(S>=0){var z=u[v],F=z.targetNodeId,me=z.id,he=z.type,Oe=z.pointsList;this._lf.addEdge({type:he,sourceNodeId:z.sourceNodeId,targetNodeId:f.id,pointsList:go(Oe.slice(0,S),[M.startCrossPoint])}),this._lf.addEdge({type:he,sourceNodeId:f.id,targetNodeId:F,pointsList:go([M.endCrossPoint],Oe.slice(S))}),this._lf.deleteEdge(me);break}}},h.pluginName="insertNodeInPolyline"}();var Xr=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},di=function(){function h(f){var u=this,d=f.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7f29\u5c0f\u6d41\u7a0b\u56fe",text:"\u7f29\u5c0f",onClick:function(){u.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653e\u5927\u6d41\u7a0b\u56fe",text:"\u653e\u5927",onClick:function(){u.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590d\u6d41\u7a0b\u539f\u6709\u5c3a\u5bf8",text:"\u9002\u5e94",onClick:function(){u.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56de\u5230\u4e0a\u4e00\u6b65",text:"\u4e0a\u4e00\u6b65",onClick:function(){u.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79fb\u5230\u4e0b\u4e00\u6b65",text:"\u4e0b\u4e00\u6b65",onClick:function(){u.lf.redo()}}],this.lf=d}return h.prototype.render=function(f,u){this.destroy();var d=this.getControlTool();this.toolEl=d,u.appendChild(d),this.domContainer=u},h.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},h.prototype.addItem=function(f){this.controlItems.push(f)},h.prototype.removeItem=function(f){var u=this.controlItems.findIndex(function(d){return d.key===f});return this.controlItems.splice(u,1)[0]},h.prototype.getControlTool=function(){var f=this,u="lf-control-item",d="lf-control-item disabled",v=document.createElement("div"),m=[];return v.className="lf-control",this.controlItems.forEach(function(S){var M=document.createElement("div"),z=document.createElement("i"),Z=document.createElement("span");switch(M.className=d,S.onClick&&(M.onclick=S.onClick.bind(null,f.lf)),S.onMouseEnter&&(M.onmouseenter=S.onMouseEnter.bind(null,f.lf)),S.onMouseLeave&&(M.onmouseleave=S.onMouseLeave.bind(null,f.lf)),z.className=S.iconClass,Z.className="lf-control-text",Z.title=S.title,Z.innerText=S.text,M.append(z,Z),S.text){case"\u4e0a\u4e00\u6b65":f.lf.on("history:change",function(F){M.className=F.data.undoAble?u:d});break;case"\u4e0b\u4e00\u6b65":f.lf.on("history:change",function(F){M.className=F.data.redoAble?u:d});break;default:M.className=u}m.push(M)}),v.append.apply(v,function(){for(var h=[],f=0;f<arguments.length;f++)h=h.concat(Xr(arguments[f]));return h}(m)),v},h.pluginName="control",h}(),Ee=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},en="lf:defaultNodeMenu",zo="lf:defaultEdgeMenu",Yr="lf:defaultGraphMenu",pi="lf:defaultSelectionMenu",Qn=function(){function h(f){var u=this,d=f.lf;this.__menuDOM=document.createElement("ul"),this.lf=d,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(v){u.setMenuConfig(v)},this.lf.addMenuConfig=function(v){u.addMenuConfig(v)},this.lf.setMenuByType=function(v){u.setMenuByType(v)}}return h.prototype.init=function(){var f=this;this.menuTypeMap.set(en,[{text:"\u5220\u9664",callback:function(m){f.lf.deleteNode(m.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(m){f.lf.graphModel.editText(m.id)}},{text:"\u590d\u5236",callback:function(m){f.lf.cloneNode(m.id)}}]),this.menuTypeMap.set(zo,[{text:"\u5220\u9664",callback:function(m){f.lf.deleteEdge(m.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(m){f.lf.graphModel.editText(m.id)}}]),this.menuTypeMap.set(Yr,[]),this.menuTypeMap.set(pi,[{text:"\u5220\u9664",callback:function(m){f.lf.clearSelectElements(),m.edges.forEach(function(S){return f.lf.deleteEdge(S.id)}),m.nodes.forEach(function(S){return f.lf.deleteNode(S.id)})}}])},h.prototype.render=function(f,u){var d=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(v){v.stopPropagation();for(var m=v.target;-1===Array.from(m.classList).indexOf("lf-menu-item")&&-1===Array.from(m.classList).indexOf("lf-menu");)m=m.parentElement;Array.from(m.classList).indexOf("lf-menu-item")>-1?(m.onclickCallback(d.__currentData),d.__menuDOM.style.display="none",d.__currentData=null):console.warn("\u70b9\u51fb\u533a\u57df\u4e0d\u5728\u83dc\u5355\u9879\u5185\uff0c\u8bf7\u68c0\u67e5\u4ee3\u7801\uff01")},!0),this.lf.on("node:contextmenu",function(v){var he,m=v.data,M=v.position.domOverlayPosition,z=M.x,Z=M.y,me=d.lf.graphModel.getNodeModelById(m.id),Oe=d.menuTypeMap.get(me.type);he=me&&me.menu&&Array.isArray(me.menu)?me.menu:Oe||d.menuTypeMap.get(en),d.__currentData=m,d.showMenu(z,Z,he)}),this.lf.on("edge:contextmenu",function(v){var he,m=v.data,M=v.position.domOverlayPosition,z=M.x,Z=M.y,me=d.lf.graphModel.getEdgeModelById(m.id),Oe=d.menuTypeMap.get(me.type);he=me&&me.menu&&Array.isArray(me.menu)?me.menu:Oe||d.menuTypeMap.get(zo),d.__currentData=m,d.showMenu(z,Z,he)}),this.lf.on("blank:contextmenu",function(v){var m=v.position,S=d.menuTypeMap.get(Yr),M=m.domOverlayPosition;d.showMenu(M.x,M.y,S)}),this.lf.on("selection:contextmenu",function(v){var m=v.data,S=v.position,M=d.menuTypeMap.get(pi),z=S.domOverlayPosition,Z=z.x,F=z.y;d.__currentData=m,d.showMenu(Z,F,M)}),this.lf.on("node:mousedown",function(){d.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){d.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){d.__menuDOM.style.display="none"})},h.prototype.destroy=function(){var f;null===(f=null==this?void 0:this.__container)||void 0===f||f.removeChild(this.__menuDOM),this.__menuDOM=null},h.prototype.showMenu=function(f,u,d){if(d&&d.length){var v=this.__menuDOM;v.innerHTML="",v.append.apply(v,function(){for(var h=[],f=0;f<arguments.length;f++)h=h.concat(Ee(arguments[f]));return h}(this.__getMenuDom(d))),v.children.length&&(v.style.display="block",v.style.top=u+"px",v.style.left=f+"px")}},h.prototype.setMenuByType=function(f){!f.type||!f.menu||this.menuTypeMap.set(f.type,f.menu)},h.prototype.__getMenuDom=function(f){var u=[];return f&&f.length>0&&f.forEach(function(d){var v=document.createElement("li");if(v.className=d.className?"lf-menu-item "+d.className:"lf-menu-item",!0===d.icon){var m=document.createElement("span");m.className="lf-menu-item-icon",v.appendChild(m)}var S=document.createElement("span");S.className="lf-menu-item-text",d.text&&(S.innerText=d.text),v.appendChild(S),v.onclickCallback=d.callback,u.push(v)}),u},h.prototype.setMenuConfig=function(f){!f||(void 0!==f.nodeMenu&&this.menuTypeMap.set(en,f.nodeMenu?f.nodeMenu:[]),void 0!==f.edgeMenu&&this.menuTypeMap.set(zo,f.edgeMenu?f.edgeMenu:[]),void 0!==f.graphMenu&&this.menuTypeMap.set(Yr,f.graphMenu?f.graphMenu:[]))},h.prototype.addMenuConfig=function(f){if(f){if(Array.isArray(f.nodeMenu)){var u=this.menuTypeMap.get(en);this.menuTypeMap.set(en,u.concat(f.nodeMenu))}Array.isArray(f.edgeMenu)&&(u=this.menuTypeMap.get(zo),this.menuTypeMap.set(zo,u.concat(f.edgeMenu))),Array.isArray(f.graphMenu)&&(u=this.menuTypeMap.get(Yr),this.menuTypeMap.set(Yr,u.concat(f.graphMenu)))}},h.prototype.changeMenuItem=function(f,u){if("add"===f)this.addMenuConfig(u);else{if("reset"!==f)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.setMenuConfig(u)}},h.pluginName="menu",h}(),Cn="menu-common";!function(){function h(f){var u=this,d=f.lf;this.menuTypeMap=new Map,this.listenDelete=function(){u.hideContextMenu()},this.lf=d,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(Cn,[]),this.lf.setContextMenuByType=function(v,m){u.setContextMenuByType(v,m)},this.lf.setContextMenuItems=function(v){u.setContextMenuItems(v)},this.lf.showContextMenu=function(v){u.showContextMenu(v)},this.lf.hideContextMenu=function(){u.hideContextMenu()}}h.prototype.render=function(f,u){var d=this;this.container=u,f.on("node:click",function(v){d._activeData=v.data,d.createContextMenu()}),f.on("edge:click",function(v){d._activeData=v.data,d.createContextMenu()}),f.on("blank:click",function(){d.hideContextMenu()})},h.prototype.setContextMenuByType=function(f,u){this.menuTypeMap.set(f,u)},h.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},h.prototype.showContextMenu=function(f){f&&f.id?(this._activeData=f,this.createContextMenu()):console.warn("\u8bf7\u68c0\u67e5\u4f20\u5165\u7684\u53c2\u6570")},h.prototype.setContextMenuItems=function(f){this.menuTypeMap.set(Cn,f)},h.prototype.getContextMenuPosition=function(){var f=this._activeData,u=this.lf.graphModel.getElement(f.id);if(u){var d,v;if("edge"===u.BaseType){d=Number.MIN_SAFE_INTEGER,v=Number.MAX_SAFE_INTEGER;var m=u.getData();d=Math.max(m.startPoint.x,d),v=Math.min(m.startPoint.y,v),d=Math.max(m.endPoint.x,d),v=Math.min(m.endPoint.y,v),m.pointsList&&m.pointsList.forEach(function(S){d=Math.max(S.x,d),v=Math.min(S.y,v)})}return"node"===u.BaseType&&(d=f.x+u.width/2,v=f.y-u.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([d,v])}console.warn("\u627e\u4e0d\u5230\u5143\u7d20"+f.id)},h.prototype.createContextMenu=function(){var f=this;if(!this.lf.options.isSilentMode){var d=this.menuTypeMap.get(this._activeData.type)||[];d=d.concat(this.menuTypeMap.get(Cn));var v=document.createDocumentFragment();d.forEach(function(m){var S=document.createElement("div");S.className="lf-context-item";var M=document.createElement("img");M.src=m.icon,M.className="lf-context-img",m.className&&(S.className=S.className+" "+m.className),M.addEventListener("click",function(){f.hideContextMenu(),m.callback?m.callback(f._activeData):f.addNode({sourceId:f._activeData.id,x:f._activeData.x,y:f._activeData.y,properties:m.properties,type:m.type})}),S.appendChild(M),v.appendChild(S)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(v),this.showMenu()}},h.prototype.addNode=function(f,u){var d=void 0!==u;void 0===u&&(u=f.y);var v=this.lf.getNodeModelById(f.sourceId);if(this.lf.getAreaElement([f.x-v.width+200,u-f.y/2-20],[f.x+v.width+200,u+f.y/2+20]).length)this.addNode(f,u+=100);else{var me,he,F=this.lf.addNode({type:f.type,x:f.x+200,y:u,properties:f.properties});d&&(me={x:f.x,y:f.y+v.height/2},he={x:F.x-F.width/2,y:F.y}),this.lf.addEdge({sourceNodeId:f.sourceId,targetNodeId:F.id,startPoint:me,endPoint:he})}},h.prototype.showMenu=function(){var f=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m}(this.getContextMenuPosition(),2),u=f[0],d=f[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=d+"px",this.__menuDOM.style.left=u+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},h.pluginName="contextMenu"}(),function(){function h(f){var u=this;this.lf=f.lf,this.lf.setPatternItems=function(v){u.setPatternItems(v)}}h.prototype.render=function(f,u){var d=this;this.destroy(),this.shapeList&&0!==this.shapeList.length?(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(v){d.panelEl.appendChild(d.createDndItem(v))}),u.appendChild(this.panelEl),this.domContainer=u):this.domContainer=u},h.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},h.prototype.setPatternItems=function(f){this.shapeList=f,this.domContainer&&this.render(this.lf,this.domContainer)},h.prototype.createDndItem=function(f){var u=this,d=document.createElement("div");d.className=f.className?"lf-dnd-item "+f.className:"lf-dnd-item";var v=document.createElement("div");if(v.className="lf-dnd-shape",f.icon&&(v.style.backgroundImage="url("+f.icon+")"),d.appendChild(v),f.label){var m=document.createElement("div");m.innerText=f.label,m.className="lf-dnd-text",d.appendChild(m)}return d.onmousedown=function(){f.type&&u.lf.dnd.startDrag({type:f.type,properties:f.properties,text:f.text}),f.callback&&f.callback(u.lf,u.domContainer)},d},h.pluginName="dndPanel"}();var Ja=function(){function h(f){var u=this,d=f.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(m){var S=u.lf.getPointByClient(m.clientX,m.clientY).domOverlayPosition,M=S.x,z=S.y;u.endPoint={x:M,y:z};var Z=u.startPoint,F=Z.x,me=Z.y,he=u.wrapper.style,Oe=F,Ie=me,nt=M-F,rt=z-me;M<F&&(Oe=M,nt=F-M),z<me&&(Ie=z,rt=me-z),he.left=Oe+"px",he.top=Ie+"px",he.width=nt+"px",he.height=rt+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var m=u.startPoint,S=m.x,M=m.y,z=u.endPoint,Z=z.x,F=z.y;if(!(Math.abs(Z-S)<10&&Math.abs(F-M)<10)){var me=[Math.min(S,Z),Math.min(M,F)],he=[Math.max(S,Z),Math.max(M,F)],Oe=u.lf.graphModel.getAreaElement(me,he,u.isWholeEdge,u.isWholeNode,!0),Ie=u.lf.graphModel.group;Oe.forEach(function(nt){(!Ie||!Ie.getNodeGroup(nt.id))&&u.lf.selectElementById(nt.id,!0)}),u.lf.emit("selection:selected",Oe)}},this.lf=d;var v=d.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=v,d.openSelectionSelect=function(){u.openSelectionSelect()},d.closeSelectionSelect=function(){u.closeSelectionSelect()}}return h.prototype.render=function(f,u){var d=this;this.__domContainer=u,f.on("blank:mousedown",function(v){var m=v.e;if(f.getEditConfig().stopMoveGraph&&!d.__disabled){var M=f.getPointByClient(m.clientX,m.clientY).domOverlayPosition,z=M.x,Z=M.y;d.startPoint={x:z,y:Z},d.endPoint={x:z,y:Z};var F=document.createElement("div");F.className="lf-selection-select",F.oncontextmenu=function(he){he.preventDefault()},F.style.top=d.startPoint.y+"px",F.style.left=d.startPoint.x+"px",u.appendChild(F),d.wrapper=F,document.addEventListener("mousemove",d.__draw),document.addEventListener("mouseup",d.__drawOff)}})},h.prototype.setSelectionSense=function(f,u){void 0===f&&(f=!0),void 0===u&&(u=!0),this.isWholeEdge=f,this.isWholeNode=u},h.prototype.openSelectionSelect=function(){this.lf.getEditConfig().stopMoveGraph||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},h.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},h.prototype.open=function(){this.__disabled=!1},h.prototype.close=function(){this.__disabled=!0},h.pluginName="selectionSelect",h}();!function(){function h(f){var u=this,d=f.lf,v=f.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(m,S){u.__setView(),u.__isShow||u.__createMiniMap(m,S),u.__isShow=!0},this.hide=function(){u.__isShow&&u.__removeMiniMap(),u.__isShow=!1},this.__startDrag=function(m){document.addEventListener("mousemove",u.__drag),document.addEventListener("mouseup",u.__drop),u.__startPosition={x:m.x,y:m.y}},this.moveViewport=function(m,S){var M=u.__viewport.style;u.__viewPortTop=m,u.__viewPortLeft=S,M.top=u.__viewPortTop+"px",M.left=u.__viewPortLeft+"px"},this.__drag=function(m){u.moveViewport(u.__viewPortTop+m.y-u.__startPosition.y,u.__viewPortLeft+m.x-u.__startPosition.x),u.__startPosition={x:m.x,y:m.y},u.__lf.focusOn({coordinate:{x:(u.__viewPortLeft+u.__viewPortWidth/2)/u.__viewPortScale+u.__resetDataX,y:(u.__viewPortTop+u.__viewPortHeight/2)/u.__viewPortScale+u.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",u.__drag),document.removeEventListener("mouseup",u.__drop);var m=u.__viewPortTop,S=u.__viewPortLeft;u.__viewPortLeft>u.__width&&(S=u.__width-u.__viewPortWidth),u.__viewPortTop>u.__height&&(m=u.__height-u.__viewPortHeight),u.__viewPortLeft<-u.__width&&(S=0),u.__viewPortTop<-u.__height&&(m=0),u.moveViewport(m,S)},this.__lf=d,this.__miniMapWidth=d.graphModel.width,this.__miniMapHeight=220*d.graphModel.width/150,this.__LogicFlow=v,this.__init()}h.prototype.render=function(f,u){var d=this;this.__container=u,this.__lf.on("history:change",function(){d.__isShow&&d.__setView()}),this.__lf.on("blank:drop",function(){d.__isShow&&d.__setView()})},h.prototype.init=function(f){this.__disabledPlugins=this.__disabledPlugins.concat(f.disabledPlugins||[])},h.prototype.__init=function(){var f=document.createElement("div");f.className="lf-mini-map-graph",f.style.width=this.__width+"px",f.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:220*this.__lf.graphModel.width/150,container:f,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(u){return u},this.__lfMap.adapterOut=function(u){return u},this.__miniMapWrap=f,this.__createViewPort()},h.prototype.__createMiniMap=function(f,u){var d=document.createElement("div");d.appendChild(this.__miniMapWrap),typeof f<"u"&&typeof u<"u"&&(d.style.left=f+"px",d.style.top=u+"px"),d.style.position="absolute",d.className="lf-mini-map",this.__container.appendChild(d),this.__miniMapWrap.appendChild(this.__viewport);var m=document.createElement("div");m.className="lf-mini-map-header",m.innerText="\u5bfc\u822a",d.appendChild(m);var S=document.createElement("span");S.className="lf-mini-map-close",S.addEventListener("click",this.hide),d.appendChild(S),this.__miniMapContainer=d},h.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},h.prototype.__getBounds=function(f){var u=0,d=this.__miniMapWidth,v=0,m=this.__miniMapHeight,S=f.nodes;return S&&S.length>0&&S.forEach(function(M){var z=M.x,Z=M.y,F=M.width,me=void 0===F?200:F,he=M.height,Oe=void 0===he?200:he,Ie=z-me/2,nt=z+me/2,rt=Z-Oe/2,$e=Z+Oe/2;u=Ie<u?Ie:u,d=nt>d?nt:d,v=rt<v?rt:v,m=$e>m?$e:m}),{left:u,top:v,bottom:m,right:d}},h.prototype.__resetData=function(f){var u=f.nodes,d=f.edges,v=0,m=0;return u&&u.length>0&&(u.forEach(function(S){var Z=S.width,me=S.height,Oe=S.x-(void 0===Z?200:Z)/2,Ie=S.y-(void 0===me?200:me)/2;v=Oe<v?Oe:v,m=Ie<m?Ie:m}),(v<0||m<0)&&(this.__resetDataX=v,this.__resetDataY=m,u.forEach(function(S){S.x=S.x-v,S.y=S.y-m,S.text&&(S.text.x=S.text.x-v,S.text.y=S.text.y-m)}),d.forEach(function(S){S.startPoint&&(S.startPoint.x=S.startPoint.x-v,S.startPoint.y=S.startPoint.y-m),S.endPoint&&(S.endPoint.x=S.endPoint.x-v,S.endPoint.y=S.endPoint.y-m),S.text&&(S.text.x=S.text.x-v,S.text.y=S.text.y-m),S.pointsList&&S.pointsList.forEach(function(M){M.x=M.x-v,M.y=M.y-m})}))),f},h.prototype.__setView=function(){var f,u,d=this.__resetData(this.__lf.getGraphRawData()),v=this.__lf.viewMap,m=this.__lf.graphModel.modelMap,S=this.__lfMap.viewMap;try{for(var M=function(h){var f="function"==typeof Symbol&&Symbol.iterator,u=f&&h[f],d=0;if(u)return u.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&d>=h.length&&(h=void 0),{value:h&&h[d++],done:!h}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")}(v.keys()),z=M.next();!z.done;z=M.next()){var Z=z.value;S.has(Z)||(this.__lfMap.setView(Z,v.get(Z)),this.__lfMap.graphModel.modelMap.set(Z,m.get(Z)))}}catch(p){f={error:p}}finally{try{z&&!z.done&&(u=M.return)&&u.call(M)}finally{if(f)throw f.error}}this.__lfMap.render(d);var F=this.__getBounds(d),me=F.left,he=F.top,Oe=F.right,Ie=F.bottom,$e=this.__miniMapWrap.firstChild.style,l=Math.min(this.__width/(Oe-me),this.__height/(Ie-he));$e.transform="matrix("+l+", 0, 0, "+l+", 0, 0)",$e.transformOrigin="left top",$e.height=Ie-Math.min(he,0)+"px",$e.width=Oe-Math.min(me,0)+"px",this.__viewPortScale=l,this.__setViewPort(l,{left:me,top:he,right:Oe,bottom:Ie})},h.prototype.__setViewPort=function(f,u){var d=u.left,v=u.right,M=this.__viewport.style;M.width=this.__width-4+"px",M.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var z=this.__lf.getTransform(),Z=z.TRANSLATE_X,F=z.TRANSLATE_Y,he=(this.__width-4)/((v-d)/this.__lf.graphModel.width),Ie=he/(this.__lf.graphModel.width/this.__lf.graphModel.height);this.__viewPortTop=F>0?0:-F*f,this.__viewPortLeft=Z>0?0:-Z*f,this.__viewPortWidth=he,this.__viewPortHeight=Ie,M.top=this.__viewPortTop+"px",M.left=this.__viewPortLeft+"px",M.width=he+"px",M.height=Ie+"px"},h.prototype.__createViewPort=function(){var f=document.createElement("div");f.className="lf-minimap-viewport",f.addEventListener("mousedown",this.__startDrag),this.__viewport=f},h.pluginName="miniMap"}();var br,Jt,Go,qn,Ho,ua=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),_n=function(){return _n=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},_n.apply(this,arguments)},tn=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},rn=(function(h){function f(){return null!==h&&h.apply(this,arguments)||this}ua(f,h),f.prototype.pointFilter=function(u){for(var d=u,v=1;v<d.length-1;){var m=tn(d[v-1],2),S=m[0],M=m[1],z=tn(d[v],2),Z=z[0],F=z[1],me=tn(d[v+1],2);S===Z&&Z===me[0]||M===F&&F===me[1]?d.splice(v,1):v++}return d},f.prototype.getEdge=function(){for(var u=this.props.model,d=u.points,v=u.isAnimation,m=u.arrowConfig,S=u.radius,M=void 0===S?5:S,z=u.getEdgeStyle(),Z=u.getEdgeAnimationStyle(),F=this.pointFilter(d.split(" ").map(function(Vt){return Vt.split(",").map(function(sr){return Number(sr)})})),me=tn(F[0],2),Ie="M"+me[0]+" "+me[1],nt=1;nt<F.length-1;nt++){var rt=tn(F[nt-1],2),$e=rt[0],l=rt[1],p=tn(F[nt],2),O=p[0],j=p[1],G=tn(F[nt+1],2),q=G[0],se=G[1];O===$e&&j!==l&&(Ie=Ie+" L "+O+" "+(j>l?j-M:j+M)),j===l&&O!==$e&&(Ie=Ie+" L "+(O>$e?O-M:O+M)+" "+j),Ie=Ie+" Q "+O+" "+j,O===q&&j!==se&&(Ie=Ie+" "+O+" "+(j>se?j-M:j+M)),j===se&&O!==q&&(Ie=Ie+" "+(O>q?O-M:O+M)+" "+j)}var mt=tn(F[F.length-1],2),Wt=_n(_n(_n({d:Ie=Ie+" L "+mt[0]+" "+mt[1],style:v?Z:{}},z),m),{fill:"none"});return(0,N.h)("path",_n({d:Ie},Wt))}}(N.PolylineEdge),function(h){ua(function f(){return null!==h&&h.apply(this,arguments)||this},h)}(N.PolylineEdgeModel),{}),Oo=[],vi=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Br(h,f){for(var u in f)h[u]=f[u];return h}function ko(h){var f=h.parentNode;f&&f.removeChild(h)}function jn(h,f,u){var d,v,m,S={};for(m in f)"key"==m?d=f[m]:"ref"==m?v=f[m]:S[m]=f[m];if(arguments.length>2&&(S.children=arguments.length>3?br.call(arguments,2):u),"function"==typeof h&&null!=h.defaultProps)for(m in h.defaultProps)void 0===S[m]&&(S[m]=h.defaultProps[m]);return nn(h,S,d,v,null)}function nn(h,f,u,d,v){var m={type:h,props:f,key:u,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:v??++Go};return null==v&&null!=Jt.vnode&&Jt.vnode(m),m}function rr(h){return h.children}function Jr(h,f){this.props=h,this.context=f}function Eo(h,f){if(null==f)return h.__?Eo(h.__,h.__.__k.indexOf(h)+1):null;for(var u;f<h.__k.length;f++)if(null!=(u=h.__k[f])&&null!=u.__e)return u.__e;return"function"==typeof h.type?Eo(h):null}function yi(h){var f,u;if(null!=(h=h.__)&&null!=h.__c){for(h.__e=h.__c.base=null,f=0;f<h.__k.length;f++)if(null!=(u=h.__k[f])&&null!=u.__e){h.__e=h.__c.base=u.__e;break}return yi(h)}}function gn(h){(!h.__d&&(h.__d=!0)&&qn.push(h)&&!on.__r++||Ho!==Jt.debounceRendering)&&((Ho=Jt.debounceRendering)||setTimeout)(on)}function on(){for(var h;on.__r=qn.length;)h=qn.sort(function(f,u){return f.__v.__b-u.__v.__b}),qn=[],h.some(function(f){var u,d,v,m,S,M;f.__d&&(S=(m=(u=f).__v).__e,(M=u.__P)&&(d=[],(v=Br({},m)).__v=m.__v+1,Xo(M,m,v,u.__n,void 0!==M.ownerSVGElement,null!=m.__h?[S]:null,d,S??Eo(m),m.__h),Or(d,m),m.__e!=S&&yi(m)))})}function gi(h,f,u,d,v,m,S,M,z,Z){var F,me,he,Oe,Ie,nt,rt,$e=d&&d.__k||Oo,l=$e.length;for(u.__k=[],F=0;F<f.length;F++)if(null!=(Oe=u.__k[F]=null==(Oe=f[F])||"boolean"==typeof Oe?null:"string"==typeof Oe||"number"==typeof Oe||"bigint"==typeof Oe?nn(null,Oe,null,null,Oe):Array.isArray(Oe)?nn(rr,{children:Oe},null,null,null):Oe.__b>0?nn(Oe.type,Oe.props,Oe.key,Oe.ref?Oe.ref:null,Oe.__v):Oe)){if(Oe.__=u,Oe.__b=u.__b+1,null===(he=$e[F])||he&&Oe.key==he.key&&Oe.type===he.type)$e[F]=void 0;else for(me=0;me<l;me++){if((he=$e[me])&&Oe.key==he.key&&Oe.type===he.type){$e[me]=void 0;break}he=null}Xo(h,Oe,he=he||rn,v,m,S,M,z,Z),Ie=Oe.__e,(me=Oe.ref)&&he.ref!=me&&(rt||(rt=[]),he.ref&&rt.push(he.ref,null,Oe),rt.push(me,Oe.__c||Ie,Oe)),null!=Ie?(null==nt&&(nt=Ie),"function"==typeof Oe.type&&Oe.__k===he.__k?Oe.__d=z=Uo(Oe,z,h):z=mi(h,Oe,he,$e,Ie,z),"function"==typeof u.type&&(u.__d=z)):z&&he.__e==z&&z.parentNode!=h&&(z=Eo(he))}for(u.__e=nt,F=l;F--;)null!=$e[F]&&xi($e[F],$e[F]);if(rt)for(F=0;F<rt.length;F++)Ei(rt[F],rt[++F],rt[++F])}function Uo(h,f,u){for(var d,v=h.__k,m=0;v&&m<v.length;m++)(d=v[m])&&(d.__=h,f="function"==typeof d.type?Uo(d,f,u):mi(u,d,d,v,d.__e,f));return f}function mi(h,f,u,d,v,m){var S,M,z;if(void 0!==f.__d)S=f.__d,f.__d=void 0;else if(null==u||v!=m||null==v.parentNode)e:if(null==m||m.parentNode!==h)h.appendChild(v),S=null;else{for(M=m,z=0;(M=M.nextSibling)&&z<d.length;z+=1)if(M==v)break e;h.insertBefore(v,m),S=m}return void 0!==S?S:v.nextSibling}function bi(h,f,u){"-"===f[0]?h.setProperty(f,u):h[f]=null==u?"":"number"!=typeof u||vi.test(f)?u:u+"px"}function xo(h,f,u,d,v){var m;e:if("style"===f)if("string"==typeof u)h.style.cssText=u;else{if("string"==typeof d&&(h.style.cssText=d=""),d)for(f in d)u&&f in u||bi(h.style,f,"");if(u)for(f in u)d&&u[f]===d[f]||bi(h.style,f,u[f])}else if("o"===f[0]&&"n"===f[1])m=f!==(f=f.replace(/Capture$/,"")),f=f.toLowerCase()in h?f.toLowerCase().slice(2):f.slice(2),h.l||(h.l={}),h.l[f+m]=u,u?d||h.addEventListener(f,m?Ar:So,m):h.removeEventListener(f,m?Ar:So,m);else if("dangerouslySetInnerHTML"!==f){if(v)f=f.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==f&&"list"!==f&&"form"!==f&&"tabIndex"!==f&&"download"!==f&&f in h)try{h[f]=u??"";break e}catch{}"function"==typeof u||(null==u||!1===u&&-1==f.indexOf("-")?h.removeAttribute(f):h.setAttribute(f,u))}}function So(h){this.l[h.type+!1](Jt.event?Jt.event(h):h)}function Ar(h){this.l[h.type+!0](Jt.event?Jt.event(h):h)}function Xo(h,f,u,d,v,m,S,M,z){var Z,F,me,he,Oe,Ie,nt,rt,$e,l,p,O,j,G,q,se=f.type;if(void 0!==f.constructor)return null;null!=u.__h&&(z=u.__h,M=f.__e=u.__e,f.__h=null,m=[M]),(Z=Jt.__b)&&Z(f);try{e:if("function"==typeof se){if(rt=f.props,$e=(Z=se.contextType)&&d[Z.__c],l=Z?$e?$e.props.value:Z.__:d,u.__c?nt=(F=f.__c=u.__c).__=F.__E:("prototype"in se&&se.prototype.render?f.__c=F=new se(rt,l):(f.__c=F=new Jr(rt,l),F.constructor=se,F.render=mn),$e&&$e.sub(F),F.props=rt,F.state||(F.state={}),F.context=l,F.__n=d,me=F.__d=!0,F.__h=[],F._sb=[]),null==F.__s&&(F.__s=F.state),null!=se.getDerivedStateFromProps&&(F.__s==F.state&&(F.__s=Br({},F.__s)),Br(F.__s,se.getDerivedStateFromProps(rt,F.__s))),he=F.props,Oe=F.state,me)null==se.getDerivedStateFromProps&&null!=F.componentWillMount&&F.componentWillMount(),null!=F.componentDidMount&&F.__h.push(F.componentDidMount);else{if(null==se.getDerivedStateFromProps&&rt!==he&&null!=F.componentWillReceiveProps&&F.componentWillReceiveProps(rt,l),!F.__e&&null!=F.shouldComponentUpdate&&!1===F.shouldComponentUpdate(rt,F.__s,l)||f.__v===u.__v){for(F.props=rt,F.state=F.__s,f.__v!==u.__v&&(F.__d=!1),F.__v=f,f.__e=u.__e,f.__k=u.__k,f.__k.forEach(function(Ce){Ce&&(Ce.__=f)}),p=0;p<F._sb.length;p++)F.__h.push(F._sb[p]);F._sb=[],F.__h.length&&S.push(F);break e}null!=F.componentWillUpdate&&F.componentWillUpdate(rt,F.__s,l),null!=F.componentDidUpdate&&F.__h.push(function(){F.componentDidUpdate(he,Oe,Ie)})}if(F.context=l,F.props=rt,F.__v=f,F.__P=h,O=Jt.__r,j=0,"prototype"in se&&se.prototype.render){for(F.state=F.__s,F.__d=!1,O&&O(f),Z=F.render(F.props,F.state,F.context),G=0;G<F._sb.length;G++)F.__h.push(F._sb[G]);F._sb=[]}else do{F.__d=!1,O&&O(f),Z=F.render(F.props,F.state,F.context),F.state=F.__s}while(F.__d&&++j<25);F.state=F.__s,null!=F.getChildContext&&(d=Br(Br({},d),F.getChildContext())),me||null==F.getSnapshotBeforeUpdate||(Ie=F.getSnapshotBeforeUpdate(he,Oe)),q=null!=Z&&Z.type===rr&&null==Z.key?Z.props.children:Z,gi(h,Array.isArray(q)?q:[q],f,u,d,v,m,S,M,z),F.base=f.__e,f.__h=null,F.__h.length&&S.push(F),nt&&(F.__E=F.__=null),F.__e=!1}else null==m&&f.__v===u.__v?(f.__k=u.__k,f.__e=u.__e):f.__e=function Oi(h,f,u,d,v,m,S,M){var z,Z,F,me=u.props,he=f.props,Oe=f.type,Ie=0;if("svg"===Oe&&(v=!0),null!=m)for(;Ie<m.length;Ie++)if((z=m[Ie])&&"setAttribute"in z==!!Oe&&(Oe?z.localName===Oe:3===z.nodeType)){h=z,m[Ie]=null;break}if(null==h){if(null===Oe)return document.createTextNode(he);h=v?document.createElementNS("http://www.w3.org/2000/svg",Oe):document.createElement(Oe,he.is&&he),m=null,M=!1}if(null===Oe)me===he||M&&h.data===he||(h.data=he);else{if(m=m&&br.call(h.childNodes),Z=(me=u.props||rn).dangerouslySetInnerHTML,F=he.dangerouslySetInnerHTML,!M){if(null!=m)for(me={},Ie=0;Ie<h.attributes.length;Ie++)me[h.attributes[Ie].name]=h.attributes[Ie].value;(F||Z)&&(F&&(Z&&F.__html==Z.__html||F.__html===h.innerHTML)||(h.innerHTML=F&&F.__html||""))}if(function an(h,f,u,d,v){var m;for(m in u)"children"===m||"key"===m||m in f||xo(h,m,null,u[m],d);for(m in f)v&&"function"!=typeof f[m]||"children"===m||"key"===m||"value"===m||"checked"===m||u[m]===f[m]||xo(h,m,f[m],u[m],d)}(h,he,me,v,M),F)f.__k=[];else if(Ie=f.props.children,gi(h,Array.isArray(Ie)?Ie:[Ie],f,u,d,v&&"foreignObject"!==Oe,m,S,m?m[0]:u.__k&&Eo(u,0),M),null!=m)for(Ie=m.length;Ie--;)null!=m[Ie]&&ko(m[Ie]);M||("value"in he&&void 0!==(Ie=he.value)&&(Ie!==h.value||"progress"===Oe&&!Ie||"option"===Oe&&Ie!==me.value)&&xo(h,"value",Ie,me.value,!1),"checked"in he&&void 0!==(Ie=he.checked)&&Ie!==h.checked&&xo(h,"checked",Ie,me.checked,!1))}return h}(u.__e,f,u,d,v,m,S,z);(Z=Jt.diffed)&&Z(f)}catch(Ce){f.__v=null,(z||null!=m)&&(f.__e=M,f.__h=!!z,m[m.indexOf(M)]=null),Jt.__e(Ce,f,u)}}function Or(h,f){Jt.__c&&Jt.__c(f,h),h.some(function(u){try{h=u.__h,u.__h=[],h.some(function(d){d.call(u)})}catch(d){Jt.__e(d,u.__v)}})}function Ei(h,f,u){try{"function"==typeof h?h(f):h.current=f}catch(d){Jt.__e(d,u)}}function xi(h,f,u){var d,v;if(Jt.unmount&&Jt.unmount(h),(d=h.ref)&&(d.current&&d.current!==h.__e||Ei(d,null,f)),null!=(d=h.__c)){if(d.componentWillUnmount)try{d.componentWillUnmount()}catch(m){Jt.__e(m,f)}d.base=d.__P=null,h.__c=void 0}if(d=h.__k)for(v=0;v<d.length;v++)d[v]&&xi(d[v],f,u||"function"!=typeof h.type);u||null==h.__e||ko(h.__e),h.__=h.__e=h.__d=void 0}function mn(h,f,u){return this.constructor(h,u)}br=Oo.slice,Jt={__e:function(h,f,u,d){for(var v,m,S;f=f.__;)if((v=f.__c)&&!v.__)try{if((m=v.constructor)&&null!=m.getDerivedStateFromError&&(v.setState(m.getDerivedStateFromError(h)),S=v.__d),null!=v.componentDidCatch&&(v.componentDidCatch(h,d||{}),S=v.__d),S)return v.__E=v}catch(M){h=M}throw h}},Go=0,Jr.prototype.setState=function(h,f){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Br({},this.state),"function"==typeof h&&(h=h(Br({},u),this.props)),h&&Br(u,h),null!=h&&this.__v&&(f&&this._sb.push(f),gn(this))},Jr.prototype.forceUpdate=function(h){this.__v&&(this.__e=!0,h&&this.__h.push(h),gn(this))},Jr.prototype.render=rr,qn=[],on.__r=0;var Rn=function(){return Rn=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},Rn.apply(this,arguments)};function Po(h){var m=h.radius,M=h.x-h.width/2,z=h.y-h.height/2,Z=Rn(Rn({width:10,height:10,cx:0,cy:0,rx:m||0,ry:m||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+h.className},h),{x:M,y:z});return(0,N.h)("rect",Rn({},Z))}Po.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var un=(()=>(function(h){h.NODE="node",h.CIRCLE_NODE="circle-node",h.POLYGON_NODE="polygon-node",h.RECT_NODE="rect-node",h.HTML_NODE="html-node",h.TEXT_NODE="text-node",h.ELLIPSE_NODE="ellipse-node",h.DIAMOND_NODE="diamond-node",h.EDGE="edge",h.LINE_EDGE="line-edge",h.POLYLINE_EDGE="polyline-edge",h.BEZIER_EDGE="bezier-edge",h.GRAPH="graph"}(un||(un={})),un))();function eo(h){var f=h.x,u=h.y,d=h.width,v=h.height;return{minX:f-d/2,minY:u-v/2,maxX:f+d/2,maxY:u+v/2}}function Mi(h){var f=eo(h),u=h.radius,d=f.minX,v=f.minY,m=f.maxX,S=f.maxY;return[{x:d+u,y:v+u},{x:m-u,y:v+u},{x:m-u,y:S-u},{x:d+u,y:S-u}]}function Yo(h){var f=h.point,u=h.beforeNode,d=h.afterNode,v=f.x,m=f.y,S={x:v,y:m},M=u.radius,z=eo(u),Z=eo(d);if(v===z.minX)S.x=Z.minX,S.y=(F=(m-u.y)/(u.height/2-M))?d.y+(d.height/2-M)*F:d.y;else if(v===z.maxX)S.x=Z.maxX,S.y=(F=(m-u.y)/(u.height/2-M))?d.y+(d.height/2-M)*F:d.y;else if(m===z.minY)S.y=Z.minY,S.x=(F=(v-u.x)/(u.width/2-M))?d.x+(d.width/2-M)*F:d.x;else if(m===z.maxY){var F;S.y=Z.maxY,S.x=(F=(v-u.x)/(u.width/2-M))?d.x+(d.width/2-M)*F:d.x}else{var me=Mi(u),he=Mi(d),Oe=eo(u),Ie=Oe.minX,nt=Oe.minY,rt=Oe.maxX,l=-1;if(v-Ie<M&&m-nt<M?l=0:rt-v<M&&m-nt<M?l=1:rt-v<M&&Oe.maxY-m<M?l=2:v-Ie<M&&nt-m<M&&(l=3),l>-1){var p=Math.atan2(m-me[l].y,v-me[l].x);S.x=he[l].x+M*Math.cos(p),S.y=he[l].y+M*Math.sin(p)}}return S}function sn(h){var F,me,f=h.point,u=h.beforeNode,d=h.afterNode,M=(f.y-u.y)/(f.x-u.x),z=d.rx,Z=d.ry;return M>=1/0?(F=0,me=Z):M<=-1/0?(F=0,me=-Z):f.x-u.x>0?(F=z*Z/Math.sqrt(Z*Z+z*z*M*M),me=z*Z*M/Math.sqrt(Z*Z+z*z*M*M)):(F=-z*Z/Math.sqrt(Z*Z+z*z*M*M),me=-z*Z*M/Math.sqrt(Z*Z+z*z*M*M)),{x:F+d.x,y:me+d.y}}function Mo(h){var f=h.point,u=h.beforeNode,d=h.afterNode,M=f.x-u.x,z=f.y-u.y,Z=u.rx,F=u.ry,me=Math.sqrt((Z-Math.abs(M))*(Z-Math.abs(M))+z*z)/Math.sqrt(Z*Z+F*F),he=d.rx,Oe=d.ry,Ie=Math.sqrt((he*he+Oe*Oe)*me*me*(he*he/(he*he+Oe*Oe))),nt=Ie*(Oe/he);return{x:(M>=0?he-Ie:Ie-he)+d.x,y:(z>0?nt:-nt)+d.y}}var Pr=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),bn=function(){return bn=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},bn.apply(this,arguments)},qa=N.LogicFlowUtil.StepDrag,eu=function(h){function f(u){var d=h.call(this)||this;return d.updatePosition=function(v){var m=v.deltaX,S=v.deltaY,M=d.nodeModel,Z=M.y;d.nodeModel.x=M.x+m/2,d.nodeModel.y=Z+S/2,d.nodeModel.moveText(m/2,S/2)},d.getResize=function(v){var m=v.index,S=v.deltaX,M=v.deltaY,z=v.width,Z=v.height,F=v.PCTResizeInfo,me=v.pct,he=void 0===me?1:me,Oe={width:z,height:Z,deltaX:S,deltaY:M};if(F){var nt=0,rt=0;switch(m){case 0:rt=(-1*S-M)/4;break;case 1:rt=(S-M)/4;break;case 2:rt=(S+M)/4;break;case 3:rt=(-1*S+M)/4}0!==rt&&(nt=Math.round(rt/F.ResizeBasis.basisHeight*1e5)/1e3),F.ResizePCT.widthPCT=Math.max(Math.min(F.ResizePCT.widthPCT+nt,F.ScaleLimit.maxScaleLimit),F.ScaleLimit.minScaleLimit),F.ResizePCT.hightPCT=Math.max(Math.min(F.ResizePCT.hightPCT+nt,F.ScaleLimit.maxScaleLimit),F.ScaleLimit.minScaleLimit);var $e=Math.round(F.ResizePCT.widthPCT*F.ResizeBasis.basisWidth/100),l=Math.round(F.ResizePCT.hightPCT*F.ResizeBasis.basisHeight/100);switch(m){case 0:S=z-$e,M=Z-l;break;case 1:S=$e-z,M=Z-l;break;case 2:S=$e-z,M=l-Z;break;case 3:S=z-$e,M=l-Z}return Oe.width=$e,Oe.height=l,Oe.deltaX=S/he,Oe.deltaY=M/he,Oe}switch(m){case 0:Oe.width=z-S*he,Oe.height=Z-M*he;break;case 1:Oe.width=z+S*he,Oe.height=Z-M*he;break;case 2:Oe.width=z+S*he,Oe.height=Z+M*he;break;case 3:Oe.width=z-S*he,Oe.height=Z+M*he}return Oe},d.updateRect=function(v){var M=d.nodeModel,z=M.id,Z=M.x,F=M.y,me=M.width,he=M.height,Oe=M.radius,rt=d.getResize({index:d.index,deltaX:v.deltaX,deltaY:v.deltaY,width:me,height:he,PCTResizeInfo:M.PCTResizeInfo,pct:1}),$e=d.nodeModel;if(rt.width<$e.minWidth||rt.width>$e.maxWidth||rt.height<$e.minHeight||rt.height>$e.maxHeight)d.dragHandler.cancelDrag();else{d.updatePosition({deltaX:rt.deltaX,deltaY:rt.deltaY}),d.nodeModel.width=rt.width,d.nodeModel.height=rt.height,d.nodeModel.setProperties({nodeSize:{width:rt.width,height:rt.height}});var Xe,G=d.getNodeEdges(z),q={x:Z,y:F,width:me,height:he,radius:Oe},se={x:d.nodeModel.x,y:d.nodeModel.y,width:d.nodeModel.width,height:d.nodeModel.height,radius:Oe},Ce={point:"",beforeNode:q,afterNode:se};G.sourceEdges.forEach(function(mt){Ce.point=mt.startPoint,Xe=Yo(Ce),mt.updateStartPoint(Xe)}),G.targetEdges.forEach(function(mt){Ce.point=mt.endPoint,Xe=Yo(Ce),mt.updateEndPoint(Xe)}),d.eventEmit({beforeNode:q,afterNode:se})}},d.updateEllipse=function(v){var M=d.nodeModel,z=M.id,Z=M.rx,F=M.ry,me=M.x,he=M.y,$e=d.getResize({index:d.index,deltaX:v.deltaX,deltaY:v.deltaY,width:Z,height:F,PCTResizeInfo:M.PCTResizeInfo,pct:.5}),l=d.nodeModel;if($e.width<l.minWidth/2||$e.width>l.maxWidth/2||$e.height<l.minHeight/2||$e.height>l.maxHeight/2)d.dragHandler.cancelDrag();else{d.updatePosition({deltaX:$e.deltaX,deltaY:$e.deltaY}),d.nodeModel.rx=$e.width,d.nodeModel.ry=$e.height,d.nodeModel.setProperties({nodeSize:{rx:$e.width,ry:$e.height}});var mt,q=d.getNodeEdges(z),se={x:me,y:he},Ce={rx:$e.width,ry:$e.height,x:d.nodeModel.x,y:d.nodeModel.y},Xe={point:{},beforeNode:se,afterNode:Ce};q.sourceEdges.forEach(function(bt){Xe.point=bt.startPoint,mt=sn(Xe),bt.updateStartPoint(mt)}),q.targetEdges.forEach(function(bt){Xe.point=bt.endPoint,mt=sn(Xe),bt.updateEndPoint(mt)}),d.eventEmit({beforeNode:bn(bn({},se),{rx:Z,ry:F}),afterNode:Ce})}},d.updateDiamond=function(v){var M=d.nodeModel,z=M.id,Z=M.rx,F=M.ry,me=M.x,he=M.y,$e=d.getResize({index:d.index,deltaX:v.deltaX,deltaY:v.deltaY,width:Z,height:F,PCTResizeInfo:M.PCTResizeInfo,pct:.5}),l=d.nodeModel;if($e.width<l.minWidth/2||$e.width>l.maxWidth/2||$e.height<l.minHeight/2||$e.height>l.maxHeight/2)d.dragHandler.cancelDrag();else{d.updatePosition({deltaX:$e.deltaX,deltaY:$e.deltaY}),d.nodeModel.rx=$e.width,d.nodeModel.ry=$e.height,d.nodeModel.setProperties({nodeSize:{rx:$e.width,ry:$e.height}});var Xe,q={x:me,y:he,rx:Z,ry:F},se={rx:$e.width,ry:$e.height,x:d.nodeModel.x,y:d.nodeModel.y},Ce={point:{},beforeNode:q,afterNode:se},mt=d.getNodeEdges(z);mt.sourceEdges.forEach(function(bt){Ce.point=bt.startPoint,Xe=Mo(Ce),bt.updateStartPoint(Xe)}),mt.targetEdges.forEach(function(bt){Ce.point=bt.endPoint,Xe=Mo(Ce),bt.updateEndPoint(Xe)}),d.eventEmit({beforeNode:q,afterNode:se})}},d.eventEmit=function(v){var S=v.afterNode,M=d.nodeModel,z=M.id,Z=M.modelType,F=M.type,me=bn({id:z,modelType:Z,type:F},v.beforeNode),he=bn({id:z,modelType:Z,type:F},S);d.graphModel.eventCenter.emit("node:resize",{oldNodeSize:me,newNodeSize:he})},d.onDraging=function(v){var m,S=v.deltaX,M=v.deltaY,Z=d.nodeModel.modelType;m=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m}(d.graphModel.transformModel.fixDeltaXY(S,M),2),S=m[0],M=m[1],Z===un.RECT_NODE||Z===un.HTML_NODE?d.updateRect({deltaX:S,deltaY:M}):Z===un.ELLIPSE_NODE?d.updateEllipse({deltaX:S,deltaY:M}):Z===un.DIAMOND_NODE&&d.updateDiamond({deltaX:S,deltaY:M})},d.onDragEnd=function(){var v=d.graphModel.gridSize,m=void 0===v?1:v,S=m*Math.round(d.nodeModel.x/m),M=m*Math.round(d.nodeModel.y/m);d.nodeModel.moveTo(S,M)},d.index=u.index,d.nodeModel=u.model,d.graphModel=u.graphModel,d.state={},d.dragHandler=new qa({onDraging:d.onDraging,onDragEnd:d.onDragEnd,step:1}),d}return Pr(f,h),f.prototype.getNodeEdges=function(u){for(var v=this.graphModel.edges,m=[],S=[],M=0;M<v.length;M++){var z=v[M];z.sourceNodeId===u?m.push(z):v[M].targetNodeId===u&&S.push(z)}return{sourceEdges:m,targetEdges:S}},f.prototype.render=function(){var u=this.props,d=u.x,v=u.y,m=u.index,M=u.model.getControlPointStyle();return jn("g",{className:"lf-resize-control-"+m},jn(Po,bn({className:"lf-node-control"},{x:d,y:v},M,{onMouseDown:this.dragHandler.handleMouseDown})))},f}(Jr);const ca=eu;var Wo=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),to=function(){return to=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},to.apply(this,arguments)},$o=function(h){function f(){var u=h.call(this)||this;return u.state={},u}return Wo(f,h),f.prototype.getResizeControl=function(){var u=this.props,d=u.model,v=u.graphModel,m=d.x,S=d.y,M=d.width,z=d.height,Z={minX:m-M/2,minY:S-z/2,maxX:m+M/2,maxY:S+z/2},F=Z.minX,me=Z.minY,he=Z.maxX,Oe=Z.maxY;return[{x:F,y:me},{x:he,y:me},{x:he,y:Oe},{x:F,y:Oe}].map(function(nt,rt){return jn(ca,to({index:rt},nt,{model:d,graphModel:v}))})},f.prototype.getGroupSolid=function(){var u=this.props.model,d=u.x,v=u.y,m=u.width,S=u.height,M=u.getResizeOutlineStyle();return jn(Po,to({fill:"none"},M,{x:d,y:v,width:m,height:S}))},f.prototype.render=function(){return jn("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},f}(Jr);const ro=$o;var Ko=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),no=function(h){function f(u,d){var v=h.call(this,u,d)||this,m=v.properties.nodeSize;return m&&(v.width=m.width,v.height=m.height),v}return Ko(f,h),f.prototype.initNodeData=function(u){h.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},f.prototype.getOutlineStyle=function(){var u=h.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},f.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},f.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},f.prototype.resize=function(u,d){console.log(u,d)},f.prototype.enableProportionResize=function(u){if(void 0===u&&(u=!0),u){var v={basisWidth:this.width,basisHeight:this.height},m={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:{widthPCT:100,hightPCT:100},ResizeBasis:v,ScaleLimit:m}}else delete this.PCTResizeInfo},f}(N.RectNodeModel),tu=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return Ko(f,h),f.prototype.getControlGroup=function(){var u=this.props;return(0,N.h)(ro,{model:u.model,graphModel:u.graphModel})},f.prototype.getResizeShape=function(){return h.prototype.getShape.call(this)},f.prototype.getShape=function(){var u=this.props,d=u.model.isSelected,v=u.graphModel.editConfigModel.isSilentMode;return(0,N.h)("g",null,this.getResizeShape(),d&&!v?this.getControlGroup():"")},f}(N.RectNode);const oo={type:"rect",view:tu,model:no};var ln=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}();(function(h){function f(u,d){var v=h.call(this,u,d)||this,m=v.properties.nodeSize;return m&&(v.rx=m.rx,v.ry=m.ry),v}ln(f,h),f.prototype.initNodeData=function(u){h.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},f.prototype.getOutlineStyle=function(){var u=h.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},f.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},f.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},f.prototype.enableProportionResize=function(u){if(void 0===u&&(u=!0),u){var v={basisWidth:this.rx,basisHeight:this.ry},m={maxScaleLimit:Math.min(this.maxWidth/(2*this.rx)*100,this.maxHeight/(2*this.ry)*100),minScaleLimit:Math.max(this.minWidth/(2*this.rx)*100,this.minHeight/(2*this.ry)*100)};this.PCTResizeInfo={ResizePCT:{widthPCT:100,hightPCT:100},ResizeBasis:v,ScaleLimit:m}}else delete this.PCTResizeInfo}})(N.EllipseNodeModel),function(h){function f(){return null!==h&&h.apply(this,arguments)||this}ln(f,h),f.prototype.getControlGroup=function(){var u=this.props;return(0,N.h)(ro,{model:u.model,graphModel:u.graphModel})},f.prototype.getResizeShape=function(){return h.prototype.getShape.call(this)},f.prototype.getShape=function(){var u=this.props,d=u.model,v=u.graphModel.editConfigModel.isSilentMode;return(0,N.h)("g",null,this.getResizeShape(),d.isSelected&&!v?this.getControlGroup():"")}}(N.EllipseNode);var Vo=function(){return Vo=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},Vo.apply(this,arguments)};function pa(h){var f=h.fillOpacity,d=h.strokeWidth,m=h.strokeOpacity,M=h.fill,Z=h.stroke,he=h.className,Ie={fill:void 0===M?"transparent":M,fillOpacity:void 0===f?1:f,strokeWidth:void 0===d?1:d,stroke:void 0===Z?"#000":Z,strokeOpacity:void 0===m?1:m,points:"",className:void 0===he?"lf-basic-shape":he};return Ie.points=h.points.map(function(nt){return nt.join(",")}).join(" "),(0,N.h)("polygon",Vo({},Ie))}var Ni=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),Zo=function(){return Zo=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},Zo.apply(this,arguments)};(function(h){function f(u,d){var v=h.call(this,u,d)||this,m=v.properties.nodeSize;return m&&(v.rx=m.rx,v.ry=m.ry),v}Ni(f,h),f.prototype.initNodeData=function(u){h.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},f.prototype.getOutlineStyle=function(){var u=h.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},f.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},f.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},f.prototype.enableProportionResize=function(u){if(void 0===u&&(u=!0),u){var v={basisWidth:this.rx,basisHeight:this.ry},m={maxScaleLimit:Math.min(this.maxWidth/(2*this.rx)*100,this.maxHeight/(2*this.ry)*100),minScaleLimit:Math.max(this.minWidth/(2*this.rx)*100,this.minHeight/(2*this.ry)*100)};this.PCTResizeInfo={ResizePCT:{widthPCT:100,hightPCT:100},ResizeBasis:v,ScaleLimit:m}}else delete this.PCTResizeInfo}})(N.DiamondNodeModel),function(h){function f(){return null!==h&&h.apply(this,arguments)||this}Ni(f,h),f.prototype.getControlGroup=function(){var u=this.props;return(0,N.h)(ro,{model:u.model,graphModel:u.graphModel})},f.prototype.getResizeShape=function(){var u=this.props.model,d=u.points,v=u.getNodeStyle();return(0,N.h)("g",null,(0,N.h)(pa,Zo({},v,{points:d})))},f.prototype.getShape=function(){var u=this.props,d=u.model.isSelected,v=u.graphModel.editConfigModel.isSilentMode;return(0,N.h)("g",null,this.getResizeShape(),d&&!v?this.getControlGroup():"")}}(N.DiamondNode);var cn=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}();(function(h){function f(u,d){var v=h.call(this,u,d)||this,m=v.properties.nodeSize;return m&&(v.width=m.width,v.height=m.height),v}cn(f,h),f.prototype.initNodeData=function(u){h.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},f.prototype.getOutlineStyle=function(){var u=h.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},f.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},f.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},f.prototype.enableProportionResize=function(u){if(void 0===u&&(u=!0),u){var v={basisWidth:this.width,basisHeight:this.height},m={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:{widthPCT:100,hightPCT:100},ResizeBasis:v,ScaleLimit:m}}else delete this.PCTResizeInfo}})(N.HtmlNodeModel),function(h){function f(){return null!==h&&h.apply(this,arguments)||this}cn(f,h),f.prototype.getControlGroup=function(){var u=this.props;return(0,N.h)(ro,{model:u.model,graphModel:u.graphModel})},f.prototype.getResizeShape=function(){return h.prototype.getShape.call(this)},f.prototype.getShape=function(){var u=this.props,d=u.model.isSelected,v=u.graphModel.editConfigModel.isSilentMode;return(0,N.h)("g",null,this.getResizeShape(),d&&!v?this.getControlGroup():"")}}(N.HtmlNode);var Ci=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),wo=function(){return wo=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},wo.apply(this,arguments)},$r=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},Ln=function(){for(var h=[],f=0;f<arguments.length;f++)h=h.concat($r(arguments[f]));return h},zr=function(h){function f(){var u=null!==h&&h.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=500,u.unfoldedHight=300,u}return Ci(f,h),f.prototype.initNodeData=function(u){var d=this;h.prototype.initNodeData.call(this,u);var v=[];Array.isArray(u.children)&&(v=u.children),this.children=new Set(v),this.width=500,this.height=300,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1e4,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,void 0===this.properties.isFolded&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){d.isFolded&&d.foldGroup(d.isFolded)})},f.prototype.getResizeOutlineStyle=function(){var u=h.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},f.prototype.foldGroup=function(u){var d=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var v=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(m){var S=d.graphModel.getElement(m);S.visible=!u,v=v.concat(S.incoming.edges.concat(S.outgoing.edges))}),this.foldEdge(u,v)},f.prototype.getAnchorStyle=function(u){var d=h.prototype.getAnchorStyle.call(this,u);return d.stroke="transparent",d.fill="transparent",d.hover.fill="transparent",d.hover.stroke="transparent",d},f.prototype.foldEdge=function(u,d){var v=this;d.forEach(function(m,S){var z=m.sourceNodeId,Z=m.targetNodeId,nt={id:m.id+"__"+S,sourceNodeId:z,targetNodeId:Z,startPoint:m.startPoint,endPoint:m.endPoint,type:m.type,properties:m.properties,text:m.text?.value};m.virtual&&v.graphModel.deleteEdgeById(m.id);var rt=v.graphModel.group.getNodeGroup(Z);rt||(rt=v.graphModel.getNodeModelById(Z));var $e=v.graphModel.group.getNodeGroup(z);$e||($e=v.graphModel.getNodeModelById(z)),u&&!1!==m.visible&&(v.children.has(z)||v.id===z?(nt.startPoint=void 0,nt.sourceNodeId=v.id):(nt.endPoint=void 0,nt.targetNodeId=v.id),(rt.id!==v.id||$e.id!==v.id)&&v.createVirtualEdge(nt),m.visible=!1),!u&&!1===m.visible&&(rt&&rt.isGroup&&rt.isFolded?(nt.targetNodeId=rt.id,nt.endPoint=void 0,v.createVirtualEdge(nt)):$e&&$e.isGroup&&$e.isFolded?(nt.sourceNodeId=$e.id,nt.startPoint=void 0,v.createVirtualEdge(nt)):m.visible=!0)})},f.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var d=this.graphModel.addEdge(u);d.virtual=!0,d.text.editable=!1,d.isFoldedEdge=!0},f.prototype.isInRange=function(u){return u.x1>=this.x-this.width/2&&u.x2<=this.x+this.width/2&&u.y1>=this.y-this.height/2&&u.y2<=this.y+this.height/2},f.prototype.isAllowMoveTo=function(u){return{x:u.x1>=this.x-this.width/2&&u.x2<=this.x+this.width/2,y:u.y1>=this.y-this.height/2&&u.y2<=this.y+this.height/2}},f.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},f.prototype.addChild=function(u){this.children.add(u)},f.prototype.removeChild=function(u){this.children.delete(u)},f.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},f.prototype.getData=function(){var u=h.prototype.getData.call(this);u.children=Ln(this.children);var d=u.properties;return delete d.groupAddable,delete d.isFolded,u},f.prototype.getHistoryData=function(){var u=h.prototype.getData.call(this);u.children=Ln(this.children),u.isGroup=!0;var d=u.properties;return delete d.groupAddable,d.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},f.prototype.isAllowAppendIn=function(u){return!0},f.prototype.toBack=function(){this.zIndex--},f}(oo.model),va=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return Ci(f,h),f.prototype.getControlGroup=function(){var u=this.props.model;return u.resizable&&!u.properties.isFolded?h.prototype.getControlGroup.call(this):null},f.prototype.getAddableShape=function(){var u=this.props.model,d=u.width,v=u.height,m=u.x,S=u.y,M=u.radius;if(!u.properties.groupAddable)return null;var Z=this.props.model.getNodeStyle().strokeWidth,F=this.props.model.getAddableOutlineStyle(),me=d+Z+8,he=v+Z+8;return(0,N.h)("rect",wo(wo({},F),{width:me,height:he,x:m-me/2,y:S-he/2,rx:M,ry:M}))},f.prototype.getFoldIcon=function(){var u=this.props.model,d=u.x-u.width/2+5,v=u.y-u.height/2+5;if(!u.foldable)return null;var m=(0,N.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(d+3)+","+(v+6)+" "+(d+11)+","+(v+6)+" M"+(d+7)+","+(v+2)+" "+(d+7)+","+(v+10):"M "+(d+3)+","+(v+6)+" "+(d+11)+","+(v+6)+" "});return(0,N.h)("g",{},[(0,N.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),m])},f.prototype.getResizeShape=function(){return(0,N.h)("g",{},[this.getAddableShape(),h.prototype.getResizeShape.call(this),this.getFoldIcon()])},f}(oo.view);const ya={type:"group",view:va,model:zr};!function(){function h(f){var u=this,d=f.lf;this.topGroupZIndex=-1e4,this.nodeGroupMap=new Map,this.graphRendered=function(v){v&&v.nodes&&v.nodes.forEach(function(m){m.children&&m.children.forEach(function(S){u.nodeGroupMap.set(S,m.id)})})},this.appendNodeToGroup=function(v){var m=v.data,S=u.nodeGroupMap.get(m.id);if(S){var M=u.lf.getNodeModelById(S);M.removeChild(m.id),u.nodeGroupMap.delete(m.id),M.setAllowAppendChild(!1)}var z=u.lf.getNodeModelById(m.id),Z=z.getBounds(),F=u.getGroup(Z,m);if(F){if(!F.isAllowAppendIn(m))return void u.lf.emit("group:not-allowed",{group:F.getData(),node:m});F.addChild(m.id),u.nodeGroupMap.set(m.id,F.id),F.setAllowAppendChild(!1),z.isGroup&&(m.children.forEach(function(he){u.nodeGroupMap.set(he,m.id)}),u.nodeSelected({data:m}))}},this.deleteGroupChild=function(v){var m=v.data;m.children&&m.children.forEach(function(z){u.nodeGroupMap.delete(z),u.lf.deleteNode(z)});var S=u.nodeGroupMap.get(m.id);S&&(u.lf.getNodeModelById(S).removeChild(m.id),u.nodeGroupMap.delete(m.id))},this.setActiveGroup=function(v){var m=v.data,S=u.lf.getNodeModelById(m.id),M=S.getBounds(),z=u.getGroup(M,m);u.activeGroup&&u.activeGroup.setAllowAppendChild(!1),!z||S.isGroup&&z.id===m.id||!z.isAllowAppendIn(m)||(u.activeGroup=z,u.activeGroup.setAllowAppendChild(!0))},this.nodeSelected=function(v){var S=u.lf.getNodeModelById(v.data.id);if(u.toFrontGroup(S),u.topGroupZIndex>-1e3){u.topGroupZIndex=-1e4;for(var M=u.lf.graphModel.nodes.filter(function(me){return me.isGroup}).sort(function(me,he){return me.zIndex-he.zIndex}),z=0,Z=0;Z<M.length;Z++){var F=M[Z];F.zIndex!==z&&(u.topGroupZIndex++,z=F.zIndex),F.setZIndex(u.topGroupZIndex)}}},this.toFrontGroup=function(v){!v||!v.isGroup||(u.topGroupZIndex++,v.setZIndex(u.topGroupZIndex),v.children&&v.children.forEach(function(m){var S=u.lf.getNodeModelById(m);u.toFrontGroup(S)}))},d.register(ya),this.lf=d,d.graphModel.addNodeMoveRules(function(v,m,S){if(v.isGroup){var M=u.getNodeAllChild(v);return d.graphModel.moveNodes(M,m,S,!0),!0}var z=d.getNodeModelById(u.nodeGroupMap.get(v.id));if(z&&z.isRestrict){var Z=v.getBounds();return z.isAllowMoveTo({x1:Z.x1+m,y1:Z.y1+S,x2:Z.x2+m,y2:Z.y2+S})}return!0}),d.graphModel.group=this,d.on("node:add,node:drop",this.appendNodeToGroup),d.on("node:delete",this.deleteGroupChild),d.on("node:dnd-drag,node:drag",this.setActiveGroup),d.on("node:click",this.nodeSelected),d.on("graph:rendered",this.graphRendered)}h.prototype.getNodeAllChild=function(f){var u=this,d=[];return f.children&&f.children.forEach(function(v){d.push(v);var m=u.lf.getNodeModelById(v);m.isGroup&&(d=d.concat(u.getNodeAllChild(m)))}),d},h.prototype.getGroup=function(f,u){var v=this.lf.graphModel.nodes.filter(function(M){return M.isGroup&&M.isInRange(f)&&M.id!==u.id});if(0!==v.length){if(1===v.length)return v[0];for(var m=v[v.length-1],S=v.length-2;S>=0;S--)v[S].zIndex>m.zIndex&&(m=v[S]);return m}},h.prototype.getNodeGroup=function(f){var u=this.nodeGroupMap.get(f);if(u)return this.lf.getNodeModelById(u)},h.pluginName="group"}();var ma=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},Qt=function(){for(var h=[],f=0;f<arguments.length;f++)h=h.concat(ma(arguments[f]));return h},uo=(function(){function h(f){var u=this,d=f.lf;this.lf=d,this.pathes=[],d.getPathes=function(){if(!u.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5b9a\u5f00\u59cb\u8282\u70b9\u7c7b\u578b");return u.getPathes()},d.setRawPathes=function(v){u.setPathes(v)},d.getRawPathes=function(){return u.pathes},d.setStartNodeType=function(v){u.startNodeType=v}}h.prototype.setPathes=function(f){this.pathes=f.map(function(u){return{routeId:u.routeId,name:u.name,elements:u.elements,type:u.type,similarElement:null,weight:0}})},h.prototype.getPathes=function(){var f=this,u=this.lf.getGraphRawData(),d=new Map,v=[];u.nodes.forEach(function(S){d.set(S.id,{id:S.id,data:S,nextNodes:[]}),S.type===f.startNodeType&&v.push(S.id)}),u.edges.forEach(function(S){d.get(S.sourceNodeId).nextNodes.push(S.targetNodeId)});var m=[];return v.forEach(function(S){m=m.concat(f.findPathElements(d.get(S),d,[]))}),this.getNewPathes(m)},h.prototype.findPathElements=function(f,u,d){void 0===d&&(d=[]);var v=Qt(d);if(v.push(f.id),0===f.nextNodes.length)return[v];for(var m=[],S=0;S<f.nextNodes.length;S++){var z,M=u.get(f.nextNodes[S]),Z=v.indexOf(M.id);z=-1!==Z?[Qt(v.slice(Z),[M.id])]:this.findPathElements(M,u,Qt(v)),m=m.concat(z)}return m},h.prototype.getNewPathes=function(f){var u=this,d=[],v=new Set;f.forEach(function(S){var M=u.getNewId("path"),z=u.getNewId("\u8def\u5f84"),Z=u.isLoopPath(S),F=S.join(",");v.has(F)||(v.add(F),d.push({routeId:M,name:z,elements:S,type:Z,weight:0,similarElement:""}))});var m=JSON.parse(JSON.stringify(this.pathes));return d.forEach(function(S){for(var M=0;M<m.length;M++){var z=m[M],Z=u.similar2Path(Qt(S.elements),Qt(z.elements));Z>S.weight&&z.weight<=Z&&(S.weight=Z,S.similarElement=z,Z===z.weight&&z.similarElement?(z.similarElement.similarElement=null,z.similarElement.weight=0,z.similarElement=null,z.weight=0):(z.similarElement=S,z.weight=Z))}}),d.forEach(function(S){S.similarElement&&S.similarElement.similarElement===S&&(S.routeId=S.similarElement.routeId,S.name=S.similarElement.name),delete S.similarElement,delete S.weight}),this.setPathes(d),d},h.prototype.similar2Path=function(f,u){var d=0,v=f.length+u.length;f.sort(),u.sort();for(var m=f.shift(),S=u.shift();void 0!==m&&void 0!==S;)m===S?(d++,m=f.shift(),S=u.shift()):m<S?m=f.shift():m>S&&(S=u.shift());return d/v*200},h.prototype.getNewId=function(f){return f+"_"+C()},h.prototype.isLoopPath=function(f){var u=f.length;return f.indexOf(f[u-1])!==u-1?1:0},h.pluginName="flowPath"}(),function(){return uo=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},uo.apply(this,arguments)}),lo=(function(){function h(f){var u=this,d=f.lf;this.lf=d,this.trunk=[],d.layout=function(v){var m=u.lf.getGraphRawData();u.lf.setStartNodeType(v);var S=u.lf.getPathes();return u.levelHeight=[],u.newNodeMap=new Map,u.layout(m,S)}}h.prototype.layout=function(f,u){var d=this,v=[];u.forEach(function(z){var Z=z.elements;Z.length>v.length?v=Z:Z.length===v.length&&JSON.stringify(Z)===JSON.stringify(d.trunk)&&(v=d.trunk)}),this.trunk=v;for(var m=this.formatData(f),S={nodes:[],edges:[]},M=v.length-1;M>=0;M--)this.setNodePosition(v[M],m,S,M,1);this.lf.graphModel.graphDataToModel(S)},h.prototype.setNodePosition=function(f,u,d,v,m){var S=this,M=u[f],z=M.text,Z=M.type,F=M.next,he=160*v+40,Oe=120*m,Ie={id:f,x:he,text:z,y:Oe,type:Z,properties:M.properties};return z&&"object"==typeof z&&(Ie.text=uo(uo({},z),{x:he+z.x,y:Oe+z.y})),this.newNodeMap.set(Ie.id,{x:Ie.x,y:Ie.y,type:Z}),d.nodes.push(Ie),M.isFixed=!0,this.addLevelHeight(v,1),F&&F.length>0&&F.forEach(function(nt){if(!u[nt.nodeId].isFixed){var $e=S.getLevelHeight(v+1);S.addLevelHeight(v,1),S.setNodePosition(nt.nodeId,u,d,v+1,$e+1)}d.edges.push(uo({id:nt.edgeId,type:nt.edgeType,sourceNodeId:f,targetNodeId:nt.nodeId,properties:nt.properties,text:nt.text},S.getEdgeDataPoints(f,nt.nodeId)))}),Ie},h.prototype.getEdgeDataPoints=function(f,u){var d=this.newNodeMap.get(f),v=this.newNodeMap.get(u),m=this.getShape(f),S=m.width,M=m.height,z=this.getShape(u),Z=z.width,F=z.height,me=this.getRelativePosition(d,v),he={x:d.x,y:d.y},Oe={x:v.x,y:v.y};switch(me){case 0:he.x=d.x+S/2,Oe.x=v.x-Z/2;break;case-1:he.y=d.y+M/2,Oe.x=v.x-Z/2;break;case 1:he.x=d.x+S/2,Oe.y=v.y+F/2}return{startPoint:he,endPoint:Oe}},h.prototype.getRelativePosition=function(f,u){var d=f.y,v=u.y;return d<v?-1:d===v?0:1},h.prototype.getShape=function(f){var u=this.lf.getNodeModelById(f);return{height:u.height,width:u.width}},h.prototype.formatData=function(f){var u=f.nodes.reduce(function(d,v){var m=v.type,S=v.properties,M=v.text,Z=v.y;return M&&"object"==typeof M&&(M.x=M.x-v.x,M.y=M.y-Z),d[v.id]={type:m,properties:S,text:M,prev:[],next:[]},d},{});return f.edges.forEach(function(d){var v=d.sourceNodeId,m=d.targetNodeId,S=d.id,M=d.properties,z=d.text,Z=z;"object"==typeof z&&(Z=z.value),u[v].next.push({edgeId:S,nodeId:m,edgeType:d.type,properties:M,text:Z}),u[m].prev.push({edgeId:S,nodeId:v,properties:M,text:Z})}),u},h.prototype.addLevelHeight=function(f,u,d){void 0===u&&(u=1),void 0===d&&(d=!1);var v=this.levelHeight[f];v||(this.levelHeight[f]=v={positiveHeight:0,negativeHeight:0}),d?v.negativeHeight-=u:v.positiveHeight+=u},h.prototype.getLevelHeight=function(f,u){void 0===u&&(u=!1);var d=this.levelHeight[f];return d?u?d.negativeHeight:d.positiveHeight:0},h.pluginName="AutoLayout"}(),function(){return lo=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},lo.apply(this,arguments)}),ba=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},pn=function(){for(var h=[],f=0;f<arguments.length;f++)h=h.concat(ba(arguments[f]));return h};!function(){function h(f){var u=f.lf;this.mode="path",this.manual=!1,this.tempStyles={},this.lf=u}h.prototype.setMode=function(f){this.mode=f},h.prototype.setManual=function(f){this.manual=f},h.prototype.highlightSingle=function(f){var u=this.lf.getModelById(f);"node"===u.BaseType?u.updateStyles(this.tempStyles[f]):"edge"===u.BaseType&&(u.updateStyles(this.tempStyles[f]),u.sourceNode.updateStyles(this.tempStyles[u.sourceNode.id]),u.targetNode.updateStyles(this.tempStyles[u.targetNode.id]))},h.prototype.highlightPath=function(f){var u=this,d=function(h,f){var u=f.getModelById(h);return function(h,f){var u=[],d=[],v=function(S,M,z){void 0===z&&(z=null),z&&M.unshift.apply(M,pn(f.getEdgeModels({sourceNodeId:S.id,targetNodeId:z.id}).map(function(Z){return Z.id}))),M.includes(S.id)?u.push(M):(M.unshift(S.id),S.incoming.nodes.length?S.incoming.nodes.forEach(function(Z){v(Z,M.slice(),S)}):u.push(M))},m=function(S,M,z){void 0===z&&(z=null),z&&M.push.apply(M,pn(f.getEdgeModels({sourceNodeId:z.id,targetNodeId:S.id}).map(function(Z){return Z.id}))),M.includes(S.id)?d.push(M):(M.push(S.id),S.outgoing.nodes.length?S.outgoing.nodes.forEach(function(Z){m(Z,M.slice(),S)}):d.push(M))};return v(h,[]),m(h,[]),pn(new Set(pn(u.flat(),d.flat())))}("node"===u.BaseType?u:u.targetNode,f)}(f,this.lf);d.forEach(function(v){u.lf.getModelById(v).updateStyles(u.tempStyles[v])})},h.prototype.highlight=function(f,u){var d=this;void 0===u&&(u=this.mode),this.manual||(Object.keys(this.tempStyles).length&&this.restoreHighlight(),Object.values(this.lf.graphModel.modelsMap).forEach(function(m){var S="node"===m.BaseType?m.getNodeStyle():m.getEdgeStyle();d.tempStyles[m.id]=lo({},S),m.setStyles({opacity:.1})}),{single:this.highlightSingle.bind(this),path:this.highlightPath.bind(this)}[u](f))},h.prototype.restoreHighlight=function(){var f=this;!Object.keys(this.tempStyles).length||(Object.values(this.lf.graphModel.modelsMap).forEach(function(u){var d,v=null!==(d=f.tempStyles[u.id])&&void 0!==d?d:{};u.updateStyles(lo({},v))}),this.tempStyles={})},h.prototype.render=function(f,u){var d=this;this.lf.on("node:mouseenter",function(v){return d.highlight(v.data.id)}),this.lf.on("edge:mouseenter",function(v){return d.highlight(v.data.id)}),this.lf.on("node:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("edge:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("history:change",this.restoreHighlight.bind(this))},h.prototype.destroy=function(){},h.pluginName="highlight"}()},2027:($a,Rr,D)=>{"use strict";D.d(Rr,{N:()=>a});var N=D(1571);let a=(()=>{class b{constructor(){}ngOnInit(){}downloadXml(){const P=this.lf.getGraphData();this.download("logic-flow.xml",P)}downloadImage(){this.lf.getSnapshot()}uploadXml(P){const T=P.target.files[0],C=new FileReader;C.onload=L=>{L.target&&this.lf.render(L.target.result)},C.readAsText(T)}getGraphRawData(){const P=JSON.stringify(this.lf.getGraphRawData());this.download("logic-flow.txt",P)}download(P,T){var C=document.createElement("a");C.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(T)),C.setAttribute("download",P),C.style.display="none",document.body.appendChild(C),C.click(),document.body.removeChild(C)}isJSON(P){if("string"==typeof P)try{var T=JSON.parse(P);return!("object"!=typeof T||!T)}catch(C){return console.log("error\uff1a"+P+"!!!"+C),!1}return console.log("It is not a string!"),!1}}return b.\u0275fac=function(P){return new(P||b)},b.\u0275cmp=N.Xpm({type:b,selectors:[["app-bpnm-data-panel"]],inputs:{lf:"lf"},decls:10,vars:0,consts:[[1,"data-panel"],["title","\u4e0b\u8f7dXML\u683c\u5f0f\u6570\u636e",1,"data-item",3,"mousedown"],[1,"data-item-icon","bpmn-xml"],["title","\u4e0b\u8f7d\u56fe\u7247\u683c\u5f0f\u6570\u636e",1,"data-item",3,"mousedown"],[1,"data-item-icon","bpmn-img"],[1,"data-item"],["type","file","title","\u4e0a\u4f20XML\u683c\u5f0f\u6570\u636e",1,"data-upload",3,"change"],[1,"data-item-icon","bpmn-upload"],["title","\u4e0b\u8f7dJSON\u683c\u5f0f\u6570\u636e",1,"data-item",3,"mousedown"],[1,"data-item-icon","bpmn-look"]],template:function(P,T){1&P&&(N.TgZ(0,"div",0)(1,"div",1),N.NdJ("mousedown",function(){return T.downloadXml()}),N._UZ(2,"div",2),N.qZA(),N.TgZ(3,"div",3),N.NdJ("mousedown",function(){return T.downloadImage()}),N._UZ(4,"div",4),N.qZA(),N.TgZ(5,"div",5)(6,"input",6),N.NdJ("change",function(L){return T.uploadXml(L)}),N.qZA(),N._UZ(7,"div",7),N.qZA(),N.TgZ(8,"div",8),N.NdJ("mousedown",function(){return T.getGraphRawData()}),N._UZ(9,"div",9),N.qZA()())},styles:[".data-panel[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px;height:20px;width:auto;padding:10px;background-color:#fff;box-shadow:0 0 10px 1px #e4e0db;border-radius:6px;text-align:center;z-index:101}.data-item[_ngcontent-%COMP%]{margin:0 5px;display:inline-block;position:relative}.data-item-icon[_ngcontent-%COMP%]{width:20px;height:20px;background-size:cover}.data-label[_ngcontent-%COMP%]{font-size:12px;margin-top:5px;-webkit-user-select:none;user-select:none}.data-upload[_ngcontent-%COMP%]{opacity:0;position:absolute;width:20px;height:20px;left:0;right:0}.bpmn-xml[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABqUlEQVQ4T92Uv0tbURTHPyevUwc3qUshU/8DBzOYmwiFDlK6dHKwVHBwUKjUoleS4Ku0UkEHB6HSDp1cpHRwSnKz1KH/QaeAS0txcXDy5ciNL5LEF4k/oOBZHvfdcz/33O/53ivccUgvnrFaBAo95ksuFD9/Kf4LMOdCcb4UY9UAVeBWFd5XoHmnaQIKCOm21nnNko7c1LQZSp2IkvsgdT+86PLYoj6KUvzp8sGvIGCiXJLf/v9YQZ9EEd+A4fa8oMFQeVX+dgD9IG8134CvwGMV1morspDkteyyfhTlLXCYgslKKJVW3iUfxlV46Aiw40KZaocaq5+B18BBEDDZqv4CmLO6pnDS7vzxoj48PuWLwEuU7ymY8QsasIXwXGF34AGvfhTlpAUatfo0BRkxVhVwLpRc9/GM1U/AG4WfsT4ZYN2FMp+Q6w1vrgTGt2MW2IgBcy6UzSRdjdX+gH5xdlGf+W9tVfaTYPHG/QN7QbqadQ7MWj0S5ZiIXMuc/QA6YOeXoqrCgNfwqnfvuuxS04fZJd0W4QUweF1CnP9Plb3ae5nu+cDeEMwZu/TFGsleoRIAAAAASUVORK5CYII=) center center no-repeat;cursor:grab}.bpmn-img[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAB80lEQVQ4T62SP2hTURTGf997Qx1F1EFQ61DpWAcHhyY3zrpp0EEoaEGnuta80MSXttBRhw4W2iC6xEWdCsJ7qf/G6uCgg3TQRaE6OEmSI+/ZFBJjU9p804V7z+9+55xPDFgaMA+5wC5g3EcM7xP+AXiiXGCPDD4B9X0CncRk4jCSKEWhUqALzJlxOTlL1OKK4t18lNQBUQfQzdhBmkTAe8Fvg7P45OKyfvaD9gRmC3ZVHnNxqFMJIBtY1ROrUajH/YC5omXNiDsd3rExPNbNyEt8B57TYjye07s9AdMZFm0RYyIFiJU41K1esLRFn1dxWY3kvqfDduH4tB1Jzi/nlbjsUCawEQ8WgBHE5yGPidWyNncEZgp23BPX8VmKy/rSJrqi3cSYB576PgutJsst+GVwwxcn/pnhlvW8GRXgq8FpjNv1WdVcYDXgksRUFOpe8vZ8wU62xAowJDG9DQTK33zeHG2mrUxhFONZVVzBAkQI/ACa5pGv31USq225kh22BlXBMWAs3XIC5O9cDpm4Vg/1tl2RLdo5jBeCTYkrUajX3XN1M3aAJg/TDraADrEUh5r8XzxcwZ4hLgpGo4o+dr/rXsqD3YQ3U7Qza6HWe33aAaRFFY+NfuHd8b7FMB7LciUbpcEakGZvzzI2ULqcwWrgwD/S1/2fF41d/wAAAABJRU5ErkJggg==) center center no-repeat;cursor:grab}.bpmn-upload[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAPpJREFUOE/t1MERgjAQBdC/XWTGDtAOPNmDUIQ1GEVjDRYh9uDJDtQOnNmjHawTDBgQCDoczY2BffPZTUIYeNHAHnqBSssdwIMNjUMBgqDScgAQOyhjQ0kX2gl62NUhNmEn2gqWGCGBYJGDhD0ENnEr2gj6GG8pU1pO1mNDM7WSuAttAwWExGIW8sH82aFs6KM+OJQm8OehFIX1hH+w0oFyKCqViFO6NfUnn6rdNm7q9W/82jeo5QLBkXeUhs6r/14tJQVhzoYmr73vltIiEGx+BNfFnvRBe6OcIWj87dbUhAjAlA2NqglddADBK6qGX/1W9Top3/R0cPAJtuF4FVy0lcoAAAAASUVORK5CYII=) center center no-repeat;cursor:grab}.bpmn-look[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAnRJREFUOE+tlD9oU1EUh7/TF2qjHVSkeZUOIkqlLe3goIuiiyJUFKTVUR0ERYdCUSlJfSahqBQ6KAoO6qgGQbEguih10cGhpS2KIg7F3hRRh2pqycuRmyZpkv5JBe947znfPb97zu8K/3lJJd4mT2tmYLONq4HPXzyZWS5nUeCWc7pqeh0DKLuB5jLAGMJQ7Q+6Pl2XP+XwBcBQrx4V5TYwC1wVZcTPMGwTnSraVGgFLgDVKpxKRuVBMbQEGIroDoE3wOuAw+EJT74vJq/B0/Vpn8fALoWdyZi8zcfNAz0NuD4TwDMTkxOV3taeuxG9CxwwDg14krZ7BaDbq/0oRzRFS7Jffq0EGOrWNRJkFOGRiUp3KTCi74E7JibXVgLLx7gRPQ+cNDHZVgA2dGkwXctvVQ4m4zJYDHTDusfE5VUB0KsdKA9R9tr9UFjbRXgamGb1xICkspLrerS1ymE47bPxW59MFpLD6iFcAhImJp3uPOyyiYtn4zb0aH3A4WvGp22qT0ayQNfTJnzGMj7uVJ8ks3t5mNCZrQgSgK2uAMsVE6pyMDg0G0/Gs8CsG3xSouyfjMsLKxPhJUKniUpiscryKurDuk+F5zUOQeui+S5HdBS4Z2LS/49Nsd09bmLSUj42N1E6Ag6NSw10+UW5Af+AkDBROVMCzPp3LVPAsImJ9XDF5UZ0CGir/Uld3tel1pvz8X0rXVOcXWrAcwN9w0pV4Vixnxd+DnN+fgKkgFuqjPsZ3uU+h+0iNAGngaDCoWIfl0gu0Wd9neEKSjvQWKbdvtmgqeJi3r/F5xU/WOui2SBbbVJ1io/WDcs9bkVgxc6UBfwFYNYAJBo0vLQAAAAASUVORK5CYII=) center center no-repeat;cursor:grab}"]}),b})()},4466:($a,Rr,D)=>{"use strict";D.d(Rr,{m:()=>C});var N=D(6895),b=(D(2027),D(1571));const y=[N.ez];let C=(()=>{class L{}return L.\u0275fac=function(X){return new(X||L)},L.\u0275mod=b.oAB({type:L}),L.\u0275inj=b.cJS({imports:[y]}),L})()}}]);